//! Builtin dispatch registry for non-executing builtin name checks.
//!
//! This table is consumed by predicates like `fboundp` so they can answer
//! whether a symbol names a builtin without executing the builtin.

/// Names recognized by `dispatch_builtin` in `builtins.rs`.
const DISPATCH_BUILTIN_NAMES: &[&str] = &[
    "%",
    "*",
    "+",
    "-",
    "/",
    "/=",
    "1+",
    "1-",
    "<",
    "<=",
    "=",
    ">",
    ">=",
    "Snarf-documentation",
    "abbrev-expansion",
    "abbrev-mode",
    "abbrev-table-p",
    "abort-recursive-edit",
    "abs",
    "add-hook",
    "add-name-to-file",
    "add-text-properties",
    "add-variable-watcher",
    "advice-add",
    "advice-member-p",
    "advice-remove",
    "all-threads",
    "append",
    "apply",
    "ash",
    "assoc",
    "assoc-default",
    "assq",
    "auto-composition-mode",
    "autoload-do-load",
    "autoloadp",
    "back-to-indentation",
    "backtrace-frame",
    "backward-char",
    "backward-kill-word",
    "backward-sexp",
    "backward-word",
    "base64-decode-string",
    "base64-encode-string",
    "base64url-encode-string",
    "beginning-of-line",
    "move-beginning-of-line",
    "bignump",
    "bobp",
    "bolp",
    "bookmark-delete",
    "bookmark-jump",
    "bookmark-load",
    "bookmark-rename",
    "bookmark-save",
    "bookmark-set",
    "bool-vector-count-population",
    "bool-vector-exclusive-or",
    "bool-vector-intersection",
    "bool-vector-p",
    "bool-vector-subsetp",
    "bool-vector-union",
    "boundp",
    "bounds-of-thing-at-point",
    "buffer-disable-undo",
    "buffer-enable-undo",
    "buffer-file-name",
    "buffer-hash",
    "buffer-list",
    "buffer-local-value",
    "buffer-local-variables",
    "buffer-modified-p",
    "buffer-name",
    "buffer-size",
    "buffer-string",
    "buffer-substring",
    "buffer-substring-no-properties",
    "byte-code-function-p",
    "call-interactively",
    "call-last-kbd-macro",
    "call-process",
    "call-process-region",
    "called-interactively-p",
    "cancel-timer",
    "capitalize",
    "capitalize-region",
    "capitalize-word",
    "car",
    "car-safe",
    "case-table-p",
    "category-docstring",
    "category-table",
    "category-table-p",
    "ccl-execute",
    "ccl-execute-on-string",
    "ccl-program-p",
    "cdr",
    "cdr-safe",
    "char-after",
    "char-before",
    "char-category-set",
    "char-charset",
    "char-or-string-p",
    "char-resolve-modifiers",
    "char-syntax",
    "char-table-extra-slot",
    "char-table-p",
    "char-table-parent",
    "char-table-range",
    "char-table-subtype",
    "char-width",
    "charset-after",
    "charset-id-internal",
    "charset-plist",
    "charset-priority-list",
    "charsetp",
    "check-coding-system",
    "clear-abbrev-table",
    "clear-charset-maps",
    "clear-composition-cache",
    "clear-font-cache",
    "clear-image-cache",
    "clear-rectangle",
    "closurep",
    "coding-system-aliases",
    "coding-system-base",
    "coding-system-change-eol-conversion",
    "coding-system-change-text-conversion",
    "coding-system-eol-type",
    "coding-system-get",
    "coding-system-list",
    "coding-system-p",
    "coding-system-priority-list",
    "coding-system-put",
    "coding-system-type",
    "color-defined-p",
    "color-values",
    "command-execute",
    "commandp",
    "compare-strings",
    "compiled-function-p",
    "completing-read",
    "compose-region-internal",
    "compose-string-internal",
    "composition-get-gstring",
    "composition-sort-rules",
    "condition-notify",
    "condition-variable-p",
    "condition-wait",
    "cons",
    "controlling-tty-p",
    "copy-alist",
    "copy-file",
    "copy-hash-table",
    "copy-marker",
    "copy-region-as-kill",
    "copy-sequence",
    "copy-to-register",
    "copysign",
    "count-lines",
    "create-image",
    "current-bidi-paragraph-direction",
    "current-buffer",
    "current-case-table",
    "current-column",
    "current-global-map",
    "current-indentation",
    "current-kill",
    "current-local-map",
    "current-thread",
    "current-time",
    "current-time-string",
    "current-time-zone",
    "custom-set-faces",
    "custom-set-variables",
    "custom-variable-p",
    "deactivate-mark",
    "decode-char",
    "decode-coding-string",
    "decode-time",
    "default-file-modes",
    "default-value",
    "define-abbrev",
    "define-abbrev-table",
    "define-category",
    "define-charset-internal",
    "define-coding-system-alias",
    "define-key",
    "defined-colors",
    "delete-char",
    "delete-directory",
    "delete-extract-rectangle",
    "delete-file",
    "delete-frame",
    "delete-horizontal-space",
    "delete-indentation",
    "delete-other-windows",
    "delete-overlay",
    "delete-process",
    "delete-rectangle",
    "delete-region",
    "delete-window",
    "describe-function",
    "describe-key-briefly",
    "describe-variable",
    "detect-coding-region",
    "detect-coding-string",
    "directory-file-name",
    "directory-files",
    "directory-files-and-attributes",
    "directory-name-p",
    "ding",
    "display-backing-store",
    "display-buffer",
    "display-color-cells",
    "display-color-p",
    "display-graphic-p",
    "display-images-p",
    "display-mm-height",
    "display-mm-width",
    "display-monitor-attributes-list",
    "display-pixel-height",
    "display-pixel-width",
    "display-planes",
    "display-screens",
    "display-supports-face-attributes-p",
    "display-visual-class",
    "documentation",
    "documentation-property",
    "downcase-region",
    "downcase-word",
    "emacs-pid",
    "emacs-version",
    "encode-char",
    "encode-coding-string",
    "encode-time",
    "end-kbd-macro",
    "end-of-line",
    "move-end-of-line",
    "eobp",
    "eolp",
    "equal-including-properties",
    "erase-buffer",
    "error",
    "error-message-string",
    "eval",
    "eval-buffer",
    "eval-expression",
    "eval-region",
    "exchange-point-and-mark",
    "execute-extended-command",
    "execute-kbd-macro",
    "exit-minibuffer",
    "exit-recursive-edit",
    "expand-abbrev",
    "expand-file-name",
    "extract-rectangle",
    "face-attribute-relative-p",
    "face-font",
    "face-id",
    "face-list",
    "fboundp",
    "fceiling",
    "featurep",
    "ffloor",
    "file-attributes",
    "file-attributes-lessp",
    "file-directory-p",
    "file-equal-p",
    "file-exists-p",
    "file-in-directory-p",
    "file-name-absolute-p",
    "file-name-all-completions",
    "file-name-as-directory",
    "file-name-completion",
    "file-name-concat",
    "file-name-directory",
    "file-name-extension",
    "file-name-case-insensitive-p",
    "file-modes",
    "file-name-nondirectory",
    "file-name-sans-extension",
    "file-newer-than-file-p",
    "file-readable-p",
    "file-regular-p",
    "file-symlink-p",
    "file-truename",
    "file-writable-p",
    "find-charset-region",
    "find-charset-string",
    "find-composition-internal",
    "find-file",
    "find-file-noselect",
    "find-font",
    "fixnump",
    "flatten-tree",
    "float-time",
    "flush-lines",
    "fmakunbound",
    "following-char",
    "font-family-list",
    "font-get",
    "font-put",
    "font-spec",
    "font-xlfd-name",
    "fontp",
    "format-mode-line",
    "format-seconds",
    "format-spec",
    "format-time-string",
    "forward-char",
    "forward-line",
    "forward-sexp",
    "forward-word",
    "frame-list",
    "frame-live-p",
    "frame-monitor-attributes",
    "frame-parameter",
    "frame-parameters",
    "frame-terminal",
    "frame-visible-p",
    "framep",
    "frexp",
    "fround",
    "fset",
    "ftruncate",
    "func-arity",
    "garbage-collect",
    "generate-new-buffer",
    "generate-new-buffer-name",
    "gensym",
    "get",
    "get-buffer",
    "get-buffer-create",
    "get-file-buffer",
    "get-byte",
    "get-char-property",
    "get-load-suffixes",
    "get-register",
    "get-text-property",
    "get-unused-category",
    "getenv",
    "global-key-binding",
    "global-set-key",
    "goto-char",
    "goto-line",
    "group-gid",
    "group-real-gid",
    "hash-table-rehash-size",
    "hash-table-rehash-threshold",
    "hash-table-size",
    "hash-table-test",
    "hash-table-weakness",
    "help-function-arglist",
    "identity",
    "ignore",
    "image-flush",
    "image-mask-p",
    "image-size",
    "image-transforms-p",
    "image-type",
    "image-type-available-p",
    "increment-register",
    "indent-according-to-mode",
    "indent-for-tab-command",
    "indent-line-to",
    "indent-region",
    "indent-rigidly",
    "indent-to",
    "indirect-function",
    "insert",
    "insert-abbrev-table-description",
    "insert-before-markers",
    "insert-file-contents",
    "insert-image",
    "insert-kbd-macro",
    "insert-rectangle",
    "insert-register",
    "interactive-p",
    "intern",
    "intern-soft",
    "internal-copy-lisp-face",
    "internal-face-x-get-resource",
    "internal-get-lisp-face-attribute",
    "internal-make-lisp-face",
    "internal-lisp-face-attribute-values",
    "internal-lisp-face-empty-p",
    "internal-lisp-face-equal-p",
    "internal-lisp-face-p",
    "internal-show-cursor",
    "internal-show-cursor-p",
    "internal-merge-in-global-face",
    "internal-set-alternative-font-family-alist",
    "internal-set-alternative-font-registry-alist",
    "internal-set-font-selection-order",
    "internal-set-lisp-face-attribute",
    "interpreted-function-p",
    "invisible-p",
    "json-insert",
    "json-parse-buffer",
    "json-parse-string",
    "json-serialize",
    "just-one-space",
    "kbd",
    "kbd-macro-query",
    "keep-lines",
    "key-binding",
    "keyboard-coding-system",
    "keyboard-quit",
    "keymap-parent",
    "keymapp",
    "kill-append",
    "kill-buffer",
    "kill-line",
    "kill-local-variable",
    "kill-new",
    "kill-rectangle",
    "kill-region",
    "kill-ring-save",
    "kill-whole-line",
    "kill-word",
    "ldexp",
    "last-nonminibuffer-frame",
    "length",
    "libxml-available-p",
    "libxml-parse-html-region",
    "libxml-parse-xml-region",
    "line-beginning-position",
    "line-end-position",
    "line-number-at-pos",
    "line-number-display-width",
    "line-pixel-height",
    "list",
    "list-fonts",
    "load",
    "load-file",
    "local-key-binding",
    "local-set-key",
    "local-variable-p",
    "locale-info",
    "locate-file",
    "locate-file-internal",
    "logand",
    "logb",
    "logior",
    "lognot",
    "logxor",
    "long-line-optimizations-p",
    "looking-at",
    "looking-at-p",
    "lookup-image-map",
    "lookup-key",
    "macrop",
    "make-bool-vector",
    "make-category-set",
    "make-category-table",
    "make-char-table",
    "make-condition-variable",
    "make-directory",
    "make-frame",
    "make-keymap",
    "make-list",
    "make-local-variable",
    "make-marker",
    "make-mutex",
    "make-nearby-temp-file",
    "make-overlay",
    "make-sparse-keymap",
    "make-symbol",
    "make-symbolic-link",
    "make-syntax-table",
    "make-temp-file",
    "make-thread",
    "make-variable-buffer-local",
    "makunbound",
    "map-char-table",
    "mapatoms",
    "mapc",
    "mapcan",
    "mapcar",
    "mapconcat",
    "maphash",
    "mark",
    "mark-marker",
    "marker-buffer",
    "marker-insertion-type",
    "marker-position",
    "markerp",
    "match-beginning",
    "match-data",
    "match-end",
    "match-string",
    "max",
    "max-char",
    "md5",
    "member",
    "memory-use-counts",
    "memq",
    "merge-face-attribute",
    "message",
    "min",
    "minibuffer-contents",
    "minibuffer-contents-no-properties",
    "minibuffer-depth",
    "minibuffer-prompt",
    "minibufferp",
    "minor-mode-key-binding",
    "mod",
    "modify-category-entry",
    "modify-frame-parameters",
    "modify-syntax-entry",
    "move-overlay",
    "move-point-visually",
    "move-to-column",
    "move-to-window-line",
    "multibyte-char-to-unibyte",
    "multibyte-string-p",
    "mutex-name",
    "mutex-lock",
    "mutex-unlock",
    "mutexp",
    "name-last-kbd-macro",
    "narrow-to-region",
    "natnump",
    "neovm-precompile-file",
    "newline",
    "newline-and-indent",
    "next-line",
    "next-property-change",
    "next-single-property-change",
    "next-window",
    "nreverse",
    "nth",
    "nthcdr",
    "number-to-register",
    "open-line",
    "open-rectangle",
    "open-termscript",
    "other-window",
    "overlay-buffer",
    "overlay-end",
    "overlay-get",
    "overlay-properties",
    "overlay-put",
    "overlay-start",
    "overlayp",
    "overlays-at",
    "overlays-in",
    "plist-get",
    "plist-put",
    "point",
    "point-marker",
    "point-max",
    "point-max-marker",
    "point-min",
    "point-min-marker",
    "point-to-register",
    "pop-mark",
    "pop-to-buffer",
    "pos-visible-in-window-p",
    "posix-search-backward",
    "posix-search-forward",
    "preceding-char",
    "previous-line",
    "previous-single-property-change",
    "previous-window",
    "primitive-undo",
    "prin1",
    "prin1-to-string",
    "princ",
    "print",
    "process-buffer",
    "process-exit-status",
    "process-list",
    "process-name",
    "process-send-string",
    "process-status",
    "proper-list-p",
    "propertize",
    "push-mark",
    "put",
    "put-image",
    "put-text-property",
    "quoted-insert",
    "rassoc",
    "rassq",
    "re-search-backward",
    "re-search-forward",
    "read",
    "read-char",
    "read-char-exclusive",
    "read-buffer",
    "read-coding-system",
    "read-command",
    "read-directory-name",
    "read-event",
    "read-file-name",
    "read-from-minibuffer",
    "read-from-string",
    "read-key",
    "read-key-sequence",
    "read-key-sequence-vector",
    "read-non-nil-coding-system",
    "read-number",
    "read-string",
    "read-variable",
    "recursive-edit",
    "recenter-top-bottom",
    "recursion-depth",
    "regexp-quote",
    "region-beginning",
    "region-end",
    "register-ccl-program",
    "register-code-conversion-map",
    "reindent-then-newline-and-indent",
    "remove",
    "remove-hook",
    "remove-images",
    "remove-overlays",
    "remove-text-properties",
    "remove-variable-watcher",
    "remq",
    "rename-file",
    "replace-match",
    "replace-regexp",
    "replace-string",
    "replace-rectangle",
    "replace-regexp-in-string",
    "redraw-display",
    "redraw-frame",
    "resume-tty",
    "reverse",
    "run-at-time",
    "run-hook-with-args",
    "run-hooks",
    "run-with-idle-timer",
    "run-with-timer",
    "save-buffer",
    "safe-date-to-time",
    "safe-length",
    "scroll-down-command",
    "scroll-up-command",
    "search-backward",
    "search-forward",
    "secure-hash",
    "send-string-to-terminal",
    "select-window",
    "selected-frame",
    "selected-window",
    "seq-concatenate",
    "seq-contains-p",
    "seq-count",
    "seq-do",
    "seq-drop",
    "seq-empty-p",
    "seq-every-p",
    "seq-into",
    "seq-length",
    "seq-mapn",
    "seq-max",
    "seq-min",
    "seq-position",
    "seq-reduce",
    "seq-reverse",
    "seq-some",
    "seq-sort",
    "seq-subseq",
    "seq-take",
    "seq-uniq",
    "set",
    "set-buffer",
    "set-buffer-modified-p",
    "set-case-table",
    "set-category-table",
    "set-char-table-extra-slot",
    "set-char-table-parent",
    "set-char-table-range",
    "set-charset-priority",
    "set-coding-system-priority",
    "set-default",
    "set-default-file-modes",
    "set-file-modes",
    "set-file-times",
    "set-keyboard-coding-system",
    "set-keymap-parent",
    "set-mark",
    "set-mark-command",
    "set-marker",
    "set-marker-insertion-type",
    "set-match-data",
    "set-register",
    "set-standard-case-table",
    "set-terminal-coding-system",
    "set-terminal-parameter",
    "set-time-zone-rule",
    "set-window-buffer",
    "set-window-dedicated-p",
    "set-window-point",
    "set-window-start",
    "setcar",
    "setcdr",
    "setenv",
    "self-insert-command",
    "shell-command-to-string",
    "signal",
    "sit-for",
    "sleep-for",
    "skip-chars-backward",
    "skip-chars-forward",
    "skip-syntax-backward",
    "skip-syntax-forward",
    "sort",
    "special-form-p",
    "split-window",
    "standard-case-table",
    "standard-category-table",
    "start-kbd-macro",
    "start-process",
    "store-kbd-macro-event",
    "string",
    "string-as-multibyte",
    "string-as-unibyte",
    "string-blank-p",
    "string-chop-newline",
    "string-clean-whitespace",
    "string-collate-equalp",
    "string-collate-lessp",
    "string-empty-p",
    "string-equal-ignore-case",
    "string-fill",
    "string-glyph-split",
    "string-limit",
    "string-lines",
    "string-make-multibyte",
    "string-make-unibyte",
    "string-match",
    "string-match-p",
    "string-pad",
    "string-pixel-width",
    "string-rectangle",
    "string-replace",
    "string-search",
    "string-to-multibyte",
    "string-to-syntax",
    "string-to-unibyte",
    "string-to-vector",
    "string-version-lessp",
    "subr-arity",
    "subr-name",
    "subr-native-elisp-p",
    "subr-primitive-p",
    "subrp",
    "subst-char-in-string",
    "substitute-command-keys",
    "substitute-in-file-name",
    "suspend-tty",
    "switch-to-buffer",
    "symbol-at-point",
    "symbol-file",
    "symbol-function",
    "symbol-name",
    "symbol-plist",
    "symbol-value",
    "system-groups",
    "system-name",
    "system-users",
    "tab-bar-height",
    "tab-to-tab-stop",
    "take",
    "terminal-coding-system",
    "terminal-list",
    "terminal-live-p",
    "terminal-name",
    "terminal-parameter",
    "text-properties-at",
    "text-property-any",
    "thing-at-point",
    "this-command-keys",
    "this-command-keys-vector",
    "thread-live-p",
    "thread-join",
    "thread-last-error",
    "thread-name",
    "thread-signal",
    "thread-yield",
    "threadp",
    "time-add",
    "time-convert",
    "time-equal-p",
    "time-less-p",
    "time-subtract",
    "timer-activate",
    "timerp",
    "tool-bar-height",
    "top-level",
    "transient-mark-mode",
    "transpose-chars",
    "transpose-lines",
    "transpose-paragraphs",
    "transpose-sentences",
    "transpose-sexps",
    "transpose-words",
    "tty-top-frame",
    "tty-type",
    "undo",
    "undo-boundary",
    "universal-argument",
    "unibyte-char-to-multibyte",
    "unibyte-string",
    "unintern",
    "upcase-char",
    "upcase-initials",
    "upcase-initials-region",
    "upcase-region",
    "upcase-word",
    "use-global-map",
    "use-local-map",
    "use-region-p",
    "user-full-name",
    "user-login-name",
    "user-real-login-name",
    "user-real-uid",
    "user-uid",
    "view-register",
    "where-is-internal",
    "wholenump",
    "widen",
    "widget-apply",
    "widget-get",
    "widget-put",
    "window-body-height",
    "window-body-width",
    "window-buffer",
    "window-dedicated-p",
    "window-end",
    "window-height",
    "window-list",
    "window-live-p",
    "window-point",
    "window-start",
    "window-text-pixel-size",
    "window-width",
    "windowp",
    "word-search-backward",
    "word-search-forward",
    "write-region",
    "x-close-connection",
    "x-display-color-p",
    "x-display-list",
    "x-display-pixel-height",
    "x-display-pixel-width",
    "x-open-connection",
    "y-or-n-p",
    "yank",
    "yank-pop",
    "yank-rectangle",
    "yes-or-no-p",
    "zerop",
    "zlib-available-p",
    "zlib-decompress-region",
];

pub(crate) fn is_dispatch_builtin_name(name: &str) -> bool {
    DISPATCH_BUILTIN_NAMES.contains(&name)
}

#[cfg(test)]
mod tests {
    use super::is_dispatch_builtin_name;

    #[test]
    fn registry_contains_common_builtins() {
        assert!(is_dispatch_builtin_name("message"));
        assert!(is_dispatch_builtin_name("load"));
        assert!(is_dispatch_builtin_name("symbol-value"));
        assert!(is_dispatch_builtin_name("+"));
        assert!(is_dispatch_builtin_name("read-key"));
        assert!(is_dispatch_builtin_name("read-char-exclusive"));
        assert!(is_dispatch_builtin_name("minibuffer-prompt"));
        assert!(is_dispatch_builtin_name("minibuffer-contents"));
        assert!(is_dispatch_builtin_name(
            "minibuffer-contents-no-properties"
        ));
        assert!(is_dispatch_builtin_name("sleep-for"));
        assert!(is_dispatch_builtin_name("redraw-frame"));
        assert!(is_dispatch_builtin_name("last-nonminibuffer-frame"));
        assert!(is_dispatch_builtin_name("exit-minibuffer"));
        assert!(is_dispatch_builtin_name("recursive-edit"));
        assert!(is_dispatch_builtin_name("exit-recursive-edit"));
        assert!(is_dispatch_builtin_name("top-level"));
    }

    #[test]
    fn registry_excludes_unknown_names() {
        assert!(!is_dispatch_builtin_name("definitely-not-a-builtin"));
    }
}
