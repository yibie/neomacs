(fboundp 'x-open-connection)
(condition-case err
    (x-open-connection nil)
  (error (car err)))
(condition-case err
    (x-open-connection "")
  (error (car err)))
(condition-case err
    (x-open-connection "" nil nil nil)
  (error (car err)))

(fboundp 'x-close-connection)
(condition-case err
    (x-close-connection)
  (error (car err)))
(condition-case err
    (x-close-connection nil)
  (error (car err)))
(condition-case err
    (x-close-connection (selected-frame))
  (error (car err)))
(condition-case err
    (x-close-connection (selected-frame))
  (error (cadr err)))
(condition-case err
    (x-close-connection 999999)
  (error (car err)))
(condition-case err
    (x-close-connection "")
  (error (car err)))

(fboundp 'x-display-pixel-width)
(condition-case err
    (x-display-pixel-width)
  (error (car err)))
(condition-case err
    (x-display-pixel-width nil)
  (error (car err)))
(condition-case err
    (x-display-pixel-width (selected-frame))
  (error (car err)))
(condition-case err
    (x-display-pixel-width (selected-frame))
  (error (cadr err)))
(condition-case err
    (x-display-pixel-width 999999)
  (error (car err)))
(condition-case err
    (x-display-pixel-width "")
  (error (car err)))
(condition-case err
    (x-display-pixel-width 1 2)
  (error (car err)))

(fboundp 'x-display-pixel-height)
(condition-case err
    (x-display-pixel-height)
  (error (car err)))
(condition-case err
    (x-display-pixel-height nil)
  (error (car err)))
(condition-case err
    (x-display-pixel-height (selected-frame))
  (error (car err)))
(condition-case err
    (x-display-pixel-height (selected-frame))
  (error (cadr err)))
(condition-case err
    (x-display-pixel-height 999999)
  (error (car err)))
(condition-case err
    (x-display-pixel-height "")
  (error (car err)))
(condition-case err
    (x-display-pixel-height 1 2)
  (error (car err)))

(fboundp 'x-display-color-p)
(condition-case err
    (x-display-color-p)
  (error (car err)))
(condition-case err
    (x-display-color-p nil)
  (error (car err)))
(condition-case err
    (x-display-color-p (selected-frame))
  (error (car err)))
(condition-case err
    (x-display-color-p 999999)
  (error (car err)))
(condition-case err
    (x-display-color-p 999999)
  (error (not (null (string-match-p "999999" (cadr err))))))
(condition-case err
    (x-display-color-p "")
  (error (car err)))
(condition-case err
    (x-display-color-p 1 2)
  (error (car err)))
