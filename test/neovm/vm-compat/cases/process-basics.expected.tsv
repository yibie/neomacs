1	(call-process "true")	OK 0
2	(let ((code (call-process "false"))) (/= code 0))	OK t
3	(with-temp-buffer (insert "abc") (call-process-region (point-min) (point-max) "true"))	OK 0
4	(with-temp-buffer (list (call-process "echo" nil 2 nil "hello") (buffer-string)))	OK (nil "")
5	(with-temp-buffer (insert "abc") (list (call-process-region (point-min) (point-max) "cat" nil 3 nil) (buffer-string)))	OK (nil "abc")
6	(progn (get-buffer-create "cp-src") (get-buffer-create "cp-dst") (with-current-buffer "cp-src" (erase-buffer)) (with-current-buffer "cp-dst" (erase-buffer)) (with-current-buffer "cp-src" (list (call-process "echo" nil "cp-dst" nil "hello") (buffer-string) (with-current-buffer "cp-dst" (string-prefix-p "hello" (buffer-string))))))	OK (0 "" t)
7	(progn (get-buffer-create "cpr-src") (get-buffer-create "cpr-dst") (with-current-buffer "cpr-src" (erase-buffer) (insert "abc")) (with-current-buffer "cpr-dst" (erase-buffer)) (with-current-buffer "cpr-src" (list (call-process-region (point-min) (point-max) "cat" nil "cpr-dst" nil) (buffer-string) (with-current-buffer "cpr-dst" (buffer-string)))))	OK (0 "abc" "abc")
8	(let ((out "/tmp/neovm-vm-compat-process-out.txt")) (condition-case nil (delete-file out) (error nil)) (call-process "sh" nil (list :file out) nil "-c" "echo out; echo err >&2") (with-temp-buffer (insert-file-contents out) (and (string-match-p "out" (buffer-string)) (string-match-p "err" (buffer-string)) t)))	OK t
9	(let ((out "/tmp/neovm-vm-compat-process-out-split.txt") (err "/tmp/neovm-vm-compat-process-err-split.txt")) (condition-case nil (delete-file out) (error nil)) (condition-case nil (delete-file err) (error nil)) (call-process "sh" nil (list (list :file out) err) nil "-c" "echo out; echo err >&2") (list (with-temp-buffer (insert-file-contents out) (string-prefix-p "out" (buffer-string))) (with-temp-buffer (insert-file-contents err) (string-prefix-p "err" (buffer-string)))))	OK (t t)
10	(condition-case err (call-process "echo" nil 'foo nil "x") (error (car err)))	OK wrong-type-argument
11	(condition-case err (call-process "echo" nil '(t 99) nil "x") (error (car err)))	OK wrong-type-argument
12	(with-temp-buffer (list (call-process "cat" "/etc/passwd" t nil) (> (length (buffer-string)) 0)))	OK (0 t)
13	(condition-case err (call-process "cat" "/nonexistent/neovm-vm-compat-process-infile") (error (car err)))	OK file-missing
14	(condition-case err (call-process "/nonexistent/neovm-vm-compat-missing-prog") (error (car err)))	OK file-missing
15	(with-temp-buffer (insert "x") (condition-case err (call-process-region (point-min) (point-max) "/nonexistent/neovm-vm-compat-missing-prog") (error (car err))))	OK file-missing
