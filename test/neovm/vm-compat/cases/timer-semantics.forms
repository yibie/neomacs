(fboundp 'run-at-time)
(fboundp 'run-with-idle-timer)
(fboundp 'cancel-timer)
(fboundp 'timer-activate)
(fboundp 'sleep-for)
(timerp nil)

(condition-case err
    (timerp)
  (error (car err)))

(condition-case err
    (timerp nil nil)
  (error (car err)))

(condition-case err
    (cancel-timer)
  (error (car err)))

(condition-case err
    (timer-activate)
  (error (car err)))

(sit-for 0)
(sit-for 0 t)
(sleep-for 0)

(condition-case err
    (sit-for "0")
  (error (car err)))

(condition-case err
    (sleep-for)
  (error (car err)))

(condition-case err
    (sleep-for 0 0 0)
  (error (car err)))

(condition-case err
    (sleep-for "1")
  (error (car err)))

(condition-case err
    (sleep-for 0 "1")
  (error (car err)))

(condition-case err
    (sleep-for 0 0.5)
  (error err))

(condition-case err
    (sit-for 0 nil nil)
  (error (car err)))

(let ((tm (run-at-time 0 nil #'ignore)))
  (prog1 (timerp tm)
    (cancel-timer tm)))

(let ((tm (run-at-time "0 sec" nil #'ignore)))
  (prog1 (timerp tm)
    (cancel-timer tm)))

(let ((tm (run-at-time nil nil #'ignore)))
  (prog1 (timerp tm)
    (cancel-timer tm)))

(condition-case err
    (run-at-time "abc" nil #'ignore)
  (error (car err)))

(condition-case err
    (run-at-time t nil #'ignore)
  (error (car err)))

(let ((tm (run-with-idle-timer nil nil #'ignore)))
  (prog1 (timerp tm)
    (cancel-timer tm)))

(let ((tm (run-with-timer 0 nil #'ignore)))
  (prog1 (timerp tm)
    (cancel-timer tm)))

(let ((tm (run-with-timer "0 sec" nil #'ignore)))
  (prog1 (timerp tm)
    (cancel-timer tm)))

(let ((tm (run-with-timer nil nil #'ignore)))
  (prog1 (timerp tm)
    (cancel-timer tm)))

(condition-case err
    (run-with-idle-timer "0 sec" nil #'ignore)
  (error (car err)))

(condition-case err
    (run-with-timer t nil #'ignore)
  (error (car err)))

(condition-case err
    (timer-activate nil)
  (error (car err)))

(let ((tm (run-at-time 60 nil #'ignore)))
  (cancel-timer tm)
  (condition-case err
      (timer-activate tm nil)
    (error (car err))))

(let ((tm (run-at-time 60 nil #'ignore)))
  (cancel-timer tm)
  (condition-case err
      (timer-activate tm nil nil)
    (error (car err))))

(let ((tm (run-at-time 60 nil #'ignore)))
  (cancel-timer tm)
  (condition-case err
      (timer-activate tm nil nil nil)
    (error (car err))))

(let ((tm (run-at-time 60 nil #'ignore)))
  (cancel-timer tm)
  (condition-case err
      (timer-activate tm nil 2)
    (error (car err))))

(let ((tm (run-at-time 60 nil #'ignore)))
  (cancel-timer tm)
  (condition-case err
      (progn
        (timer-activate tm)
        'ok)
    (error (car err))))

(let ((tm (run-at-time 60 nil #'ignore)))
  (condition-case err
      (progn
        (cancel-timer tm)
        (timer-activate tm)
        (timer-activate tm)
        'ok)
    (error (car err))))
