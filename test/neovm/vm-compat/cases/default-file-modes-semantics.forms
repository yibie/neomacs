; default-file-modes and set-default-file-modes argument/state semantics.

(integerp (default-file-modes))

(condition-case err
    (set-default-file-modes)
  (error err))

(condition-case err
    (default-file-modes 1)
  (error err))

(condition-case err
    (set-default-file-modes nil)
  (error err))

(let ((orig (default-file-modes)))
  (unwind-protect
      (progn
        (set-default-file-modes #o700)
        (list (default-file-modes)
              (set-default-file-modes #o755)
              (default-file-modes)))
    (set-default-file-modes orig)))
