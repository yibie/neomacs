; use-region-p behavior with mark-active, transient-mark-mode, and region emptiness.
(with-temp-buffer (use-region-p))
(with-temp-buffer (set-mark (point-min)) (use-region-p))
(with-temp-buffer (set-mark (point-min)) (setq mark-active t) (use-region-p))
(with-temp-buffer (set-mark (point-min)) (setq mark-active nil) (use-region-p))
(with-temp-buffer (let ((mark-active t)) (use-region-p)))
(with-temp-buffer (let ((transient-mark-mode nil)) (set-mark (point-min)) (setq mark-active t) (use-region-p)))
(with-temp-buffer (let ((transient-mark-mode t)) (set-mark (point-min)) (setq mark-active t) (use-region-p)))
(with-temp-buffer (let ((transient-mark-mode t)) (insert "abc") (goto-char (point-max)) (set-mark (point-min)) (setq mark-active t) (use-region-p)))
