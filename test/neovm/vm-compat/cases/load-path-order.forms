; `load` should search load-path directory-by-directory.
(progn
  (setq vm-order-root (expand-file-name "load-path-order-fixtures" (file-name-directory (getenv "NEOVM_FORMS_FILE"))))
  (setq vm-order-d1 (expand-file-name "d1" vm-order-root))
  (setq vm-order-d2 (expand-file-name "d2" vm-order-root))
  'ok)

(setq load-path (list vm-order-d1 vm-order-d2))
(setq vm-order-choice nil)
(load "vm-order-choice" nil nil nil nil)
vm-order-choice

(setq vm-order-choice nil)
(load "vm-order-choice" nil nil t nil)
vm-order-choice

(setq vm-order-choice nil)
(load "vm-order-choice" nil nil nil t)
vm-order-choice

(setq load-path (list vm-order-d2 vm-order-d1))
(setq vm-order-choice nil)
(load "vm-order-choice" nil nil nil nil)
vm-order-choice
