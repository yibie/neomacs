; Focused invalid-event dispatch behavior across read* entry points.
(boundp 'unread-command-events)
(symbol-value 'unread-command-events)

(condition-case err
    (progn
      (setq unread-command-events '(foo 97))
      (read-char nil nil 0))
  (error (list (car err) unread-command-events)))

(condition-case err
    (progn
      (setq unread-command-events '(foo 97 98))
      (read-char-exclusive nil nil 0))
  (error (list (car err) unread-command-events)))

(condition-case err
    (progn
      (setq unread-command-events '(foo 97))
      (read-key nil))
  (error (list (car err) unread-command-events)))

(condition-case err
    (progn
      (setq unread-command-events '(foo 97))
      (read-key-sequence ""))
  (error (list (car err) unread-command-events)))

(condition-case err
    (progn
      (setq unread-command-events '(foo 97))
      (read-key-sequence-vector ""))
  (error (list (car err) unread-command-events)))

(let ((unread-command-events '(foo 97)))
  (list (read-event nil nil 0) unread-command-events))

(let ((unread-command-events '(97 . foo)))
  (list (read-event nil nil 0)
        unread-command-events
        (read-event nil nil 0)
        unread-command-events))

(let ((unread-command-events nil))
  (condition-case err
      (let ((unread-command-events '(foo . 97)))
        (read-char nil nil 0))
    (error (list (car err) unread-command-events))))

(let ((unread-command-events '(foo . 97)))
  (list (read-char-exclusive nil nil 0) unread-command-events))
