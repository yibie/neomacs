; indirect-function alias chains and noerror behavior.
(fset 'vm-if-short-target 'car)
(fset 'vm-if-short-a1 'vm-if-short-target)
(fset 'vm-if-short-a2 'vm-if-short-a1)
(indirect-function 'vm-if-short-a2)
(indirect-function 'vm-if-short-missing)
(indirect-function 'vm-if-short-missing t)
(let ((i 0))
  (while (< i 120)
    (fset (intern (format "vm-if-deep-%d" i))
          (if (= i 119)
              'car
            (intern (format "vm-if-deep-%d" (1+ i)))))
    (setq i (1+ i)))
  (indirect-function 'vm-if-deep-0))
(let ((i 0))
  (while (< i 120)
    (fset (intern (format "vm-if-deep-noerror-%d" i))
          (if (= i 119)
              'car
            (intern (format "vm-if-deep-noerror-%d" (1+ i)))))
    (setq i (1+ i)))
  (indirect-function 'vm-if-deep-noerror-0 t))
(fset 'vm-if-cycle-self 'vm-if-cycle-self)
(let ((a 'vm-if-cycle-a)
      (b 'vm-if-cycle-b))
  (fset a b)
  (fset b a))
(defalias 'vm-da-cycle-self 'vm-da-cycle-self)
(let ((a 'vm-da-cycle-a)
      (b 'vm-da-cycle-b))
  (defalias a b)
  (defalias b a))
(fset nil 'car)
(fset t 'car)
(defalias nil 'car)
(defalias t 'car)
(indirect-function t)
