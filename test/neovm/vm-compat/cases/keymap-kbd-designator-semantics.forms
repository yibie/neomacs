(let ((m (make-sparse-keymap)))
  (define-key m (kbd "M-x") 'ignore)
  (lookup-key m (kbd "M-x")))
(let ((m (make-sparse-keymap)))
  (define-key m [134217848] 'ignore)
  (lookup-key m [134217848]))
(let ((m (make-sparse-keymap)))
  (define-key m "M-x" 'ignore)
  (lookup-key m "M-x"))
(condition-case err
    (let ((m (make-sparse-keymap)))
      (define-key m 1 'ignore))
  (error err))
(condition-case err
    (let ((m (make-sparse-keymap)))
      (lookup-key m 1))
  (error err))
(let ((m (make-sparse-keymap)))
  (use-global-map m)
  (define-key m (kbd "M-x") 'ignore)
  (key-binding (kbd "M-x")))
(let ((m (make-sparse-keymap)))
  (use-global-map m)
  (define-key m (kbd "M-x") 'ignore)
  (global-key-binding (kbd "M-x")))
(let ((m (make-sparse-keymap)))
  (use-local-map m)
  (define-key m (kbd "M-x") 'ignore)
  (local-key-binding (kbd "M-x")))
(condition-case err (key-binding 1) (error err))
(condition-case err (global-key-binding 1) (error err))
(use-local-map nil)
(condition-case err (local-key-binding 1) (error err))
(let ((m (make-sparse-keymap)))
  (use-local-map m)
  (condition-case err (local-key-binding 1) (error err)))
