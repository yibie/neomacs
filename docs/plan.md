# NeoVM / Neomacs Plan

Last updated: 2026-02-16

## Doing

- Continue compatibility-first maintenance with small commit slices.
- Keep builtin dispatch surface and registry in lock-step for `fboundp`/introspection parity.
- Run targeted vm-compat checks after each behavior-affecting slice.
- Keep recurring full-corpus `check-all-neovm` gates after each compatibility batch.
- Keep `.elc` reader/exec compatibility corpora explicitly non-default while `.elc` binary compatibility remains disabled.

## Next

1. Keep `check-all-neovm` as a recurring post-slice gate to catch regressions early.
2. Continue expanding oracle corpora for remaining high-risk stub areas (search/input/minibuffer/display/font edge paths).
3. Keep shrinking semantic drift in partially stubbed font/face and display helpers using small parity slices.
4. Keep Rust backend behind compile-time switch and preserve Emacs C core as default backend.

## Done

- Exposed `cl-minusp` as a callable CL helper:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - added `cl-minusp` builtin (arity `1`) with strict negativity semantics.
      - added focused unit coverage for true/false/wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure CL/seq dispatch now routes `cl-minusp`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `cl-minusp` to builtin registry.
    - `test/neovm/vm-compat/cases/cl-helper-availability.forms`
      - switched helper probe to callable form `(cl-minusp -1)`.
    - `test/neovm/vm-compat/cases/cl-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`t`).
  - verified:
    - `cargo test cl_minusp --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `cl-plusp` as a callable CL helper:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - added `cl-plusp` builtin (arity `1`) with strict positivity semantics.
      - added focused unit coverage for true/false/wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure CL/seq dispatch now routes `cl-plusp`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `cl-plusp` to builtin registry.
    - `test/neovm/vm-compat/cases/cl-helper-availability.forms`
      - switched helper probe to callable form `(cl-plusp 1)`.
    - `test/neovm/vm-compat/cases/cl-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`t`).
  - verified:
    - `cargo test cl_plusp --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `cl-oddp` as a callable CL helper:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - added `cl-oddp` builtin (arity `1`) with integer parity semantics.
      - added focused unit coverage for true/false/wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure CL/seq dispatch now routes `cl-oddp`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `cl-oddp` to builtin registry.
    - `test/neovm/vm-compat/cases/cl-helper-availability.forms`
      - switched helper probe to callable form `(cl-oddp 3)`.
    - `test/neovm/vm-compat/cases/cl-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`t`).
  - verified:
    - `cargo test cl_oddp --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `cl-evenp` as a callable CL helper:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - added `cl-evenp` builtin (arity `1`) with integer parity semantics.
      - added focused unit coverage for true/false/wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure CL/seq dispatch now routes `cl-evenp`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `cl-evenp` to builtin registry.
    - `test/neovm/vm-compat/cases/cl-helper-availability.forms`
      - switched helper probe to callable form `(cl-evenp 2)`.
    - `test/neovm/vm-compat/cases/cl-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`t`).
  - verified:
    - `cargo test cl_evenp --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `cl-rest` as a callable CL helper:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - added `cl-rest` builtin (arity `1`) with list-tail (`cdr`) semantics.
      - added focused unit coverage for list, nil, and wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure CL/seq dispatch now routes `cl-rest`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `cl-rest` to builtin registry.
    - `test/neovm/vm-compat/cases/cl-helper-availability.forms`
      - switched helper probe to callable form `(cl-rest '(a b c))`.
    - `test/neovm/vm-compat/cases/cl-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`(b c)`).
  - verified:
    - `cargo test cl_rest --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `cl-tenth` as a callable CL helper:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - added `cl-tenth` builtin (arity `1`) backed by shared CL list-index extraction.
      - added focused unit coverage for list, nil, and wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure CL/seq dispatch now routes `cl-tenth`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `cl-tenth` to builtin registry.
    - `test/neovm/vm-compat/cases/cl-helper-availability.forms`
      - switched helper probe to callable form `(cl-tenth '(a b c d e f g h i j))`.
    - `test/neovm/vm-compat/cases/cl-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`j`).
  - verified:
    - `cargo test cl_tenth --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `cl-ninth` as a callable CL helper:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - added `cl-ninth` builtin (arity `1`) backed by shared CL list-index extraction.
      - added focused unit coverage for list, nil, and wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure CL/seq dispatch now routes `cl-ninth`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `cl-ninth` to builtin registry.
    - `test/neovm/vm-compat/cases/cl-helper-availability.forms`
      - switched helper probe to callable form `(cl-ninth '(a b c d e f g h i))`.
    - `test/neovm/vm-compat/cases/cl-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`i`).
  - verified:
    - `cargo test cl_ninth --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `cl-eighth` as a callable CL helper:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - added `cl-eighth` builtin (arity `1`) backed by shared CL list-index extraction.
      - added focused unit coverage for list, nil, and wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure CL/seq dispatch now routes `cl-eighth`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `cl-eighth` to builtin registry.
    - `test/neovm/vm-compat/cases/cl-helper-availability.forms`
      - switched helper probe to callable form `(cl-eighth '(a b c d e f g h))`.
    - `test/neovm/vm-compat/cases/cl-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`h`).
  - verified:
    - `cargo test cl_eighth --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `cl-seventh` as a callable CL helper:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - added `cl-seventh` builtin (arity `1`) backed by shared CL list-index extraction.
      - added focused unit coverage for list, nil, and wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure CL/seq dispatch now routes `cl-seventh`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `cl-seventh` to builtin registry.
    - `test/neovm/vm-compat/cases/cl-helper-availability.forms`
      - switched helper probe to callable form `(cl-seventh '(a b c d e f g))`.
    - `test/neovm/vm-compat/cases/cl-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`g`).
  - verified:
    - `cargo test cl_seventh --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `cl-sixth` as a callable CL helper:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - added `cl-sixth` builtin (arity `1`) backed by shared CL list-index extraction.
      - added focused unit coverage for list, nil, and wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure CL/seq dispatch now routes `cl-sixth`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `cl-sixth` to builtin registry.
    - `test/neovm/vm-compat/cases/cl-helper-availability.forms`
      - switched helper probe to callable form `(cl-sixth '(a b c d e f))`.
    - `test/neovm/vm-compat/cases/cl-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`f`).
  - verified:
    - `cargo test cl_sixth --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `cl-fifth` as a callable CL helper:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - added `cl-fifth` builtin (arity `1`) backed by shared CL list-index extraction.
      - added focused unit coverage for list, nil, and wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure CL/seq dispatch now routes `cl-fifth`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `cl-fifth` to builtin registry.
    - `test/neovm/vm-compat/cases/cl-helper-availability.forms`
      - switched helper probe to callable form `(cl-fifth '(a b c d e))`.
    - `test/neovm/vm-compat/cases/cl-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`e`).
  - verified:
    - `cargo test cl_fifth --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `cl-fourth` as a callable CL helper:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - added `cl-fourth` builtin (arity `1`) backed by shared CL list-index extraction.
      - added focused unit coverage for list, nil, and wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure CL/seq dispatch now routes `cl-fourth`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `cl-fourth` to builtin registry.
    - `test/neovm/vm-compat/cases/cl-helper-availability.forms`
      - switched helper probe to callable form `(cl-fourth '(a b c d))`.
    - `test/neovm/vm-compat/cases/cl-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`d`).
  - verified:
    - `cargo test cl_fourth --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `cl-third` as a callable CL helper:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - added `cl-third` builtin (arity `1`) backed by shared CL list-index extraction.
      - added focused unit coverage for list, nil, and wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure CL/seq dispatch now routes `cl-third`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `cl-third` to builtin registry.
    - `test/neovm/vm-compat/cases/cl-helper-availability.forms`
      - switched helper probe to callable form `(cl-third '(a b c))`.
    - `test/neovm/vm-compat/cases/cl-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`c`).
  - verified:
    - `cargo test cl_third --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `cl-second` as a callable CL helper:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - added `cl-second` builtin (arity `1`) using shared list index extraction semantics.
      - refactored CL list-index lookup into a local helper reused by `cl-first`/`cl-second`.
      - added focused unit coverage for list, nil, and wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure CL/seq dispatch now routes `cl-second`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `cl-second` to builtin registry.
    - `test/neovm/vm-compat/cases/cl-helper-availability.forms`
      - switched helper probe to callable form `(cl-second '(a b))`.
    - `test/neovm/vm-compat/cases/cl-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`b`).
  - verified:
    - `cargo test cl_second --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `cl-first` as a callable CL helper:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - added `cl-first` builtin (arity `1`) with list-first semantics (`nil` for empty list, `listp` type checks).
      - added focused unit coverage for list, nil, and wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure CL/seq dispatch now routes `cl-first`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `cl-first` to builtin registry.
    - `test/neovm/vm-compat/cases/cl-helper-availability.forms`
      - switched helper probe to callable form `(cl-first '(a b))`.
    - `test/neovm/vm-compat/cases/cl-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`a`).
  - verified:
    - `cargo test cl_first --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `unibyte-charset` as a callable charset helper:
  - updated:
    - `rust/neovm-core/src/elisp/charset.rs`
      - added `unibyte-charset` builtin (arity `0`) returning `eight-bit`.
      - added focused unit coverage for return symbol behavior.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - charset pure dispatch now routes `unibyte-charset`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `unibyte-charset` to builtin registry.
    - `test/neovm/vm-compat/cases/charset-api-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`eight-bit`).
  - verified:
    - `cargo test unibyte_charset --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/charset-api-availability` (pass, 4/4)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `charset-list` as a callable charset helper:
  - updated:
    - `rust/neovm-core/src/elisp/charset.rs`
      - added `charset-list` builtin (arity `0`) returning charset symbols in current priority order.
      - added focused unit coverage for return-shape/ordering behavior.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - charset pure dispatch now routes `charset-list`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `charset-list` to builtin registry.
    - `test/neovm/vm-compat/cases/charset-api-availability.expected.tsv`
      - updated expectations from missing helper to callable charset list payload.
  - verified:
    - `cargo test charset_list --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/charset-api-availability` (pass, 4/4)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `custom-group-p` as a callable custom helper:
  - updated:
    - `rust/neovm-core/src/elisp/custom.rs`
      - added `custom-group-p` builtin (arity `1`) mapped to the custom-group registry.
      - added unit coverage validating `defgroup` integration and miss behavior.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - custom evaluator dispatch now routes `custom-group-p`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `custom-group-p` to builtin registry.
    - `test/neovm/vm-compat/cases/custom-group-p-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`nil` for unresolved group).
  - verified:
    - `cargo test custom_group_p --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/custom-group-p-availability` (pass, 2/2)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `bookmark-set-annotation` as a callable bookmark helper:
  - updated:
    - `rust/neovm-core/src/elisp/bookmark.rs`
      - added `bookmark-set-annotation` builtin (arity `2`) for name-based annotation updates.
      - returns annotation string on success, `nil` when bookmark is missing.
      - added focused unit coverage for update and missing-bookmark paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - bookmark evaluator dispatch now routes `bookmark-set-annotation`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `bookmark-set-annotation` to builtin registry.
    - `test/neovm/vm-compat/cases/bookmark-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`nil` on missing bookmark).
  - verified:
    - `cargo test bookmark_set_annotation --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/bookmark-helper-availability` (pass, 10/10)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `bookmark-get-annotation` as a callable bookmark helper:
  - updated:
    - `rust/neovm-core/src/elisp/bookmark.rs`
      - added `bookmark-get-annotation` builtin (arity `1`) accepting bookmark names or bookmark-record alists.
      - returns annotation string when present, `nil` for missing bookmarks/fields.
      - added focused unit coverage for hit/miss lookup behavior.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - bookmark evaluator dispatch now routes `bookmark-get-annotation`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `bookmark-get-annotation` to builtin registry.
    - `test/neovm/vm-compat/cases/bookmark-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`nil` on missing bookmark).
  - verified:
    - `cargo test bookmark_get_annotation --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/bookmark-helper-availability` (pass, 10/10)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `bookmark-get-position` as a callable bookmark helper:
  - updated:
    - `rust/neovm-core/src/elisp/bookmark.rs`
      - added `bookmark-get-position` builtin (arity `1`) accepting bookmark names or bookmark-record alists.
      - returns integer position when present, `nil` for missing bookmarks/fields.
      - added focused unit coverage for hit/miss lookup behavior.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - bookmark evaluator dispatch now routes `bookmark-get-position`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `bookmark-get-position` to builtin registry.
    - `test/neovm/vm-compat/cases/bookmark-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`nil` on missing bookmark).
  - verified:
    - `cargo test bookmark_get_position --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/bookmark-helper-availability` (pass, 10/10)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `bookmark-get-filename` as a callable bookmark helper:
  - updated:
    - `rust/neovm-core/src/elisp/bookmark.rs`
      - added `bookmark-get-filename` builtin (arity `1`) accepting bookmark names or bookmark-record alists.
      - returns filename string when present, `nil` for missing bookmarks/fields.
      - added focused unit coverage for hit/miss lookup behavior.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - bookmark evaluator dispatch now routes `bookmark-get-filename`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `bookmark-get-filename` to builtin registry.
    - `test/neovm/vm-compat/cases/bookmark-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`nil` on missing bookmark).
  - verified:
    - `cargo test bookmark_get_filename --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/bookmark-helper-availability` (pass, 10/10)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `bookmark-all-names` as a callable bookmark helper:
  - updated:
    - `rust/neovm-core/src/elisp/bookmark.rs`
      - added `bookmark-all-names` builtin (arity `0`) returning sorted bookmark name list.
      - added focused unit coverage for sorted return payload behavior.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - bookmark evaluator dispatch now routes `bookmark-all-names`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `bookmark-all-names` to builtin registry.
    - `test/neovm/vm-compat/cases/bookmark-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`nil` on empty store).
  - verified:
    - `cargo test bookmark_all_names --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/bookmark-helper-availability` (pass, 10/10)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `string-limit` as a callable subr-x string helper:
  - updated:
    - `rust/neovm-core/src/elisp/format.rs`
      - added `string-limit` builtin (arity `2..=4`) with truncation direction and optional ellipsis handling.
      - added focused unit coverage for no-op, prefix truncation, end truncation with ellipsis, and type validation.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - format/string utility dispatch now routes `string-limit`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `string-limit` to builtin registry.
    - `test/neovm/vm-compat/cases/subr-x-string-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`"x"`).
  - verified:
    - `cargo test string_limit --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/subr-x-string-helper-availability` (pass, 8/8)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `string-fill` as a callable subr-x string helper:
  - updated:
    - `rust/neovm-core/src/elisp/format.rs`
      - added `string-fill` builtin (arity `2..=4`) with whitespace-word wrapping and optional-arg compatibility.
      - added focused unit coverage for no-wrap, wrapping, blank-line preservation, and type validation.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - format/string utility dispatch now routes `string-fill`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `string-fill` to builtin registry.
    - `test/neovm/vm-compat/cases/subr-x-string-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`"x"`).
  - verified:
    - `cargo test string_fill --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/subr-x-string-helper-availability` (pass, 8/8)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `string-pad` as a callable subr-x string helper:
  - updated:
    - `rust/neovm-core/src/elisp/format.rs`
      - added `string-pad` builtin (arity `2..=4`) with target-length, optional padding char, and left-pad flag support.
      - added focused unit coverage for right/left padding, no-op behavior, and type validation.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - format/string utility dispatch now routes `string-pad`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `string-pad` to builtin registry.
    - `test/neovm/vm-compat/cases/subr-x-string-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`"x "`).
  - verified:
    - `cargo test string_pad --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/subr-x-string-helper-availability` (pass, 8/8)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `string-chop-newline` as a callable subr-x string helper:
  - updated:
    - `rust/neovm-core/src/elisp/format.rs`
      - added `string-chop-newline` builtin (arity `1`) trimming trailing CR/LF runs.
      - added focused unit coverage for no-op, LF, CRLF-run, and wrong-type paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - format/string utility dispatch now routes `string-chop-newline`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `string-chop-newline` to builtin registry.
    - `test/neovm/vm-compat/cases/subr-x-string-helper-availability.forms`
      - switched helper probe to callable form `(string-chop-newline "x\n")`.
    - `test/neovm/vm-compat/cases/subr-x-string-helper-availability.expected.tsv`
      - updated expectations from missing helper to callable behavior (`"x"`).
  - verified:
    - `cargo test string_chop_newline --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/subr-x-string-helper-availability` (pass, 8/8)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `extract-rectangle-line` as a callable rectangle helper builtin:
  - updated:
    - `rust/neovm-core/src/elisp/rect.rs`
      - added `extract-rectangle-line` builtin (arity `2..=3`) with integer/string argument validation.
      - returns empty string compatibility stub and includes focused unit coverage for success/error paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - rectangle evaluator dispatch now routes `extract-rectangle-line`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `extract-rectangle-line` to builtin registry.
    - `test/neovm/vm-compat/cases/residual-helper-availability.forms`
      - switched helper probe to callable form `(extract-rectangle-line 1 1)`.
    - `test/neovm/vm-compat/cases/residual-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior (`""`).
  - verified:
    - `cargo test extract_rectangle_line --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/residual-helper-availability` (pass, 26/26)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `register-to-string` as a real register helper builtin:
  - updated:
    - `rust/neovm-core/src/elisp/register.rs`
      - added `register-to-string` builtin (arity `1`) returning text register contents as string.
      - rectangle register contents are joined with newline; non-text registers return `nil`.
      - added focused unit coverage for empty and text register paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - register evaluator dispatch now routes `register-to-string`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `register-to-string` to builtin registry.
    - `test/neovm/vm-compat/cases/residual-helper-availability.forms`
      - switched helper probe to a concrete set+read flow using register `"r"`.
    - `test/neovm/vm-compat/cases/residual-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior (`"abc"`).
  - verified:
    - `cargo test register_to_string --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/residual-helper-availability` (pass, 26/26)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `display-line-numbers-update-width` as a callable misc helper:
  - updated:
    - `rust/neovm-core/src/elisp/misc.rs`
      - added `display-line-numbers-update-width` builtin as batch compatibility no-op.
      - enforces arity `0` and returns `nil`.
      - added focused unit coverage for no-op and arity validation.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure dispatch now routes `display-line-numbers-update-width`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added helper name to builtin registry.
    - `test/neovm/vm-compat/cases/residual-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable no-op behavior.
  - verified:
    - `cargo test display_line_numbers_update_width --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/residual-helper-availability` (pass, 26/26)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `string-repeat` as a real misc helper builtin:
  - updated:
    - `rust/neovm-core/src/elisp/misc.rs`
      - added `string-repeat` builtin (arity `2`) with `wholenump` count validation.
      - returns repeated string payload, including empty result for zero count.
      - added focused unit coverage for success and error paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure misc dispatch now routes `string-repeat`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `string-repeat` to builtin registry.
    - `test/neovm/vm-compat/cases/residual-helper-availability.forms`
      - switched helper probe to `(string-repeat "ab" 3)`.
    - `test/neovm/vm-compat/cases/residual-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior (`"ababab"`).
  - verified:
    - `cargo test string_repeat --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/residual-helper-availability` (pass, 26/26)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `find-coding-system` as a real coding helper builtin:
  - updated:
    - `rust/neovm-core/src/elisp/coding.rs`
      - added `find-coding-system` builtin (arity `1`) that resolves known coding systems/aliases to canonical symbols.
      - returns `nil` for unknown or `nil` inputs.
      - added focused unit coverage for known and unknown lookups.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - wired `find-coding-system` in evaluator coding dispatch and pure fallback dispatch.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `find-coding-system` to builtin registry.
    - `test/neovm/vm-compat/cases/residual-helper-availability.forms`
      - switched helper probe to `(find-coding-system 'utf-8)`.
    - `test/neovm/vm-compat/cases/residual-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior (`utf-8`).
  - verified:
    - `cargo test find_coding_system --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/residual-helper-availability` (pass, 26/26)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `bool-vector-complement` as a real char-table/bool-vector helper:
  - updated:
    - `rust/neovm-core/src/elisp/chartable.rs`
      - added `bool-vector-complement` builtin (`1..=2` args) with optional destination mutation.
      - validates bool-vector payloads and reuses existing bool-vector storage/update helpers.
      - added focused unit coverage for allocating result, destination mutation, and arity checks.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure dispatch now routes `bool-vector-complement`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `bool-vector-complement` to builtin registry.
    - `test/neovm/vm-compat/cases/residual-helper-availability.forms`
      - switched helper probe to a callable bool-vector complement + predicate path.
    - `test/neovm/vm-compat/cases/residual-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior (`t`).
  - verified:
    - `cargo test bool_vector_complement --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/residual-helper-availability` (pass, 26/26)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `base64url-decode-string` as a real fns helper builtin:
  - updated:
    - `rust/neovm-core/src/elisp/fns.rs`
      - added `base64url-decode-string` builtin (arity `1..=2`) using URL alphabet decode table.
      - returns decoded UTF-8 string on success, `nil` on invalid payload.
      - added focused unit coverage for valid/invalid decode paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure dispatch now routes `base64url-decode-string`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `base64url-decode-string` to builtin registry.
    - `test/neovm/vm-compat/cases/residual-helper-availability.forms`
      - switched helper probe to `(base64url-decode-string "YQ")`.
    - `test/neovm/vm-compat/cases/residual-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior (`"a"`).
  - verified:
    - `cargo test base64url_decode --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/residual-helper-availability` (pass, 26/26)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `unibyte-string-p` as a real encoding helper builtin:
  - updated:
    - `rust/neovm-core/src/encoding.rs`
      - added `unibyte-string-p` builtin (arity `1`) as inverse of `multibyte-string-p`.
      - added focused unit coverage for ASCII/non-ASCII strings and error paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure dispatch paths now route `unibyte-string-p`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `unibyte-string-p` to builtin registry.
    - `test/neovm/vm-compat/cases/residual-helper-availability.forms`
      - switched helper probe to `(unibyte-string-p "abc")`.
    - `test/neovm/vm-compat/cases/residual-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior (`t`).
  - verified:
    - `cargo test unibyte_string_p --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/residual-helper-availability` (pass, 26/26)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `selected-terminal` as a real display helper builtin:
  - updated:
    - `rust/neovm-core/src/elisp/display.rs`
      - added `selected-terminal` (arity `0`) returning current terminal handle.
      - reuses existing terminal handle object model (`#<terminal 0 on initial_terminal>`).
      - added focused unit coverage for return-shape and arity errors.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - evaluator and pure dispatch paths now route `selected-terminal`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `selected-terminal` to builtin registry.
    - `test/neovm/vm-compat/cases/residual-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior.
  - verified:
    - `cargo test selected_terminal --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/residual-helper-availability` (pass, 26/26)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `downcase-char` as a real case helper builtin:
  - updated:
    - `rust/neovm-core/src/elisp/casetab.rs`
      - added `downcase-char` builtin using existing case table manager logic.
      - enforces arity `1` and `characterp`/`integerp` argument shape via shared char coercion.
      - added focused unit coverage for upper/lower/int payloads and error paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure builtin dispatch now routes `downcase-char`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `downcase-char` to builtin registry.
    - `test/neovm/vm-compat/cases/residual-helper-availability.forms`
      - switched helper call to `(downcase-char 65)` for parser/form canonicalization stability.
    - `test/neovm/vm-compat/cases/residual-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior (`97`).
  - verified:
    - `cargo test downcase_char --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/residual-helper-availability` (pass, 26/26)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `hash-table-keys` and `hash-table-values` helper builtins:
  - updated:
    - `rust/neovm-core/src/elisp/hashtab.rs`
      - added pure builtins:
        - `hash-table-keys` (returns list of table keys)
        - `hash-table-values` (returns list of table values)
      - both enforce arity `1` and signal `(wrong-type-argument hash-table-p ...)` on non-table inputs.
      - added focused unit coverage for happy path and error path semantics.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - pure builtin dispatch now routes both helpers.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added both helper names to builtin registry.
    - `test/neovm/vm-compat/cases/residual-helper-availability.forms`
      - switched helper calls to `(make-hash-table)` payload for stable callable checks.
    - `test/neovm/vm-compat/cases/residual-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior.
  - verified:
    - `cargo test hashtab::tests:: --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/residual-helper-availability` (pass, 26/26)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `word-at-point` as an evaluator helper builtin:
  - updated:
    - `rust/neovm-core/src/elisp/interactive.rs`
      - added `word-at-point` wrapper with arity range `0..=1`.
      - routes through existing `thing-at-point` evaluator logic for `word`.
      - added focused unit coverage for word extraction and arity errors.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - evaluator dispatch now routes `word-at-point`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `word-at-point` to dispatch builtin registry.
    - `test/neovm/vm-compat/cases/residual-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior.
  - verified:
    - `cargo test word_at_point --manifest-path rust/neovm-core/Cargo.toml` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/residual-helper-availability` (pass, 26/26)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `kmacro-set-format` as a real helper builtin:
  - updated:
    - `rust/neovm-core/src/elisp/kmacro.rs`
      - added `kmacro-set-format` with exact arity `1`.
      - updates runtime keyboard macro counter format and normalizes empty string to `"%d"`.
      - signals `(wrong-type-argument stringp ...)` for non-string payloads.
      - added focused unit coverage for arity/type/normalization paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - evaluator dispatch now routes `kmacro-set-format`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `kmacro-set-format` to dispatch builtin registry.
    - `test/neovm/vm-compat/cases/kmacro-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior.
  - verified:
    - `cargo test kmacro::tests::test_kmacro_set_format_builtin --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kmacro-helper-availability` (pass, 14/14)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `kmacro-add-counter` as a real helper builtin:
  - updated:
    - `rust/neovm-core/src/elisp/kmacro.rs`
      - added `kmacro-add-counter` with exact arity `1`.
      - increments runtime keyboard macro counter by integer delta.
      - added focused unit coverage for arity/type/state paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - evaluator dispatch now routes `kmacro-add-counter`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `kmacro-add-counter` to dispatch builtin registry.
    - `test/neovm/vm-compat/cases/kmacro-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior.
  - verified:
    - `cargo test kmacro::tests::test_kmacro_add_counter_builtin --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kmacro-helper-availability` (pass, 14/14)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Exposed `kmacro-set-counter` as a real helper builtin:
  - updated:
    - `rust/neovm-core/src/elisp/kmacro.rs`
      - added `kmacro-set-counter` with arity range `1..=2`.
      - updates runtime keyboard macro counter state from integer payload.
      - added focused unit coverage for arity/type/state paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - evaluator dispatch now routes `kmacro-set-counter`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `kmacro-set-counter` to dispatch builtin registry.
    - `test/neovm/vm-compat/cases/kmacro-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior.
  - verified:
    - `cargo test kmacro::tests::test_kmacro_set_counter_builtin --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kmacro-helper-availability` (pass, 14/14)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Exposed `kmacro-p` as a real helper predicate builtin:
  - updated:
    - `rust/neovm-core/src/elisp/kmacro.rs`
      - added `kmacro-p` with exact arity `1`.
      - compatibility subset: returns non-nil for vector/string macro encodings.
      - added focused unit coverage for argument and type shape.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - evaluator dispatch now routes `kmacro-p`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `kmacro-p` to dispatch builtin registry.
    - `test/neovm/vm-compat/cases/kmacro-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior.
  - verified:
    - `cargo test kmacro::tests::test_kmacro_p_builtin_subset --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kmacro-helper-availability` (pass, 14/14)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Exposed `last-kbd-macro` as a real evaluator builtin:
  - updated:
    - `rust/neovm-core/src/elisp/kmacro.rs`
      - added `last-kbd-macro` builtin with zero-arity contract.
      - returns the last recorded macro as a vector, or `nil` when unset.
      - added focused unit coverage for empty and populated states.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - evaluator dispatch now routes `last-kbd-macro`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `last-kbd-macro` to dispatch builtin registry.
    - `test/neovm/vm-compat/cases/kmacro-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable helper behavior.
  - verified:
    - `cargo test kmacro::tests::test_last_kbd_macro_builtin --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kmacro-helper-availability` (pass, 14/14)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Exposed keyboard macro state predicates as real evaluator builtins:
  - updated:
    - `rust/neovm-core/src/elisp/kmacro.rs`
      - added `defining-kbd-macro-p` and `executing-kbd-macro-p` builtins
        with zero-arity contracts.
      - added `executing` runtime state tracking to `KmacroManager`.
      - macro execution paths now set/reset `executing` around playback.
      - `kbd-macro-query` now accepts both recording and executing states.
      - added focused unit coverage for predicate builtins + defaults.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - evaluator dispatch now routes:
        - `defining-kbd-macro-p`
        - `executing-kbd-macro-p`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added both predicate names to dispatch builtin registry.
    - `test/neovm/vm-compat/cases/kmacro-helper-availability.expected.tsv`
      - updated expectations from `void-function` to callable predicate behavior.
  - verified:
    - `cargo test kmacro::tests::test_defining_executing_kbd_macro_p_builtins --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kmacro-helper-availability` (pass, 14/14)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kbd-macro-query-semantics` (pass, 4/4)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kmacro-arity-semantics` (pass, 12/12)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Enforced keyboard macro builtin arity contracts:
  - updated:
    - `rust/neovm-core/src/elisp/kmacro.rs`
      - `start-kbd-macro` now enforces max arity `1`.
      - `end-kbd-macro` now enforces max arity `2`.
      - `call-last-kbd-macro` now enforces max arity `2`.
      - `execute-kbd-macro` now enforces arity range `1..=3`.
      - `insert-kbd-macro` now enforces arity range `1..=2`.
      - added focused unit coverage for the above arity contracts.
    - added corpus:
      - `test/neovm/vm-compat/cases/kmacro-arity-semantics.{forms,expected.tsv}`
        - locks over/under-arity signaling for the updated kmacro builtins.
    - `test/neovm/vm-compat/cases/default.list`
      - added `cases/kmacro-arity-semantics`.
  - verified:
    - `cargo test kmacro::tests::test_kmacro_builtin_arity_contracts --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kmacro-arity-semantics` (pass, 12/12)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Enforced `gensym` arity + semantic lock-in:
  - updated:
    - `rust/neovm-core/src/elisp/builtins.rs`
      - `gensym` now enforces max arity `1` (`wrong-number-of-arguments` on extra args).
    - added corpus:
      - `test/neovm/vm-compat/cases/gensym-semantics.{forms,expected.tsv}`
        - locks `gensym` availability, uniqueness, string-prefix behavior, and
          arity/type signaling.
    - `test/neovm/vm-compat/cases/default.list`
      - added `cases/gensym-semantics`.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/gensym-semantics` (pass, 5/5)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Implemented `float-time` optional time-value decoding + arity lock-in:
  - updated:
    - `rust/neovm-core/src/elisp/builtins.rs`
      - `float-time` now enforces max arity `1`.
      - optional `SPECIFIED-TIME` now decodes:
        - numeric values (`int`/`float`)
        - Emacs time lists `(HIGH LOW [USEC [PSEC]])`
      - invalid payloads now signal typed `wrong-type-argument` errors.
    - added corpus:
      - `test/neovm/vm-compat/cases/float-time-semantics.{forms,expected.tsv}`
        - locks decoding behavior and error/arity contracts.
    - `test/neovm/vm-compat/cases/default.list`
      - added `cases/float-time-semantics`.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/float-time-semantics` (pass, 13/13)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Enforced buffer metadata helper arity contracts:
  - updated:
    - `rust/neovm-core/src/elisp/builtins.rs`
      - `buffer-size` and `buffer-modified-p` now enforce max arity `1`.
      - `buffer-list` now enforces max arity `1`.
    - added corpus:
      - `test/neovm/vm-compat/cases/buffer-metadata-arity-semantics.{forms,expected.tsv}`
        - locks over-arity signaling and core return-shape behavior for the updated builtins.
    - `test/neovm/vm-compat/cases/default.list`
      - added `cases/buffer-metadata-arity-semantics`.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-metadata-arity-semantics` (pass, 11/11)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Enforced zero-arity buffer state helper semantics:
  - updated:
    - `rust/neovm-core/src/elisp/builtins.rs`
      - `erase-buffer`, `widen`, and `current-time` now reject extra args with
        `wrong-number-of-arguments`.
    - added corpus:
      - `test/neovm/vm-compat/cases/buffer-state-arity-semantics.{forms,expected.tsv}`
        - locks mutation behavior and over-arity signaling for the updated builtins.
    - `test/neovm/vm-compat/cases/default.list`
      - added `cases/buffer-state-arity-semantics`.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-state-arity-semantics` (pass, 9/9)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Enforced buffer/point helper arity compatibility:
  - updated:
    - `rust/neovm-core/src/elisp/builtins.rs`
      - `current-buffer`, `buffer-string`, `point`, `point-min`, and `point-max`
        now enforce zero arity.
      - `buffer-name` and `buffer-file-name` now enforce max arity `1`.
    - added corpus:
      - `test/neovm/vm-compat/cases/buffer-point-arity-semantics.{forms,expected.tsv}`
        - locks return-shape and over-arity signaling for core buffer/point helpers.
    - `test/neovm/vm-compat/cases/default.list`
      - added `cases/buffer-point-arity-semantics`.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-point-arity-semantics` (pass, 17/17)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Enforced runtime identity helper arity contracts:
  - updated:
    - `rust/neovm-core/src/elisp/builtins_extra.rs`
      - `system-name`, `emacs-version`, and `emacs-pid` now enforce zero arity.
      - added unit coverage for `wrong-number-of-arguments` on extra args.
    - added corpus:
      - `test/neovm/vm-compat/cases/runtime-identity-semantics.{forms,expected.tsv}`
        - locks return-shape and arity contracts for:
          - `system-name`
          - `emacs-version`
          - `emacs-pid`
    - `test/neovm/vm-compat/cases/default.list`
      - added `cases/runtime-identity-semantics`.
  - verified:
    - `cargo test builtins_extra::tests::runtime_identity_arity_contracts --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/runtime-identity-semantics` (pass, 10/10)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Aligned user identity builtin contracts with optional argument compatibility:
  - updated:
    - `rust/neovm-core/src/elisp/builtins_extra.rs`
      - `user-login-name` now enforces max arity `1`, accepts optional numeric UID,
        and resolves UID lookup via `/etc/passwd` (returns `nil` when unresolved).
      - `user-real-login-name` now enforces zero arity and resolves against real UID.
      - `user-full-name` now enforces max arity `1`, accepts optional numeric UID
        or login name string, and resolves full names via `/etc/passwd` GECOS data.
      - added focused unit tests for arity/type contracts and optional argument paths.
    - added corpus:
      - `test/neovm/vm-compat/cases/user-identity-semantics.{forms,expected.tsv}`
        - locks availability and argument/error semantics for:
          - `user-login-name`
          - `user-real-login-name`
          - `user-full-name`
          - `user-real-uid`
          - `group-gid`
    - `test/neovm/vm-compat/cases/default.list`
      - added `cases/user-identity-semantics`.
  - verified:
    - `cargo test builtins_extra::tests::user_ --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/user-identity-semantics` (pass, 22/22)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Extended `minibuffer-batch` arity lock-ins:
  - updated:
    - `test/neovm/vm-compat/cases/minibuffer-batch.forms`
      - added `minibuffer-depth` over-arity probe.
    - `test/neovm/vm-compat/cases/minibuffer-batch.expected.tsv`
      - locked expected `wrong-number-of-arguments` outcome.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/minibuffer-batch` (pass, 41/41)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Added recursive-edit/top-level arity compatibility corpus:
  - updated:
    - `test/neovm/vm-compat/cases/recursive-top-level-arity-semantics.{forms,expected.tsv}`
      - added lock-ins for `recursive-edit` and `top-level` over-arity signaling.
    - `test/neovm/vm-compat/cases/default.list`
      - added `cases/recursive-top-level-arity-semantics`.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/recursive-top-level-arity-semantics` (pass, 6/6)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Added CCL arity compatibility corpus:
  - updated:
    - `test/neovm/vm-compat/cases/ccl-arity-semantics.{forms,expected.tsv}`
      - added lock-ins for arity signaling of `ccl-program-p`, `ccl-execute`,
        `ccl-execute-on-string`, `register-ccl-program`, and
        `register-code-conversion-map`.
    - `test/neovm/vm-compat/cases/default.list`
      - added `cases/ccl-arity-semantics`.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/ccl-arity-semantics` (pass, 15/15)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Added documentation helper arity compatibility corpus:
  - updated:
    - `test/neovm/vm-compat/cases/doc-helper-arity-semantics.{forms,expected.tsv}`
      - added lock-ins for `substitute-command-keys`, `Snarf-documentation`, `documentation`,
        `documentation-property`, `help-function-arglist`, `describe-function`, and
        `describe-variable` over-arity signaling.
    - `test/neovm/vm-compat/cases/default.list`
      - added `cases/doc-helper-arity-semantics`.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/doc-helper-arity-semantics` (pass, 18/18)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Enforced `get-load-suffixes` zero-arity semantics:
  - updated:
    - `rust/neovm-core/src/elisp/lread.rs`
      - `get-load-suffixes` now rejects extra args with `wrong-number-of-arguments`.
      - added unit test coverage for over-arity signaling.
    - `test/neovm/vm-compat/cases/load-suffixes.forms`
      - added over-arity probe for `get-load-suffixes`.
    - `test/neovm/vm-compat/cases/load-suffixes.expected.tsv`
      - locked `wrong-number-of-arguments` expected outcome.
  - verified:
    - `cargo test lread::tests::get_load_suffixes --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/load-suffixes` (pass, 2/2)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Enforced `locate-file`/`locate-file-internal` max arity parity:
  - updated:
    - `rust/neovm-core/src/elisp/lread.rs`
      - both builtins now enforce max arity `4` (signal `wrong-number-of-arguments` on 5+ args).
      - added unit tests for over-arity signaling on both variants.
    - `test/neovm/vm-compat/cases/locate-file.forms`
      - added over-arity probes for `locate-file` and `locate-file-internal`.
    - `test/neovm/vm-compat/cases/locate-file.expected.tsv`
      - locked `wrong-number-of-arguments` expected outcomes for the new probes.
  - verified:
    - `cargo test lread::tests::locate_file_ --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/locate-file` (pass, 11/11)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Tightened `ccl-execute-on-string` arity contract:
  - updated:
    - `rust/neovm-core/src/elisp/ccl.rs`
      - added explicit max-arity check (`5`) for `ccl-execute-on-string`.
      - added focused unit coverage for string/nil payload handling, non-string rejection, and over-arity signaling.
  - verified:
    - `cargo test ccl::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)

- Enforced `font-xlfd-name` max arity parity:
  - updated:
    - `rust/neovm-core/src/elisp/font.rs`
      - `font-xlfd-name` now enforces max arity `3` (signals `wrong-number-of-arguments` on 4+ args).
      - added unit coverage for over-arity path.
    - added corpus:
      - `test/neovm/vm-compat/cases/font-xlfd-arity-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/neovm-only.list`
      - added `cases/font-xlfd-arity-semantics`.
  - verified:
    - `cargo test font::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/font-xlfd-arity-semantics` (pass, 3/3)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Improved `create-image` default TYPE resolution for compatibility:
  - updated:
    - `rust/neovm-core/src/elisp/image.rs`
      - omitted TYPE now infers from filename extension (e.g. `jpg -> jpeg`) when possible.
      - DATA-P MIME symbol hints (e.g. `image/png`) now participate in type inference.
      - unresolved paths now default to `neomacs` type.
      - expanded image unit tests for extension/mime/fallback resolution.
    - added corpus:
      - `test/neovm/vm-compat/cases/create-image-type-resolution.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/neovm-only.list`
      - added `cases/create-image-type-resolution`.
  - verified:
    - `cargo test image::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/create-image-type-resolution` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Extended `image-type` compatibility for source/type call patterns:
  - updated:
    - `rust/neovm-core/src/elisp/image.rs`
      - `image-type` now accepts `(SOURCE &optional TYPE DATA-P)` in addition to descriptor mode.
      - added filename-extension inference (`jpg->jpeg`, etc.) and `image/*` DATA-P hint parsing.
      - added `neomacs` fallback type resolution when concrete type cannot be inferred.
      - `image-type-available-p` now recognizes `neomacs`.
      - expanded image unit tests for filename/type-hint/fallback paths.
    - added corpus:
      - `test/neovm/vm-compat/cases/image-type-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/neovm-only.list`
      - added `cases/image-type-semantics`.
  - verified:
    - `cargo test image::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/image-type-semantics` (pass, 11/11)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Tightened `remove-images` argument validation semantics:
  - updated:
    - `rust/neovm-core/src/elisp/image.rs`
      - `START`/`END` now validate against `integer-or-marker-p`.
      - optional BUFFER now validates against `bufferp` (when non-`nil`).
      - expanded image unit tests for char positions, bad buffer, and error predicate contracts.
    - added corpus:
      - `test/neovm/vm-compat/cases/image-remove-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/neovm-only.list`
      - added `cases/image-remove-semantics`.
  - verified:
    - `cargo test image::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/image-remove-semantics` (pass, 8/8)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Aligned `image-flush` batch semantics and error split:
  - updated:
    - `rust/neovm-core/src/elisp/image.rs`
      - invalid spec now signals `(error "Invalid image specification")`.
      - `FRAME=t` returns `nil` (all-frames path).
      - omitted/`nil`/non-`t` frame now signals `(error "Window system frame should be used")`.
      - expanded image unit coverage for all-frame and non-`t` frame paths.
    - added corpus:
      - `test/neovm/vm-compat/cases/image-flush-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/neovm-only.list`
      - added `cases/image-flush-semantics`.
  - verified:
    - `cargo test image::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/image-flush-semantics` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Aligned `put-image` / `insert-image` optional AREA validation:
  - updated:
    - `rust/neovm-core/src/elisp/image.rs`
      - `put-image` now validates optional AREA (`nil|left-margin|right-margin`) and signals `(error "Invalid area ...")` otherwise.
      - `insert-image` now validates optional AREA with the same contract.
      - expanded image unit tests for valid/invalid AREA paths.
    - added corpus:
      - `test/neovm/vm-compat/cases/image-area-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/neovm-only.list`
      - added `cases/image-area-semantics`.
  - verified:
    - `cargo test image::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/image-area-semantics` (pass, 8/8)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Aligned `put-image` / `insert-image` error and return semantics for batch mode:
  - updated:
    - `rust/neovm-core/src/elisp/image.rs`
      - `put-image`:
        - invalid image now signals `(error "Not an image: ...")`.
        - point validation now uses `integer-or-marker-p` (accepts integer/char in batch).
      - `insert-image`:
        - max arity raised to `5`.
        - invalid image now signals `(error "Not an image: ...")`.
        - successful batch path now returns `t`.
      - refreshed/expanded image unit tests for the new contracts.
    - added corpus:
      - `test/neovm/vm-compat/cases/image-insert-put-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/neovm-only.list`
      - added `cases/image-insert-put-semantics`.
  - verified:
    - `cargo test image::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/image-insert-put-semantics` (pass, 12/12)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Aligned image query stub semantics for batch/no-window behavior:
  - updated:
    - `rust/neovm-core/src/elisp/image.rs`
      - `image-size` now matches oracle error classes:
        - invalid spec -> `(error "Invalid image specification")`
        - valid spec in batch -> `(error "Window system frame should be used")`
      - `image-mask-p` now mirrors the same invalid-spec vs no-window split.
      - refreshed image unit tests that previously expected concrete size/mask return values.
    - `test/neovm/vm-compat/cases/default.list`
      - added `cases/image-batch-query-semantics`.
    - added oracle corpus:
      - `test/neovm/vm-compat/cases/image-batch-query-semantics.{forms,expected.tsv}`
  - verified:
    - `cargo test image::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/image-batch-query-semantics` (pass, 11/11)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Aligned `clear-image-cache` batch semantics with oracle behavior:
  - updated:
    - `rust/neovm-core/src/elisp/image.rs`
      - `clear-image-cache` now signals `(error "Window system frame should be used")` for no args, nil filter, or over-arity.
      - keeps nil return for non-nil single FILTER values (e.g. `t`, numeric, symbol).
      - updated image unit coverage accordingly.
    - `test/neovm/vm-compat/cases/default.list`
      - added `cases/image-clear-cache-semantics`.
    - added oracle corpus:
      - `test/neovm/vm-compat/cases/image-clear-cache-semantics.{forms,expected.tsv}`
  - verified:
    - `cargo test image::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/image-clear-cache-semantics` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Expanded vm-compat coverage for font/face helper stubs and aligned runtime semantics:
  - updated:
    - `rust/neovm-core/src/elisp/font.rs`
      - aligned `color-defined-p` / `color-values` behavior with oracle (`unknown/non-string -> nil`).
      - aligned `font-get` / `font-put` semantics:
        - strict font-spec validation and error predicates.
        - strict property-key matching for `font-get`.
        - in-place `font-put` update with return value equal to VAL.
      - aligned `font-xlfd-name` behavior:
        - font object validation.
        - family extraction from keyword/symbol keys.
        - fold-wildcards output shape parity.
      - aligned `face-attribute-relative-p` height-specific relative checks.
      - aligned `internal-face-x-get-resource` arity and string-argument validation.
      - expanded unit coverage for the above behavior.
    - `test/neovm/vm-compat/cases/default.list`
      - added:
        - `cases/font-color-semantics`
        - `cases/font-object-semantics`
        - `cases/font-face-helper-semantics`
    - added oracle corpora:
      - `test/neovm/vm-compat/cases/font-color-semantics.{forms,expected.tsv}`
      - `test/neovm/vm-compat/cases/font-object-semantics.{forms,expected.tsv}`
      - `test/neovm/vm-compat/cases/font-face-helper-semantics.{forms,expected.tsv}`
  - verified:
    - `cargo test font::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/font-color-semantics` (pass, 15/15)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/font-object-semantics` (pass, 18/18)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/font-face-helper-semantics` (pass, 15/15)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Expanded evaluator-backed frame-designator support across font batch stubs:
  - updated:
    - `rust/neovm-core/src/elisp/font.rs`
      - added evaluator variants:
        - `list-fonts`
        - `find-font`
        - `font-family-list`
      - evaluator variants now accept `nil` and live frame designators in optional FRAME slots.
      - added font unit coverage for live-frame paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - routed the three font builtins through evaluator dispatch.
    - `test/neovm/vm-compat/cases/font-batch-semantics.{forms,expected.tsv}`
      - added selected-frame lock-ins for `list-fonts`, `find-font`, and `font-family-list`.
      - switched stale frame probes from `1` to `999999`.
      - refreshed oracle baseline.
  - verified:
    - `cargo test font::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/font-batch-semantics` (pass, 21/21)

- Ran recurring full vm-compat gate after xdisp/window/keymap compatibility slices:
  - verified:
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Hardened `xdisp-navigation` stale window probe semantics:
  - updated:
    - `test/neovm/vm-compat/cases/xdisp-navigation-semantics.{forms,expected.tsv}`
      - replaced invalid window probe `1` -> `999999` for `pos-visible-in-window-p` optional WINDOW arg.
      - refreshed oracle baseline.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/xdisp-navigation-semantics` (pass, 10/10)

- Routed `window-text-pixel-size` through evaluator-aware window designator validation:
  - updated:
    - `rust/neovm-core/src/elisp/xdisp.rs`
      - added `builtin_window_text_pixel_size_eval` to accept live window designators and validate optional FROM/TO indices.
      - added xdisp unit coverage for live-window and stale-window paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - routed `window-text-pixel-size` through evaluator dispatch.
    - `rust/neovm-core/src/elisp/window_cmds.rs`
      - `selected-window` now bootstraps the initial frame (matching `selected-frame`) so batch evaluator paths can always resolve a live window id.
      - added unit test for selected-window bootstrap behavior.
    - `test/neovm/vm-compat/cases/xdisp-pixel-metrics-semantics.{forms,expected.tsv}`
      - added selected-window lock-in for `window-text-pixel-size`.
      - switched stale window probe `1` -> `999999`.
      - refreshed oracle baseline.
  - verified:
    - `cargo test xdisp::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `cargo test window_cmds::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/xdisp-pixel-metrics-semantics` (pass, 14/14)

- Hardened display query corpus against live frame-id collisions:
  - updated:
    - `test/neovm/vm-compat/cases/display-query-designator-semantics.{forms,expected.tsv}`
      - replaced invalid display probes `1` -> `999999` across optional display argument checks.
      - refreshed oracle baseline.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/display-query-designator-semantics` (pass, 12/12)

- Aligned keymap constructor argument semantics with oracle behavior:
  - updated:
    - `rust/neovm-core/src/elisp/builtins.rs`
      - `make-keymap` now enforces max arity of 1 (`wrong-number-of-arguments` for 2+ args).
      - `make-sparse-keymap` now enforces max arity of 1 and accepts non-string NAME objects without type errors.
    - `test/neovm/vm-compat/cases/where-is-internal-semantics.{forms,expected.tsv}`
      - added constructor lock-ins for:
        - `make-keymap` (`0/1` args accepted, `2` args rejected)
        - `make-sparse-keymap` (`0/1` args accepted including non-string name, `2` args rejected)
      - refreshed oracle baseline.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/where-is-internal-semantics` (pass, 12/12)

- Tightened `isearch` stub arity parity with oracle behavior:
  - updated:
    - `rust/neovm-core/src/elisp/isearch.rs`
      - `isearch-forward` / `isearch-backward` now enforce argument range `0..=2`.
      - calls with 3+ args now signal `wrong-number-of-arguments` before stub runtime error.
      - added unit coverage for over-arity paths.
    - `test/neovm/vm-compat/cases/isearch-batch-semantics.{forms,expected.tsv}`
      - added lock-ins for 2-arg acceptance and 3-arg rejection.
      - refreshed oracle baseline.
  - verified:
    - `cargo test isearch::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/isearch-batch-semantics` (pass, 10/10)

- Added evaluator-backed live-window designator support for cursor visibility display APIs:
  - updated:
    - `rust/neovm-core/src/elisp/display.rs`
      - added evaluator variants:
        - `internal-show-cursor`
        - `internal-show-cursor-p`
      - evaluator variants now accept `nil` and live window ids.
      - added unit coverage for selected-window designators.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - routed `internal-show-cursor` / `internal-show-cursor-p` through evaluator dispatch.
    - `test/neovm/vm-compat/cases/display-stub-semantics.{forms,expected.tsv}`
      - added selected-window lock-ins.
      - switched stale window probes from `1` to `999999`.
      - refreshed oracle baseline.
  - verified:
    - `cargo test display::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/display-stub-semantics` (pass, 34/34)

- Ran recurring full vm-compat gate after display/terminal compatibility batch:
  - verified:
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Expanded evaluator-backed terminal/tty designator compatibility for live frame ids:
  - updated:
    - `rust/neovm-core/src/elisp/display.rs`
      - added evaluator variants for:
        - `terminal-name`
        - `terminal-live-p`
        - `terminal-parameter`
        - `set-terminal-parameter`
        - `send-string-to-terminal`
        - `tty-type`
        - `tty-top-frame`
        - `controlling-tty-p`
        - `suspend-tty`
        - `resume-tty`
      - added display unit tests covering live-frame acceptance for each new evaluator path.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - routed the above builtins through evaluator dispatch.
    - `test/neovm/vm-compat/cases/terminal-parameter-semantics.{forms,expected.tsv}`
      - added selected-frame lock-ins for terminal-name/live/parameter flows.
      - switched stale-probe IDs to `999999` where needed.
      - refreshed oracle baseline.
    - `test/neovm/vm-compat/cases/display-stub-semantics.{forms,expected.tsv}`
      - locked `send-string-to-terminal` selected-frame success and stale-id rejection.
      - refreshed oracle baseline.
    - `test/neovm/vm-compat/cases/tty-batch-semantics.{forms,expected.tsv}`
      - added selected-frame lock-ins for tty query/suspend/resume flows.
      - switched stale-probe IDs to `999999` to avoid live-id collisions.
      - refreshed oracle baseline.
  - verified:
    - `cargo test display::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/terminal-parameter-semantics` (pass, 24/24)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/display-stub-semantics` (pass, 32/32)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/tty-batch-semantics` (pass, 29/29)

- Added evaluator-backed `frame-terminal` live-frame designator support:
  - updated:
    - `rust/neovm-core/src/elisp/display.rs`
      - added `builtin_frame_terminal_eval` accepting `nil` or live frame designators.
      - kept pure `builtin_frame_terminal` strict (`nil`-only) and added evaluator unit coverage.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - routed `frame-terminal` through evaluator dispatch to unlock live frame designators from `selected-frame`.
    - `test/neovm/vm-compat/cases/terminal-parameter-semantics.{forms,expected.tsv}`
      - added selected-frame lock-in: `(terminal-live-p (frame-terminal (selected-frame)))`.
      - switched invalid frame probe `1` -> `999999` to avoid live-id collisions.
      - refreshed oracle baseline.
  - verified:
    - `cargo test display::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/terminal-parameter-semantics` (pass, 20/20)

- Fixed cons-initial input car typing for `read-string` / `read-from-minibuffer`:
  - updated:
    - `rust/neovm-core/src/elisp/reader.rs`
      - stringish initial-input validation now enforces that cons initial forms have a string car.
      - cons initial with non-string car now signals `wrong-type-argument (stringp ...)` before EOF signaling.
      - added reader unit tests for cons-car rejection paths.
    - `test/neovm/vm-compat/cases/minibuffer-batch.{forms,expected.tsv}`
      - added oracle lock-ins:
        - `'(1 . 1)` for `read-string` / `read-from-minibuffer` => `wrong-type-argument`
        - `'(\"x\")` remains batch `end-of-file`
      - refreshed oracle baseline.
  - verified:
    - `cargo test reader::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/minibuffer-batch` (pass, 40/40)

- Aligned `completing-read` cons-style initial-input shape checks:
  - updated:
    - `rust/neovm-core/src/elisp/reader.rs`
      - `completing-read` INITIAL-INPUT now accepts `nil`, string, or cons `(STRING . POSITION)`.
      - cons validation now enforces:
        - car must be string (`wrong-type-argument stringp` otherwise)
        - cdr must be number-or-marker (`wrong-type-argument number-or-marker-p` otherwise)
      - added unit tests for accepted and rejected cons-shape variants.
    - `test/neovm/vm-compat/cases/minibuffer-batch.{forms,expected.tsv}`
      - added oracle lock-ins for cons initial-input paths:
        - `'( \"x\" . 1)` => `end-of-file`
        - `'( \"x\")` => `wrong-type-argument`
        - `'(1 . 1)` => `wrong-type-argument`
      - refreshed oracle baseline.
  - verified:
    - `cargo test reader::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/minibuffer-batch` (pass, 36/36)

- Fixed `completing-read` initial-input type validation in batch reader stubs:
  - updated:
    - `rust/neovm-core/src/elisp/reader.rs`
      - `completing-read` now validates optional INITIAL-INPUT arg as string-like (`nil`, string, or cons).
      - non-string-like INITIAL-INPUT now signals `wrong-type-argument (stringp ...)` before EOF signaling.
      - added reader unit coverage for invalid INITIAL-INPUT.
    - `test/neovm/vm-compat/cases/minibuffer-batch.{forms,expected.tsv}`
      - added oracle lock-in: `(completing-read \"\" '(\"a\" \"b\") nil nil 1)` => `wrong-type-argument`.
      - refreshed oracle baseline.
  - verified:
    - `cargo test reader::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/minibuffer-batch` (pass, 33/33)

- Fixed minibuffer reader initial-input type validation in batch stubs:
  - updated:
    - `rust/neovm-core/src/elisp/reader.rs`
      - `read-from-minibuffer` / `read-string` now validate optional INITIAL input as string-like (`nil`, string, or cons).
      - non-string-like INITIAL values now signal `wrong-type-argument (stringp ...)` before batch EOF signaling.
      - expanded reader unit coverage for non-string INITIAL rejection.
    - `test/neovm/vm-compat/cases/minibuffer-batch.{forms,expected.tsv}`
      - added oracle lock-ins for:
        - `(read-from-minibuffer "" 1)` => `wrong-type-argument`
        - `(read-string "" 1)` => `wrong-type-argument`
      - refreshed oracle baseline.
  - verified:
    - `cargo test reader::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/minibuffer-batch` (pass, 32/32)

- Fixed `read-number` default-argument type validation in batch read stubs:
  - updated:
    - `rust/neovm-core/src/elisp/reader.rs`
      - `read-number` now validates optional DEFAULT as `numberp` when non-nil before signaling batch `end-of-file`.
      - added reader unit coverage for numeric/non-numeric DEFAULT behavior.
    - `test/neovm/vm-compat/cases/minibuffer-batch.{forms,expected.tsv}`
      - added oracle lock-ins for `read-number`:
        - numeric default still yields `end-of-file` in batch
        - non-numeric defaults (`t`, `"x"`) signal `wrong-type-argument`
      - refreshed oracle baseline.
  - verified:
    - `cargo test reader::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/minibuffer-batch` (pass, 30/30)

- Locked monitor-query designator message-detail parity:
  - updated:
    - `test/neovm/vm-compat/cases/display-monitor-semantics.{forms,expected.tsv}`
      - added assertions that invalid numeric designator payloads mention the offending value (`999999`) for both `display-monitor-attributes-list` and `frame-monitor-attributes`.
      - refreshed oracle baseline.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/display-monitor-semantics` (pass, 13/13)

- Locked display designator message-detail parity in a second oracle corpus:
  - updated:
    - `test/neovm/vm-compat/cases/display-query-designator-semantics.{forms,expected.tsv}`
      - added assertion that invalid numeric designator error messages include the offending value (`999999`) for display query builtins.
      - refreshed oracle baseline.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/display-query-designator-semantics` (pass, 12/12)

- Added argument-value detail to `get-device-terminal` display error payloads:
  - updated:
    - `rust/neovm-core/src/elisp/display.rs`
      - centralized invalid display-designator error construction using printed argument values.
      - `x-display-color-p` and related display-designator checks now include the offending value in error message text.
      - expanded unit assertion coverage for `x-display-color-p` integer-designator payload.
    - `test/neovm/vm-compat/cases/x-display-batch-semantics.{forms,expected.tsv}`
      - added explicit check that `(x-display-color-p 999999)` error message mentions `999999`.
      - refreshed oracle baseline.
  - verified:
    - `cargo test display::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/x-display-batch-semantics` (pass, 35/35)

- Expanded posix/word search oracle corpus for type and COUNT edge paths:
  - updated:
    - `test/neovm/vm-compat/cases/search-posix-word-semantics.{forms,expected.tsv}`
      - added non-string pattern type checks for `posix-search-forward` and `word-search-forward`.
      - added `COUNT=0` lock-ins (forward/backward) returning current point.
      - added negative `COUNT` edge checks under `NOERROR=t`.
      - refreshed oracle baseline.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/search-posix-word-semantics` (pass, 24/24)

- Refined evaluator X-display error payload parity for live frame designators:
  - updated:
    - `rust/neovm-core/src/elisp/display.rs`
      - added evaluator-backed `x-close-connection` handling for live frame designators.
      - aligned `x-display-pixel-width` / `x-display-pixel-height` live-frame error payload to `"Window system frame should be used"`.
      - added unit coverage for evaluator `x-close-connection` live-frame path.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - routed `x-close-connection` through evaluator dispatch.
    - `test/neovm/vm-compat/cases/x-display-batch-semantics.{forms,expected.tsv}`
      - added selected-frame message lock-ins using `(cadr err)` checks.
      - switched invalid numeric probe to `999999` for frame-designator disambiguation.
      - refreshed oracle baseline.
  - verified:
    - `cargo test display::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/x-display-batch-semantics` (pass, 34/34)

- Aligned evaluator-backed X-display query behavior for live frame designators:
  - updated:
    - `rust/neovm-core/src/elisp/display.rs`
      - added evaluator-backed variants for `x-display-pixel-width`, `x-display-pixel-height`, and `x-display-color-p`.
      - live frame designators now map to Emacs-compatible batch semantics (`error` for pixel width/height, `nil` for color query).
      - added unit test coverage for selected-frame designator paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - routed the three `x-display-*` builtins through evaluator dispatch.
    - `test/neovm/vm-compat/cases/x-display-batch-semantics.{forms,expected.tsv}`
      - added explicit selected-frame checks.
      - switched invalid numeric probes to `999999` to avoid live frame-id overlap.
      - refreshed oracle baseline.
  - verified:
    - `cargo test display::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/x-display-batch-semantics` (pass, 30/30)

- Expanded display monitor evaluator designator compatibility:
  - updated:
    - `rust/neovm-core/src/elisp/display.rs`
      - evaluator `display-monitor-attributes-list` / `frame-monitor-attributes` now accept live frame designators via shared display-designator validation.
      - added unit coverage for selected-frame designator success paths.
    - `test/neovm/vm-compat/cases/display-monitor-semantics.{forms,expected.tsv}`
      - added selected-frame monitor queries.
      - switched invalid-designator probes from `1` to `999999` to avoid selected-frame-id collisions.
  - verified:
    - `cargo test display::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/display-monitor-semantics` (pass, 11/11)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/display-monitor-frames-semantics` (pass, 3/3)

- Expanded `looking-at`/`looking-at-p` oracle corpus edge coverage:
  - updated:
    - `test/neovm/vm-compat/cases/looking-at-semantics.{forms,expected.tsv}`
      - added explicit `fboundp` coverage for `looking-at-p`.
      - added `looking-at-p` invalid-regexp/arity/type error lock-ins.
      - added explicit check that `looking-at-p` does not clobber prior match data.
      - refreshed oracle baseline with reference Emacs.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/looking-at-semantics` (pass, 20/20)

- Fixed evaluator-side `case-table` identity drift across vm-compat runs:
  - updated:
    - `rust/neovm-core/src/elisp/casetab.rs`
      - evaluator paths for `standard-case-table` and `current-case-table` now use evaluator-owned standard object state (obarray symbol storage) instead of thread-local fallback.
      - evaluator `set-standard-case-table` now updates evaluator-owned standard state directly.
      - removed the cross-thread identity drift that caused `(eq (current-case-table) (standard-case-table))` to intermittently return `nil`.
  - verified:
    - `cargo test casetab::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/case-table-object-semantics` (pass, 15/15)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Aligned `find-composition-internal` position lower-bound error semantics:
  - updated:
    - `rust/neovm-core/src/elisp/composite.rs`
      - now signals `args-out-of-range` when POS is zero or negative.
      - expanded composite unit tests for POS lower-bound error paths.
    - `test/neovm/vm-compat/cases/composite-basic-semantics.{forms,expected.tsv}`
      - added oracle-locked checks for `find-composition-internal` with `POS=0` and `POS=-1`.
      - refreshed oracle baseline.
  - verified:
    - `cargo test composite::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/composite-basic-semantics` (pass, 49/49)

- Aligned `compose-string-internal` range/error behavior with oracle subset:
  - updated:
    - `rust/neovm-core/src/elisp/composite.rs`
      - added range validation for START/END against input string length.
      - now signals `args-out-of-range` for negative/out-of-bounds or `START > END`.
      - preserves valid zero-length composition behavior (`START == END`) by returning the input string.
      - expanded composite unit tests for range paths.
    - `test/neovm/vm-compat/cases/composite-basic-semantics.{forms,expected.tsv}`
      - added range/error coverage for `compose-string-internal`:
        - `(2 1)`, `(0 4)`, `(-1 1)` => `args-out-of-range`
        - `(0 0)` remains successful and equals original string
      - refreshed oracle baseline.
  - verified:
    - `cargo test composite::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/composite-basic-semantics` (pass, 47/47)

- Added evaluator-backed `compose-region-internal` range validation and oracle corpus coverage:
  - updated:
    - `rust/neovm-core/src/elisp/composite.rs`
      - added evaluator-backed `compose-region-internal` handler with buffer-aware position range validation.
      - invalid ranges now signal `args-out-of-range` in batch-compatible paths.
      - added unit test coverage for evaluator range checks.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - routed `compose-region-internal` through evaluator dispatch.
    - `test/neovm/vm-compat/cases/composite-basic-semantics.{forms,expected.tsv}`
      - added range/error lock-ins for `compose-region-internal`:
        - `5 1`, `0 0`, `0 4`, `-1 1` in a temp buffer.
      - refreshed oracle baseline.
  - verified:
    - `cargo test composite::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/composite-basic-semantics` (pass, 43/43)

- Added oracle-locked `composition-get-gstring` range/error edge coverage:
  - updated:
    - `test/neovm/vm-compat/cases/composite-basic-semantics.{forms,expected.tsv}`
      - added explicit range/error assertions for:
        - `args-out-of-range` (`FROM > TO`, out-of-bounds `TO`, out-of-bounds `FROM==TO`)
        - zero-length shaping error (`FROM == TO` in-range and negative FROM edge)
      - refreshed oracle baseline.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/composite-basic-semantics` (pass, 39/39)

- Implemented a non-nil `composition-get-gstring` placeholder shape for valid batch inputs:
  - updated:
    - `rust/neovm-core/src/elisp/composite.rs`
      - `composition-get-gstring` now returns a vector-shaped placeholder gstring on valid input (instead of always `nil`).
      - added baseline range/error handling for common edge paths (`args-out-of-range`, zero-length shaping error) and expanded unit tests.
    - `test/neovm/vm-compat/cases/composite-basic-semantics.{forms,expected.tsv}`
      - added oracle-locked vector-shape checks:
        - `(vectorp (composition-get-gstring ...))`
        - `(vectorp (aref (composition-get-gstring ...) 0))`
      - refreshed oracle baseline.
  - verified:
    - `cargo test composite::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/composite-basic-semantics` (pass, 34/34)

- Expanded composite type/error parity for `find-composition-internal` and `composition-get-gstring`:
  - updated:
    - `rust/neovm-core/src/elisp/composite.rs`
      - `find-composition-internal` now validates POS/LIMIT (`integer-or-marker-p`) and optional STRING argument type (`stringp`) with Emacs-compatible nil handling for LIMIT.
      - `composition-get-gstring` now validates FROM/TO (`integerp`) and STRING (`stringp`) argument types.
      - expanded composite unit tests for new type-check paths.
    - `test/neovm/vm-compat/cases/composite-basic-semantics.{forms,expected.tsv}`
      - added availability + error-path checks for `composition-get-gstring`.
      - added additional `find-composition-internal` type-check coverage.
      - refreshed oracle baseline.
  - verified:
    - `cargo test composite::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/composite-basic-semantics` (pass, 32/32)

- Tightened composite compose builtin argument validation and expanded oracle corpus:
  - updated:
    - `rust/neovm-core/src/elisp/composite.rs`
      - `compose-region-internal` now enforces `integer-or-marker-p` on START/END.
      - `compose-string-internal` now enforces `stringp` for STRING and `integerp` for START/END.
      - expanded unit tests for new type-check paths.
    - `test/neovm/vm-compat/cases/composite-basic-semantics.{forms,expected.tsv}`
      - added `compose-string-internal` availability and type/error coverage.
      - added `compose-region-internal` type-error coverage.
      - refreshed oracle baseline.
  - verified:
    - `cargo test composite::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/composite-basic-semantics` (pass, 24/24)

- Aligned `pos-visible-in-window-p` optional WINDOW validation with oracle batch semantics:
  - updated:
    - `rust/neovm-core/src/elisp/xdisp.rs`
      - added evaluator-backed `pos-visible-in-window-p` path that validates optional WINDOW as a live window designator and signals `wrong-type-argument (window-live-p ...)` for invalid values.
      - expanded xdisp unit tests for evaluator window validation.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - routed `pos-visible-in-window-p` through evaluator dispatch.
    - `test/neovm/vm-compat/cases/xdisp-navigation-semantics.{forms,expected.tsv}`
      - added invalid WINDOW argument coverage and refreshed oracle baseline.
  - verified:
    - `cargo test xdisp::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/xdisp-navigation-semantics` (pass, 10/10)

- Added evaluator-backed `format-mode-line` optional designator checks and locked corpus:
  - updated:
    - `rust/neovm-core/src/elisp/xdisp.rs`
      - added evaluator-backed `format-mode-line` path that preserves batch return shape (`""`) while validating optional window and buffer arguments (`windowp` / `bufferp`).
      - expanded xdisp unit tests for format-mode-line optional designator validation.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - routed `format-mode-line` through evaluator dispatch.
    - `test/neovm/vm-compat/cases/format-mode-line-batch-semantics.{forms,expected.tsv}`
      - added oracle-locked batch edge corpus for arity and optional designator type checks.
    - `test/neovm/vm-compat/cases/default.list`
      - included `cases/format-mode-line-batch-semantics` in default compatibility runs.
  - verified:
    - `cargo test xdisp::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/format-mode-line-batch-semantics` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/xdisp-stub-edges-semantics` (pass, 43/43)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Aligned xdisp tool/tab bar optional frame argument semantics with oracle:
  - updated:
    - `rust/neovm-core/src/elisp/xdisp.rs`
      - added evaluator-backed `tool-bar-height` / `tab-bar-height` handlers that accept nil or live frame designators and signal `wrong-type-argument (framep ...)` for invalid frame arguments.
      - expanded xdisp unit tests for evaluator frame validation behavior.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - routed `tool-bar-height` and `tab-bar-height` through evaluator dispatch.
    - `test/neovm/vm-compat/cases/xdisp-stub-edges-semantics.{forms,expected.tsv}`
      - added coverage for `(tool-bar-height (selected-frame))` / `(tab-bar-height (selected-frame))`.
      - added invalid frame argument checks and refreshed oracle baseline.
  - verified:
    - `cargo test xdisp::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/xdisp-stub-edges-semantics` (pass, 43/43)

- Tightened xdisp bidi buffer-argument validation and expanded oracle lock-in:
  - updated:
    - `rust/neovm-core/src/elisp/xdisp.rs`
      - `current-bidi-paragraph-direction` now accepts only nil or a buffer object and signals `wrong-type-argument (bufferp ...)` for invalid optional argument types.
      - expanded unit tests for valid buffer handles and invalid non-buffer types.
    - `test/neovm/vm-compat/cases/xdisp-stub-edges-semantics.{forms,expected.tsv}`
      - added invalid optional buffer argument checks for `current-bidi-paragraph-direction`.
      - re-recorded oracle baseline.
  - verified:
    - `cargo test xdisp::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/xdisp-stub-edges-semantics` (pass, 39/39)

- Implemented evaluator-backed case-table object semantics and locked oracle corpus:
  - updated:
    - `rust/neovm-core/src/elisp/casetab.rs`
      - added stable standard case-table object storage.
      - added evaluator-backed `current-case-table` / `standard-case-table` object reads.
      - added evaluator-backed `set-case-table` / `set-standard-case-table` validation + state updates.
      - added buffer-local case-table object storage and isolation tests.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - routed case-table builtins through evaluator dispatch.
    - `test/neovm/vm-compat/cases/case-table-object-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/default.list`
      - included `cases/case-table-object-semantics` in default compatibility runs.
  - verified:
    - `cargo test casetab::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm CASES=cases/case-table-object-semantics` (pass, 15/15)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Aligned a composite builtin subset and locked oracle corpus:
  - updated:
    - `rust/neovm-core/src/elisp/composite.rs`
      - `composition-sort-rules` now matches batch subset behavior for nil/non-list/invalid-rule inputs with oracle-compatible error payloads.
      - `auto-composition-mode` now returns `t` in batch subset and preserves arity contract.
      - expanded module unit tests for the updated subset.
    - `test/neovm/vm-compat/cases/composite-basic-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/default.list`
      - included `cases/composite-basic-semantics` in default compatibility runs.
  - verified:
    - `cargo test composite::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/composite-basic-semantics.forms EXPECTED=cases/composite-basic-semantics.expected.tsv` (pass, 17/17)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/composite-basic-semantics` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Aligned additional xdisp stub edges with oracle semantics and locked corpus:
  - updated:
    - `rust/neovm-core/src/elisp/xdisp.rs`
      - `invisible-p` now treats symbol properties as invisible in batch semantics.
      - `move-point-visually` now enforces fixnum typing and reports oracle-compatible `args-out-of-range` / `wrong-type-argument` payloads.
      - `move-to-window-line` now reports oracle-compatible unrelated-buffer error in batch context.
      - updated focused unit tests for these behaviors.
    - `test/neovm/vm-compat/cases/xdisp-stub-edges-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/default.list`
      - included `cases/xdisp-stub-edges-semantics` in default compatibility runs.
  - verified:
    - `cargo test xdisp::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/xdisp-stub-edges-semantics.forms EXPECTED=cases/xdisp-stub-edges-semantics.expected.tsv` (pass, 37/37)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/xdisp-navigation-semantics` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/xdisp-pixel-metrics-semantics` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Implemented syntax-table object state and `with-syntax-table` restoration semantics:
  - updated:
    - `rust/neovm-core/src/elisp/syntax.rs`
      - made `standard-syntax-table` return a stable process-wide syntax-table object.
      - made evaluator-backed `syntax-table` return per-buffer syntax-table objects (defaulting to standard).
      - made evaluator-backed `set-syntax-table` update current-buffer syntax-table object state.
      - added unit tests for standard/current object identity and per-buffer isolation.
    - `rust/neovm-core/src/elisp/misc.rs`
      - `with-syntax-table` now installs evaluated TABLE, evaluates BODY, and restores the previous syntax-table object on both success and error.
      - added focused unit tests for restore-on-success and restore-on-error behavior.
    - `test/neovm/vm-compat/cases/syntax-table-object-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/misc-special-forms-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/default.list`
      - included `cases/syntax-table-object-semantics` in default compatibility runs.
  - verified:
    - `cargo test syntax_table --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `cargo test sf_with_syntax_table --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/syntax-table-semantics` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/syntax-table-object-semantics` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/misc-special-forms-semantics` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Implemented `category-table` object semantics and evaluator wiring:
  - updated:
    - `rust/neovm-core/src/elisp/category.rs`
      - replaced stubbed `category-table-p`/`category-table`/`standard-category-table`/`make-category-table`/`set-category-table` pure behavior with real category char-table object handling.
      - added process-wide stable standard category-table object management.
      - added evaluator-backed `category-table`, `standard-category-table`, and `set-category-table` behavior with buffer-local current table storage.
      - added focused unit tests for category table object identity/type and `set-category-table` paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - routed `category-table`, `standard-category-table`, and `set-category-table` through evaluator dispatch.
    - `test/neovm/vm-compat/cases/category-table-object-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/default.list`
      - included `cases/category-table-object-semantics` in default compatibility runs.
  - verified:
    - `cargo test category::tests --manifest-path rust/neovm-core/Cargo.toml -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/category-table-object-semantics.forms EXPECTED=cases/category-table-object-semantics.expected.tsv` (pass, 12/12)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/category-table-object-semantics` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `NEOVM_ORACLE_EMACS=/nix/store/ha7zx1gahhj7lrx223m9rpwh89vbqq9z-emacs-git-with-packages-20240702.0/bin/emacs make -C test/neovm/vm-compat check-builtin-registry-fboundp` (pass; expected allowlisted drift only: `neovm-precompile-file`)

- Implemented additional syntax helper builtins and default-table parity lock-ins:
  - updated:
    - `rust/neovm-core/src/elisp/syntax.rs`
      - aligned standard syntax defaults for `%`, `&`, `*`, `+`, `/`, `<`, `=`, `>`, `|`, and `$` to match oracle `char-syntax` behavior.
      - implemented `syntax-class-to-char` with Emacs-compatible class mapping and `args-out-of-range` payload shape.
      - implemented `matching-paren` with character type checks and bracket-pair mapping behavior.
      - added focused unit tests for new builtins and updated default-table expectations.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - wired pure dispatch for `syntax-class-to-char` and `matching-paren`.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - registered `syntax-class-to-char` and `matching-paren` for callable introspection parity.
    - `test/neovm/vm-compat/cases/char-syntax-ascii-map-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/syntax-class-paren-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/default.list`
      - included both new corpora in default compatibility runs.
  - verified:
    - targeted `cargo test` slices:
      - `standard_table_word_chars`, `standard_table_punctuation`, `standard_table_symbol_constituents`, `syntax_class_to_char_basics_and_errors`, `matching_paren_basics_and_errors` (pass)
    - targeted vm-compat checks:
      - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/char-syntax-ascii-map-semantics` (pass)
      - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/syntax-class-paren-semantics` (pass)
      - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Re-ran full NeoVM compatibility gate after syntax-descriptor parity slices:
  - verified:
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Aligned `string-to-syntax` descriptor semantics with oracle and expanded corpora:
  - updated:
    - `rust/neovm-core/src/elisp/syntax.rs`
      - added prefix class descriptor support (`"'"`) and aligned class code mapping (`$` => code `8`).
      - aligned `string-to-syntax "@"` to return `nil`.
      - aligned baseline `modify-syntax-entry` handling for `@` descriptors to whitespace-class behavior.
      - added focused unit tests for prefix class and `@` descriptor paths.
    - `test/neovm/vm-compat/cases/string-to-syntax-class-codes-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/syntax-descriptor-at-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/default.list`
      - included both new corpora in default compatibility runs.
  - verified:
    - targeted `cargo test` slices:
      - `syntax_class_roundtrip`, `string_to_syntax_prefix_class`, `builtin_string_to_syntax_at_returns_nil`, `modify_syntax_entry_at_descriptor_yields_whitespace` (pass)
    - targeted vm-compat checks:
      - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/string-to-syntax-class-codes-semantics` (pass)
      - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/syntax-descriptor-at-semantics` (pass)
      - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Closed syntax/buffer introspection callable gaps and locked new corpora:
  - updated:
    - `rust/neovm-core/src/elisp/syntax.rs`
      - added `copy-syntax-table` (fresh syntax-table clone with arity/type checks).
      - added baseline `forward-comment` (whitespace skip in direction of COUNT).
      - added `backward-prefix-chars` (moves over prefix-flag chars) and aligned default syntax table quote/backtick entries with Emacs punctuation defaults.
      - added no-op `syntax-ppss-flush-cache` with Emacs-compatible `(1 . many)` arity/type contract.
      - added focused unit tests for each new builtin.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - wired `copy-syntax-table`, `forward-comment`, `backward-prefix-chars`, and `syntax-ppss-flush-cache` dispatch entries.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - registered the same names for `fboundp`/introspection parity.
    - `test/neovm/vm-compat/cases/copy-syntax-table-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/forward-comment-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/backward-prefix-chars-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/syntax-ppss-flush-cache-semantics.{forms,expected.tsv}`
    - `test/neovm/vm-compat/cases/default.list`
      - added all four new corpora to the default compatibility run.
  - verified:
    - targeted `cargo test` slices:
      - `copy_syntax_table`, `forward_comment`, `backward_prefix_chars`, `syntax_ppss_flush_cache_contract` (all pass)
    - targeted vm-compat checks:
      - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/copy-syntax-table-semantics` (pass)
      - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/forward-comment-semantics` (pass)
      - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/backward-prefix-chars-semantics` (pass)
      - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/syntax-ppss-flush-cache-semantics` (pass)
      - `make -C test/neovm/vm-compat check-builtin-registry-fboundp` (pass; only intentional `neovm-precompile-file` drift remains allowlisted)
      - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Re-ran full NeoVM compatibility gate after syntax parser batch:
  - verified:
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Implemented baseline `parse-partial-sexp`/`syntax-ppss` and locked corpus:
  - updated:
    - `rust/neovm-core/src/elisp/syntax.rs`
      - added baseline parser-state engine over current syntax table/accessible buffer range.
      - added evaluator-backed `parse-partial-sexp` and `syntax-ppss` with arity/type checks.
      - added unit tests for baseline state shapes on plain text and simple list context.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - wired `parse-partial-sexp` and `syntax-ppss` in eval dispatch.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - registered `parse-partial-sexp` and `syntax-ppss` for `fboundp`/introspection parity.
    - `test/neovm/vm-compat/cases/parse-partial-sexp-syntax-ppss-semantics.forms`
      - added baseline behavior checks and core arity/type error paths.
    - `test/neovm/vm-compat/cases/parse-partial-sexp-syntax-ppss-semantics.expected.tsv`
      - recorded with `NEOVM_ORACLE_EMACS=/nix/store/2lzapcylxkad2r63h144mp9nnin4vb5n-user-environment/bin/emacs`.
    - `test/neovm/vm-compat/cases/default.list`
      - included `cases/parse-partial-sexp-syntax-ppss-semantics` in default corpus runs.
  - verified:
    - `cargo test 'elisp::syntax::tests::parse_partial_sexp_baseline_shapes' -- --nocapture` (pass)
    - `cargo test 'elisp::syntax::tests::syntax_ppss_baseline_shape' -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/parse-partial-sexp-syntax-ppss-semantics` (pass, 9/9)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Implemented `scan-sexps` baseline and added oracle-locked corpus:
  - updated:
    - `rust/neovm-core/src/elisp/syntax.rs`
      - added evaluator-backed `scan-sexps` over existing sexp scanner with baseline arity/type behavior.
      - added unit test for forward scan and backward-nil edge.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - wired `scan-sexps` in eval dispatch.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - registered `scan-sexps` for `fboundp`/introspection parity.
    - `test/neovm/vm-compat/cases/scan-sexps-semantics.forms`
      - added baseline behavior and validation/error-shape checks.
    - `test/neovm/vm-compat/cases/scan-sexps-semantics.expected.tsv`
      - recorded with `NEOVM_ORACLE_EMACS=/nix/store/2lzapcylxkad2r63h144mp9nnin4vb5n-user-environment/bin/emacs`.
    - `test/neovm/vm-compat/cases/default.list`
      - included `cases/scan-sexps-semantics` in default corpus runs.
  - verified:
    - `cargo test 'elisp::syntax::tests::scan_sexps_basic_and_backward_nil' -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/scan-sexps-semantics` (pass, 6/6)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Implemented `syntax-after` and added oracle-locked descriptor corpus:
  - updated:
    - `rust/neovm-core/src/elisp/syntax.rs`
      - added evaluator-backed `syntax-after` with Emacs-compatible arity/type checks, 1-based POS handling, and descriptor return shape.
      - added unit test for descriptor values and out-of-range nil behavior.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - wired `syntax-after` in eval dispatch.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - registered `syntax-after` for `fboundp`/introspection parity.
    - `test/neovm/vm-compat/cases/syntax-after-semantics.forms`
      - added runtime checks for descriptor shape, out-of-range nil, and arity/type errors.
    - `test/neovm/vm-compat/cases/syntax-after-semantics.expected.tsv`
      - recorded with `NEOVM_ORACLE_EMACS=/nix/store/2lzapcylxkad2r63h144mp9nnin4vb5n-user-environment/bin/emacs`.
    - `test/neovm/vm-compat/cases/default.list`
      - included `cases/syntax-after-semantics` in default corpus runs.
  - verified:
    - `cargo test 'elisp::syntax::tests::syntax_after_returns_descriptor_and_nil_out_of_range' -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/syntax-after-semantics` (pass, 8/8)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Implemented `scan-lists` baseline and locked depth-0 compatibility corpus:
  - updated:
    - `rust/neovm-core/src/elisp/syntax.rs`
      - added evaluator-backed `scan-lists` over existing sexp scanner (`scan_sexps`) with Emacs-compatible baseline arity/type behavior.
      - added unit test for forward scan and backward-nil edge.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - wired `scan-lists` in eval dispatch.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - registered `scan-lists` for `fboundp`/introspection parity.
    - `test/neovm/vm-compat/cases/scan-lists-semantics.forms`
      - added baseline depth-0 behavior and validation/error-shape checks.
    - `test/neovm/vm-compat/cases/scan-lists-semantics.expected.tsv`
      - recorded with `NEOVM_ORACLE_EMACS=/nix/store/2lzapcylxkad2r63h144mp9nnin4vb5n-user-environment/bin/emacs`.
    - `test/neovm/vm-compat/cases/default.list`
      - included `cases/scan-lists-semantics` in default corpus runs.
  - verified:
    - `cargo test 'elisp::syntax::tests::scan_lists_basic_and_backward_nil' -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/scan-lists-semantics` (pass, 9/9)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Implemented `set-syntax-table` and expanded syntax-table corpus coverage:
  - updated:
    - `rust/neovm-core/src/elisp/syntax.rs`
      - added evaluator-backed `set-syntax-table` with Emacs-compatible arity/type signaling and table echo return shape.
      - added unit test covering valid table return and wrong-type signaling.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - wired `set-syntax-table` in eval dispatch.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - registered `set-syntax-table` for `fboundp`/introspection parity.
    - `test/neovm/vm-compat/cases/syntax-table-semantics.forms`
      - expanded with `set-syntax-table` availability/value/arity/type checks.
    - `test/neovm/vm-compat/cases/syntax-table-semantics.expected.tsv`
      - re-recorded with `NEOVM_ORACLE_EMACS=/nix/store/2lzapcylxkad2r63h144mp9nnin4vb5n-user-environment/bin/emacs`.
  - verified:
    - `cargo test 'elisp::syntax::tests::set_syntax_table_validates_and_returns_table' -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/syntax-table-semantics` (pass, 23/23)

- Implemented `syntax-table-p` and expanded syntax-table corpus coverage:
  - updated:
    - `rust/neovm-core/src/elisp/syntax.rs`
      - added pure `syntax-table-p` predicate over char-table subtype `syntax-table`.
      - added unit test covering syntax-table/non-syntax-table/atom behavior.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - wired `syntax-table-p` in pure dispatch maps.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - registered `syntax-table-p` for `fboundp`/introspection parity.
    - `test/neovm/vm-compat/cases/syntax-table-semantics.forms`
      - expanded with `syntax-table-p` availability/value/arity checks.
    - `test/neovm/vm-compat/cases/syntax-table-semantics.expected.tsv`
      - re-recorded with `NEOVM_ORACLE_EMACS=/nix/store/2lzapcylxkad2r63h144mp9nnin4vb5n-user-environment/bin/emacs`.
  - verified:
    - `cargo test 'elisp::syntax::tests::syntax_table_p_recognizes_syntax_tables' -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/syntax-table-semantics` (pass, 19/19)

- Implemented evaluator-backed `buffer-live-p` and locked behavior with corpus:
  - updated:
    - `rust/neovm-core/src/elisp/builtins.rs`
      - added `builtin_buffer_live_p` and eval dispatch wiring.
      - added unit tests covering live/killed buffer objects and non-buffer objects.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - registered `buffer-live-p` for `fboundp`/introspection parity.
    - `test/neovm/vm-compat/cases/buffer-live-p-semantics.forms`
      - added runtime checks for live/killed buffer objects, non-buffer args, and arity error shape.
    - `test/neovm/vm-compat/cases/buffer-live-p-semantics.expected.tsv`
      - recorded with `NEOVM_ORACLE_EMACS=/nix/store/2lzapcylxkad2r63h144mp9nnin4vb5n-user-environment/bin/emacs`.
    - `test/neovm/vm-compat/cases/default.list`
      - included `cases/buffer-live-p-semantics` in default corpus runs.
  - verified:
    - `cargo test 'elisp::builtins::tests::eval_buffer_live_p_tracks_killed_buffers' -- --nocapture` (pass)
    - `cargo test 'elisp::builtins::tests::eval_buffer_live_p_non_buffer_objects_return_nil' -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-live-p-semantics` (pass, 6/6)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Implemented syntax-table family builtins for compatibility:
  - updated:
    - `rust/neovm-core/src/elisp/syntax.rs`
      - upgraded `make-syntax-table` to return a syntax-table char-table and support optional parent validation.
      - added `standard-syntax-table` and evaluator-backed `syntax-table`.
      - added unit tests for return shapes and error paths.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - wired `syntax-table` in eval dispatch and `standard-syntax-table` in pure dispatch maps.
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - registered `syntax-table` and `standard-syntax-table` so `fboundp`/introspection resolve.
  - verified:
    - `cargo test 'elisp::syntax::tests::make_syntax_table_returns_syntax_char_table' -- --nocapture` (pass)
    - `cargo test 'elisp::syntax::tests::make_syntax_table_parent_must_be_char_table' -- --nocapture` (pass)
    - `cargo test 'elisp::syntax::tests::standard_syntax_table_returns_char_table' -- --nocapture` (pass)
    - `cargo test 'elisp::syntax::tests::syntax_table_eval_returns_char_table' -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/misc-special-forms-semantics` (pass, 13/13)

- Added oracle-locked syntax-table compatibility corpus:
  - updated:
    - `test/neovm/vm-compat/cases/syntax-table-semantics.forms`
      - added runtime checks for `make-syntax-table`, `standard-syntax-table`, and `syntax-table` values, subtype, parent wiring, and arity/type errors.
    - `test/neovm/vm-compat/cases/syntax-table-semantics.expected.tsv`
      - recorded with `NEOVM_ORACLE_EMACS=/nix/store/2lzapcylxkad2r63h144mp9nnin4vb5n-user-environment/bin/emacs`.
    - `test/neovm/vm-compat/cases/default.list`
      - included `cases/syntax-table-semantics` in default corpus runs.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/syntax-table-semantics` (pass, 14/14)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Added oracle-locked runtime semantics corpus for misc special forms:
  - updated:
    - `test/neovm/vm-compat/cases/misc-special-forms-semantics.forms`
      - added runtime behavior checks for `with-syntax-table` and `track-mouse` (evaluation order, return values, arity, and error propagation).
    - `test/neovm/vm-compat/cases/misc-special-forms-semantics.expected.tsv`
      - recorded with `NEOVM_ORACLE_EMACS=/nix/store/2lzapcylxkad2r63h144mp9nnin4vb5n-user-environment/bin/emacs`.
    - `test/neovm/vm-compat/cases/default.list`
      - included `cases/misc-special-forms-semantics` in default corpus runs.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/misc-special-forms-semantics` (pass, 13/13)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Removed dead pure `buffer-hash` stub path and kept runtime on evaluator-backed implementation:
  - updated:
    - `rust/neovm-core/src/elisp/fns.rs`
      - removed unreferenced pure `builtin_buffer_hash` (`"0"` stub) and stub-only unit test.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - removed dead pure dispatch fallback entry for `"buffer-hash"` in the eval dispatch table.
  - verified:
    - `cargo test 'elisp::fns::tests::buffer_hash' -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-hash-semantics` (pass)

- Expanded oracle-locked `buffer-hash` corpus coverage for non-current buffer objects:
  - updated:
    - `test/neovm/vm-compat/cases/buffer-hash-semantics.forms`
      - added non-current live buffer object scenario (`generate-new-buffer` + `buffer-hash` + `kill-buffer`).
    - `test/neovm/vm-compat/cases/buffer-hash-semantics.expected.tsv`
      - re-recorded with `NEOVM_ORACLE_EMACS=/nix/store/2lzapcylxkad2r63h144mp9nnin4vb5n-user-environment/bin/emacs`.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-hash-semantics` (pass, 7/7)

- Added oracle-locked `category` compatibility corpus and aligned behavior:
  - updated:
    - `test/neovm/vm-compat/cases/category-semantics.forms`
    - `test/neovm/vm-compat/cases/category-semantics.expected.tsv` (recorded with `NEOVM_ORACLE_EMACS=/nix/store/ha7zx1gahhj7lrx223m9rpwh89vbqq9z-emacs-git-with-packages-20240702.0/bin/emacs`)
    - `test/neovm/vm-compat/cases/default.list`
    - `rust/neovm-core/src/elisp/category.rs`
      - aligned `define-category` return shape (nil) and duplicate-category error behavior.
      - broadened category character validity to ASCII graphic codes and seeded default digit-category presence needed by oracle behavior.
      - aligned `category-table-p` fallback semantics and category error messaging.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - implemented bool-vector-aware `aref/aset` logical indexing (`[--bool-vector-- SIZE ...BITS...]`), returning `t/nil` for reads and normalizing writes to `0/1`.
      - added regression test for bool-vector `aref/aset` behavior.
  - verified:
    - `cargo test 'elisp::builtins::tests::pure_dispatch_typed_aref_bool_vector_returns_boolean_bits' -- --nocapture` (pass)
    - `cargo test 'elisp::category::tests::' -- --nocapture` (pass, 51 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/category-semantics` (pass, 12/12)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/aref-aset-index-semantics` (pass, 11/11)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Tightened `builtins_extra` sequence docs/tests for `seq-length`:
  - updated:
    - `rust/neovm-core/src/elisp/builtins_extra.rs`
      - fixed stale docstring on `builtin_seq_length` (was mislabeled as `seq-count`).
      - added unit tests for `seq-length` success paths and wrong-type error signaling.
  - verified:
    - `cargo test 'elisp::builtins_extra::tests::' -- --nocapture` (pass, 16 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/seq-more` (pass, 16/16)

- Re-ran full NeoVM compatibility gate after warning-cleanup slices:
  - verified:
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Removed dead `Evaluator` network manager field:
  - updated:
    - `rust/neovm-core/src/elisp/eval.rs`
      - removed unused `network: NetworkManager` storage and initialization from evaluator state.
      - retained existing runtime behavior (no call sites referenced this field).
  - verified:
    - `cargo test 'elisp::eval::tests::' -- --nocapture` (pass, 78 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)

- Removed unused charset metadata fields from registry internals:
  - updated:
    - `rust/neovm-core/src/elisp/charset.rs`
      - dropped unreferenced `CharsetInfo` metadata fields (`doc`, `dimension`, `min_code`, `max_code`) and associated initialization noise.
      - test-gated `CharsetRegistry::names()` helper used only by charset unit tests.
      - kept charset IDs/plists/priority behavior unchanged.
  - verified:
    - `cargo test 'elisp::charset::tests::' -- --nocapture` (pass, 65 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/chars` (pass, 11/11)

- Test-gated minibuffer stack-entry internals that are not in production dispatch:
  - updated:
    - `rust/neovm-core/src/elisp/minibuffer.rs`
      - marked `MinibufferState::new`, `MinibufferManager::read_from_minibuffer`, and `MinibufferManager::max_depth` as test-only.
      - preserved full minibuffer unit-test behavior while removing dead production symbols.
  - verified:
    - `cargo test 'elisp::minibuffer::tests::' -- --nocapture` (pass, 70 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/minibuffer-contents-no-properties-semantics` (pass, 4/4)

- Removed dead duplicate `propertize` wrapper from `textprop`:
  - updated:
    - `rust/neovm-core/src/elisp/textprop.rs`
      - deleted unreferenced local `builtin_propertize` wrapper (active `propertize` dispatch remains in `builtins.rs`).
      - removed wrapper-only local `propertize` tests.
  - verified:
    - `cargo test 'elisp::textprop::tests::' -- --nocapture` (pass, 53 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/propertize-semantics` (pass, 6/6)

- Test-gated dead duplicate `current-time`/`float-time` wrappers in `timefns`:
  - updated:
    - `rust/neovm-core/src/elisp/timefns.rs`
      - marked local duplicate `builtin_current_time` and `builtin_float_time` as `#[cfg(test)]` since production dispatch uses `builtins.rs`.
      - preserved local unit-test coverage for `timefns` conversion logic.
  - verified:
    - `cargo test 'elisp::timefns::tests::' -- --nocapture` (pass, 58 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/timer-semantics` (pass, 33/33)

- Test-gated dead duplicate `cl-incf`/`cl-decf` handlers in `cl_extra`:
  - updated:
    - `rust/neovm-core/src/elisp/cl_extra.rs`
      - marked local duplicate `sf_cl_incf`/`sf_cl_decf` implementations as `#[cfg(test)]` because production dispatch uses `setf` special forms.
      - kept `cl_extra` unit-test harness behavior intact.
  - verified:
    - `cargo test 'elisp::cl_extra::tests::' -- --nocapture` (pass, 60 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)

- Pruned dead duplicate exponential/log wrappers from `floatfns`:
  - updated:
    - `rust/neovm-core/src/elisp/floatfns.rs`
      - removed unreferenced local `exp`/`expt`/`log`/`sqrt` wrapper implementations (active dispatch remains in `builtins.rs`).
      - removed now-unused helper code tied only to that dead path.
      - removed local wrapper-only tests for those wrappers.
  - verified:
    - `cargo test 'elisp::floatfns::tests::' -- --nocapture` (pass, 11 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)

- Pruned dead duplicate `isnan` wrapper from `floatfns`:
  - updated:
    - `rust/neovm-core/src/elisp/floatfns.rs`
      - removed unreferenced local `builtin_isnan` implementation (active `isnan` dispatch remains in `builtins.rs`).
      - removed local wrapper-only `isnan` test.
  - verified:
    - `cargo test 'elisp::floatfns::tests::' -- --nocapture` (pass, 19 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)

- Pruned dead duplicate trigonometric wrappers from `floatfns`:
  - updated:
    - `rust/neovm-core/src/elisp/floatfns.rs`
      - removed unreferenced local `acos`/`asin`/`atan`/`cos`/`sin`/`tan` wrapper implementations.
      - removed now-unused local domain-check helper tied to those wrappers.
      - removed local wrapper-only trig test coverage and rewired generic wrong-type/arity checks to still exercise active local wrapper paths.
  - verified:
    - `cargo test 'elisp::floatfns::tests::' -- --nocapture` (pass, 20 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)

- Pruned dead duplicate integer-rounding wrappers from `floatfns`:
  - updated:
    - `rust/neovm-core/src/elisp/floatfns.rs`
      - removed unreferenced local `ceiling`/`floor`/`round`/`truncate` wrapper implementations and local helper used only by that dead path.
      - removed local wrapper-only tests tied to those wrappers.
      - kept float-rounding wrappers (`fceiling`/`ffloor`/`fround`/`ftruncate`) intact.
  - verified:
    - `cargo test 'elisp::floatfns::tests::' -- --nocapture` (pass, 28 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)

- Pruned dead duplicate `float` wrapper from `floatfns`:
  - updated:
    - `rust/neovm-core/src/elisp/floatfns.rs`
      - removed unreferenced local `builtin_float` implementation (active `float` dispatch remains in `builtins.rs`).
      - removed local wrapper-only `float` conversion test and adjusted generic wrong-type coverage to use active `logb` local path.
  - verified:
    - `cargo test 'elisp::floatfns::tests::' -- --nocapture` (pass, 37 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)

- Pruned dead duplicate `abs` wrapper from `floatfns`:
  - updated:
    - `rust/neovm-core/src/elisp/floatfns.rs`
      - removed unreferenced local `builtin_abs` implementation (active `abs` dispatch remains in `builtins.rs`).
      - removed local wrapper-only `abs` tests.
  - verified:
    - `cargo test 'elisp::floatfns::tests::' -- --nocapture` (pass, 38 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)

- Re-ran full NeoVM compatibility gate after cleanup batch:
  - verified:
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only corpus)

- Silenced intentional placeholder dead-code noise in compiled-literal path:
  - updated:
    - `rust/neovm-core/src/elisp/compiled_literal.rs`
      - added targeted `#[allow(dead_code)]` on feature-paired `placeholder_from_byte_code_form`.
  - verified:
    - `cargo test 'elisp::compiled_literal::tests::' -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/bytecode-literal-default-policy` (pass, 5/5)

- Feature-gated legacy `.elc` literal decode helpers to active feature scope:
  - updated:
    - `rust/neovm-core/src/elisp/compiled_literal.rs`
      - gated internal decode helpers (`compiled_literal_vector_to_bytecode`, opcode decode/parser helpers) behind `legacy-elc-literal`.
      - gated related imports to match feature-scoped helper usage.
  - verified:
    - `cargo test 'elisp::compiled_literal::tests::' -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/bytecode-literal-default-policy` (pass, 5/5)
    - `NEOVM_WORKER_CARGO_FEATURES=legacy-elc-literal make -C test/neovm/vm-compat check-one-neovm CASE=cases/bytecode-literal-reader-semantics` (pass, 9/9)

- Removed dead duplicate `seq-into` wrapper from `cl_lib`:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - deleted unreferenced local `seq-into` implementation (active dispatch stays on `builtins_extra` path).
      - removed stale local helper and wrapper-only test coverage tied to that dead implementation.
  - verified:
    - `cargo test 'elisp::cl_lib::tests::' -- --nocapture` (pass, 10 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/seq-more` (pass, 16/16)

- Removed additional dead `debug` module wrapper surface:
  - updated:
    - `rust/neovm-core/src/elisp/debug.rs`
      - deleted unregistered wrappers shadowed by active dispatch in other modules: `backtrace`, `describe-function`, `describe-variable`, `documentation`, `documentation-property`, `commandp`.
      - removed local arg-helper wrappers and stale unit tests tied only to that dead surface.
  - verified:
    - `cargo test 'elisp::debug::tests::' -- --nocapture` (pass, 37 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/documentation-semantics` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/commandp-semantics` (pass, 12/12)

- Removed dead unregistered `cl-*` wrapper surface from `cl_lib`:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - deleted unreferenced wrappers: `cl-member`, `cl-first`, `cl-second`, `cl-third`, `cl-fourth`, `cl-rest`, `cl-subseq`, `cl-concatenate`, `cl-coerce`, `cl-every`, `cl-some`, `cl-reduce`.
      - removed stale unit tests tied only to those wrappers.
  - verified:
    - `cargo test 'elisp::cl_lib::tests::' -- --nocapture` (pass, 11 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/seq-more` (pass, 16/16)

- Removed dead debug helper wrapper surface:
  - updated:
    - `rust/neovm-core/src/elisp/debug.rs`
      - deleted unreferenced wrappers `debug`, `debug-on-entry`, `cancel-debug-on-entry`, `debug-on-error-p`, and `apropos`.
      - removed stale unit tests tied only to those unregistered wrappers.
  - verified:
    - `cargo test 'elisp::debug::tests::' -- --nocapture` (pass, 49 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/documentation-semantics` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/commandp-semantics` (pass, 12/12)

- Removed dead duplicate image wrapper surface:
  - updated:
    - `rust/neovm-core/src/elisp/image.rs`
      - deleted unreferenced `builtin_display_images_p` wrapper and wrapper-only tests.
      - active `display-images-p` dispatch remains in `rust/neovm-core/src/elisp/builtins.rs`.
  - verified:
    - `cargo test 'elisp::image::tests::' -- --nocapture` (pass, 51 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/display-batch-semantics` (pass, 12/12)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/display-stub-semantics` (pass, 30/30)

- Implemented evaluator-backed category docstring path (replacing pure-stub behavior in active dispatch):
  - updated:
    - `rust/neovm-core/src/elisp/category.rs`
      - added evaluator-backed `define-category`, `category-docstring`, and `get-unused-category` implementations against `CategoryManager`.
      - added focused unit tests for evaluator-backed category docstring/state semantics.
    - `rust/neovm-core/src/elisp/builtins.rs`
      - routed `define-category`, `category-docstring`, and `get-unused-category` through evaluator-dependent dispatch.
  - verified:
    - `cargo test 'elisp::category::tests::' -- --nocapture` (pass, 51 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/chars` (pass, 11/11)

- Removed additional dead duplicate wrapper surface across `dired`, `mode`, `network`, `reader`, and `subr_info`:
  - updated:
    - `rust/neovm-core/src/elisp/dired.rs`
      - removed dead duplicate `directory-files` wrapper path/tests shadowed by active `fileio` dispatch.
      - cfg-gated non-Unix-only helper `system_time_to_secs_nanos`.
    - `rust/neovm-core/src/elisp/mode.rs`
      - removed unregistered dead builtin wrapper surface (`fundamental-mode`, `major-mode`, `minor-mode-list`, `derived-mode-p`) and wrapper-only tests.
    - `rust/neovm-core/src/elisp/network.rs`
      - test-gated local arg-helper surface used only by `network` unit tests.
    - `rust/neovm-core/src/elisp/reader.rs`
      - removed dead duplicate `with-temp-buffer` wrapper surface (active special form remains in evaluator/misc paths).
      - removed dead duplicate `format-spec` wrapper surface (active implementation remains in `elisp/format.rs`).
      - removed dead duplicate `prin1-to-string` wrapper surface and wrapper-only tests.
    - `rust/neovm-core/src/elisp/subr_info.rs`
      - removed unreferenced duplicate wrappers for `subrp` / `functionp` / `byte-code-function-p` / `closurep` / `indirect-function`, and stale local tests tied only to those dead wrappers.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/directory-files` (pass, 15/15)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/directory-files-and-attributes` (pass, 14/14)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/file-attributes` (pass, 7/7)
    - `cargo test 'elisp::mode::tests::' -- --nocapture` (pass, 34 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)
    - `cargo test 'elisp::network::tests::' -- --nocapture` (pass, 45 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/process-basics` (pass, 29/29)
    - `cargo test 'elisp::reader::tests::with_output_to_string' -- --nocapture` (pass, 2 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/input-batch-readers` (pass, 70/70)
    - `cargo test 'elisp::format::tests::' -- --nocapture` (pass, 63 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/printing` (pass, 6/6)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/prin1-to-string-noescape` (pass, 5/5)
    - `cargo test 'elisp::subr_info::tests::' -- --nocapture` (pass, 45 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/subr-introspection-core` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/indirect-function-core` (pass, 13/13)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/functionp-callable-matrix` (pass, 21/21)

- Removed dead duplicate wrapper surface from `editfns`:
  - updated:
    - `rust/neovm-core/src/elisp/editfns.rs`
      - deleted unreferenced wrappers shadowed by active dispatch paths:
        `point`/`point-min`/`point-max`, `goto-char`, `delete-region`,
        `char-after`/`char-before`, region and line-position wrappers, and
        duplicate user identity wrappers.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/chars` (pass, 11/11)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/mark-semantics` (pass, 6/6)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/region-beginning-end-semantics` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/system-users-groups-semantics` (pass, 10/10)
- Removed dead duplicate reader-internals wrapper surface from `lread`:
  - updated:
    - `rust/neovm-core/src/elisp/lread.rs`
      - deleted unreferenced wrappers shadowed by active dispatch:
        `load`, `intern`, `intern-soft`, `read-char`, `read`, `read-from-string`,
        and associated private helper code/tests bound only to those wrappers.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/load-flags` (pass, 19/19)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/load-require` (pass, 12/12)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/load-relative` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/intern-obarray-semantics` (pass, 8/8)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/obarray-arg-semantics` (pass, 9/9)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/read-from-string-edges` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/read-stream-semantics` (pass, 14/14)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/input-batch-readers` (pass, 70/70)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)
- Removed dead duplicate wrapper surface from `fileio` and `indent`:
  - updated:
    - `rust/neovm-core/src/elisp/fileio.rs`
      - deleted unreferenced `builtin_file_attributes` wrapper shadowed by `dired`.
    - `rust/neovm-core/src/elisp/indent.rs`
      - deleted unreferenced wrappers shadowed by active `kill_ring` implementations:
        `indent-line-to`, `indent-rigidly`, `newline-and-indent`,
        `tab-to-tab-stop`, `delete-indentation`.
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/file-attributes` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/directory-files` (pass, 15/15)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/indent-region-semantics` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/indent-rigidly-read-only-variable-semantics` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)
- Re-ran the full NeoVM vm-compat gate after dead-module cleanup batch:
  - verified:
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default + neovm-only enabled corpus)
- Removed dead legacy `elisp/buffer` module subtree that was not compiled/referenced:
  - deleted:
    - `rust/neovm-core/src/elisp/buffer.rs`
    - `rust/neovm-core/src/elisp/buffer/args.rs`
    - `rust/neovm-core/src/elisp/buffer/stateful.rs`
    - `rust/neovm-core/src/elisp/buffer/tests.rs`
  - verified:
    - `cargo test --lib --no-run`
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-locals` (pass, 9/9)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-local-value` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/defvar-local` (pass, 7/7)
- Removed dead legacy `elisp/character` module subtree that was not compiled/referenced:
  - deleted:
    - `rust/neovm-core/src/elisp/character.rs`
    - `rust/neovm-core/src/elisp/character/builtins.rs`
    - `rust/neovm-core/src/elisp/character/helpers.rs`
    - `rust/neovm-core/src/elisp/character/tests.rs`
  - verified:
    - `cargo test --lib --no-run`
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/chars` (pass, 11/11)
- Removed dead legacy `elisp/data` module subtree that was not compiled/referenced:
  - deleted:
    - `rust/neovm-core/src/elisp/data.rs`
    - `rust/neovm-core/src/elisp/data/eval_stateful.rs`
    - `rust/neovm-core/src/elisp/data/helpers.rs`
    - `rust/neovm-core/src/elisp/data/pure.rs`
    - `rust/neovm-core/src/elisp/data/tests.rs`
  - verified:
    - `cargo test --lib --no-run`
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)
- Removed dead legacy `dispnew` module subtree that was not compiled/referenced:
  - deleted:
    - `rust/neovm-core/src/elisp/dispnew.rs`
    - `rust/neovm-core/src/elisp/dispnew/args.rs`
    - `rust/neovm-core/src/elisp/dispnew/pure.rs`
    - `rust/neovm-core/src/elisp/dispnew/tests.rs`
    - `rust/neovm-core/src/elisp/dispnew/timing.rs`
  - verified:
    - `cargo test 'elisp::display::tests::' -- --nocapture` (pass, 27 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/display-batch-semantics` (pass, 12/12)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/display-stub-semantics` (pass, 30/30)
- Removed dead legacy `elisp/keyboard` module subtree that was not compiled/referenced:
  - deleted:
    - `rust/neovm-core/src/elisp/keyboard.rs`
    - `rust/neovm-core/src/elisp/keyboard/args.rs`
    - `rust/neovm-core/src/elisp/keyboard/eval_stateful.rs`
    - `rust/neovm-core/src/elisp/keyboard/pure.rs`
    - `rust/neovm-core/src/elisp/keyboard/tests.rs`
  - verified:
    - `cargo test 'keyboard::tests::' -- --nocapture` (pass, 10 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/input-batch-readers` (pass, 70/70)
- Removed dead legacy `xfaces` module subtree that was not compiled/referenced:
  - deleted:
    - `rust/neovm-core/src/elisp/xfaces.rs`
    - `rust/neovm-core/src/elisp/xfaces/args.rs`
    - `rust/neovm-core/src/elisp/xfaces/builtins.rs`
    - `rust/neovm-core/src/elisp/xfaces/tests.rs`
  - verified:
    - `cargo test 'elisp::font::tests::' -- --nocapture` (pass, 79 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/face-batch-semantics` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/internal-lisp-face-semantics` (pass, 34/34)
- Removed dead legacy `callproc` module subtree that was no longer compiled or referenced:
  - deleted:
    - `rust/neovm-core/src/elisp/callproc.rs`
    - `rust/neovm-core/src/elisp/callproc/args.rs`
    - `rust/neovm-core/src/elisp/callproc/env.rs`
    - `rust/neovm-core/src/elisp/callproc/process.rs`
    - `rust/neovm-core/src/elisp/callproc/tests.rs`
  - active process builtins continue to come from `rust/neovm-core/src/elisp/process.rs`
  - verified:
    - `cargo test 'elisp::process::tests::' -- --nocapture` (pass, 47 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/process-basics` (pass, 29/29)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/process-error-conditions` (pass, 2/2)
- Removed dead, unexposed CL set-operation helper surface from core `cl-lib` module:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - deleted unreferenced `builtin_cl_intersection` / `builtin_cl_union` /
        `builtin_cl_set_difference` / `builtin_cl_subsetp` /
        `builtin_cl_adjoin` / `builtin_cl_remove_duplicates`
      - removed local tests bound only to those deleted dead wrappers
  - verified:
    - `cargo test 'elisp::cl_lib::tests::' -- --nocapture` (pass, 22 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
- Silenced a recurring bool-vector warning with no behavior change:
  - updated:
    - `rust/neovm-core/src/elisp/chartable.rs`
      - renamed an unused intersection tuple binding to `_len`
  - verified:
    - `cargo test 'elisp::chartable::tests::' -- --nocapture` (pass, 40 tests)
- Silenced recurring helper warnings in format/keyboard paths (no behavior change):
  - updated:
    - `rust/neovm-core/src/elisp/format.rs`
      - renamed unused helper parameters to `_name`
      - removed unnecessary `mut` from `unix_to_broken_down` local
    - `rust/neovm-core/src/keyboard.rs`
      - removed unnecessary `mut` in `lookup_key`
  - verified:
    - `cargo test 'elisp::format::tests::' -- --nocapture` (pass, 63 tests)
    - `cargo test 'keyboard::tests::' -- --nocapture` (pass, 10 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/input-batch-readers` (pass, 70/70)
- Re-ran full NeoVM compatibility gate to keep drift bounded between slices:
  - verified:
    - `make -C test/neovm/vm-compat check-all-neovm` (pass, full default corpus)
- Removed dead unexposed `cl-first` family tail wrappers:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - deleted unreferenced `builtin_cl_fifth` / `builtin_cl_sixth` / `builtin_cl_seventh` /
        `builtin_cl_eighth` / `builtin_cl_ninth` / `builtin_cl_tenth`
      - preserved active `cl-first`/`cl-second`/`cl-third`/`cl-fourth` helpers
  - verified:
    - `cargo test 'elisp::cl_lib::tests::' -- --nocapture` (pass, 36 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
- Removed dead unexposed eval-only `cl-*` helper surface:
  - updated:
    - `rust/neovm-core/src/elisp/cl_lib.rs`
      - deleted unreferenced `builtin_cl_map` / `builtin_cl_notevery` / `builtin_cl_notany`
      - deleted unreferenced `builtin_cl_remove_if` / `builtin_cl_remove_if_not` / `builtin_cl_find_if`
      - deleted unreferenced `builtin_cl_count_if` / `builtin_cl_sort` / `builtin_cl_stable_sort`
  - verified:
    - `cargo test 'elisp::cl_lib::tests::' -- --nocapture` (pass, 36 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/seq-more` (pass, 16/16)
- Removed dead duplicate helper wrappers from `builtins_extra`:
  - updated:
    - `rust/neovm-core/src/elisp/builtins_extra.rs`
      - deleted unreferenced `builtin_string_to_number_ext` / `builtin_random_ext`
      - deleted unreferenced `builtin_cl_plusp` / `builtin_cl_minusp`
      - deleted unreferenced `builtin_cl_gensym` / `builtin_make_symbol_extra`
  - verified:
    - `cargo test 'elisp::builtins_extra::tests::' -- --nocapture` (pass, 16 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cl-helper-availability` (pass, 86/86)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/string-to-number-semantics` (pass, 8/8)
- Removed dead `casefiddle` up/down/character predicate wrapper surface:
  - updated:
    - `rust/neovm-core/src/elisp/casefiddle.rs`
      - deleted unreferenced wrapper implementations for `upcase` / `downcase` / `characterp`
      - removed helper code and stale local tests used only by those deleted wrappers
      - kept active `capitalize` / `upcase-initials` / `char-resolve-modifiers` behavior and tests
  - verified:
    - `cargo test 'elisp::casefiddle::tests::' -- --nocapture` (pass, 11 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/chars` (pass, 11/11)
- Removed dead `casefiddle` byte-conversion wrapper surface:
  - updated:
    - `rust/neovm-core/src/elisp/casefiddle.rs`
      - deleted unreferenced wrapper implementations for `unibyte-char-to-multibyte` / `multibyte-char-to-unibyte` / `get-byte`
      - removed helper code and stale local tests tied only to those deleted wrappers
      - kept active modifier-resolution and live dispatch-backed behavior paths intact
  - verified:
    - `cargo test 'elisp::casefiddle::tests::' -- --nocapture` (pass, 30 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/chars` (pass, 11/11)
- Removed dead `casefiddle` width/predicate wrapper surface:
  - updated:
    - `rust/neovm-core/src/elisp/casefiddle.rs`
      - deleted unreferenced wrapper implementations for `char-or-string-p` / `max-char` / `char-width` / `string-width`
      - removed local helper code used only by those dead wrappers and stale local tests
      - retained active `capitalize` / `upcase-initials` / modifier-resolution paths
  - verified:
    - `cargo test 'elisp::casefiddle::tests::' -- --nocapture` (pass, 38 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/chars` (pass, 11/11)
- Removed dead `misc` regex wrapper surface:
  - updated:
    - `rust/neovm-core/src/elisp/misc.rs`
      - deleted unreferenced `builtin_replace_regexp_in_string` / `builtin_string_match_p` wrappers and stale local tests
      - aligned module header comments with remaining `misc` responsibility surface
  - verified:
    - `cargo test 'elisp::misc::tests::' -- --nocapture` (pass, 47 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/replace-regexp-in-string-semantics` (pass, 9/9)
- Removed dead `misc` decode/encode-char delegate wrappers:
  - updated:
    - `rust/neovm-core/src/elisp/misc.rs`
      - deleted unreferenced `builtin_decode_char` / `builtin_encode_char` wrappers and stale local tests bound only to those delegates
  - verified:
    - `cargo test 'elisp::misc::tests::' -- --nocapture` (pass, 52 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/chars` (pass, 11/11)
- Removed dead `misc` duplicate `nconc` wrapper surface:
  - updated:
    - `rust/neovm-core/src/elisp/misc.rs`
      - deleted unreferenced `builtin_nconc_improved` wrapper and stale local tests bound only to that dead helper
  - verified:
    - `cargo test 'elisp::misc::tests::' -- --nocapture` (pass, 54 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/nconc-destructive-semantics` (pass, 11/11)
- Removed dead buffer-live/rename/other wrapper surface from legacy buffer module:
  - updated:
    - `rust/neovm-core/src/elisp/buffer/stateful.rs`
      - deleted unreferenced `buffer-live-p` / `rename-buffer` / `other-buffer` wrappers (not wired in active builtin dispatch/registry)
    - `rust/neovm-core/src/elisp/buffer/tests.rs`
      - removed stale local tests/integration checks bound only to deleted dead wrappers
    - `rust/neovm-core/src/elisp/buffer.rs`
      - removed stale module comment entries for deleted wrappers
  - verified:
    - `cargo test current_buffer_returns_scratch -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)
- Removed dead duplicate buffer-local wrappers from legacy buffer stateful surface:
  - updated:
    - `rust/neovm-core/src/elisp/buffer/stateful.rs`
      - deleted unused `buffer-local-value` / `buffer-local-variables` wrappers shadowed by active dispatch implementations
    - `rust/neovm-core/src/elisp/buffer/tests.rs`
      - removed stale local tests bound only to deleted dead wrappers
    - `rust/neovm-core/src/elisp/buffer.rs`
      - removed stale module comment entries for deleted wrappers
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-local-value` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-local-variables-semantics` (pass, 7/7)
- Removed dead legacy buffer `bury-buffer` / `buffer-swap-text` stub surface:
  - updated:
    - `rust/neovm-core/src/elisp/buffer/stateful.rs`
      - deleted unreferenced `bury-buffer` and `buffer-swap-text` stubs
    - `rust/neovm-core/src/elisp/buffer/tests.rs`
      - removed stale local tests bound only to deleted dead stubs
    - `rust/neovm-core/src/elisp/buffer.rs`
      - removed stale module comment entries for deleted stubs
  - verified:
    - `cargo test kill_buffer_kills_current -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/core` (pass, 15/15)
- Removed dead legacy buffer pure-module slice after prior dead-surface trims:
  - updated:
    - deleted: `rust/neovm-core/src/elisp/buffer/pure.rs`
      - removed now-unreferenced `make-indirect-buffer` / `buffer-base-buffer` pure stubs
    - `rust/neovm-core/src/elisp/buffer.rs`
      - removed `pure` module wiring/re-export and stale module comment entries
    - `rust/neovm-core/src/elisp/buffer/tests.rs`
      - removed stale local tests bound only to deleted pure stubs
  - verified:
    - `cargo test current_buffer_returns_scratch -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/get-file-buffer-semantics` (pass, 4/4)
- Removed dead duplicate pure overlay stub surface from legacy buffer module:
  - updated:
    - `rust/neovm-core/src/elisp/buffer/pure.rs`
      - deleted unused pure overlay stub wrappers (`overlay-lists`/`overlayp`/`make-overlay`/`delete-overlay`/`overlay-start`/`overlay-end`/`overlay-buffer`/`overlay-get`/`overlay-put`/`overlays-at`/`overlays-in`)
    - `rust/neovm-core/src/elisp/buffer/tests.rs`
      - removed stale local tests bound to deleted dead wrappers
    - `rust/neovm-core/src/elisp/buffer.rs`
      - removed stale module comment entries for deleted wrappers
  - verified:
    - `cargo test overlay_put -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/overlay-arity-semantics` (pass, 8/8)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/remove-overlays-arity-semantics` (pass, 3/3)
- Removed dead duplicate pure `get-file-buffer` stub surface:
  - updated:
    - `rust/neovm-core/src/elisp/buffer/pure.rs`
      - deleted unused `get-file-buffer` stub wrapper shadowed by active evaluator implementation in `builtins.rs`
    - `rust/neovm-core/src/elisp/buffer/tests.rs`
      - removed stale local tests bound only to deleted dead wrapper
    - `rust/neovm-core/src/elisp/buffer.rs`
      - removed stale module comment entry for deleted wrapper
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/get-file-buffer-semantics` (pass, 4/4)
- Removed dead duplicate casefiddle region/word stub wrappers:
  - updated:
    - `rust/neovm-core/src/elisp/casefiddle.rs`
      - deleted unused eval-dependent stub wrappers for `upcase-region`/`downcase-region`/`capitalize-region`/`upcase-initials-region`/`upcase-word`/`downcase-word`/`capitalize-word` (active dispatch stays in `kill_ring.rs`)
      - removed stale local tests bound to those dead wrappers
  - verified:
    - `cargo test upcase_string -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/case-region-optional-arg-semantics` (pass, 11/11)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/case-region-read-only-semantics` (pass, 5/5)
- Removed dead duplicate buffer undo stubs from legacy buffer module surface:
  - updated:
    - `rust/neovm-core/src/elisp/buffer/stateful.rs`
      - deleted unused `buffer-enable-undo` and `buffer-disable-undo` stub wrappers shadowed by active `builtins.rs` implementations
    - `rust/neovm-core/src/elisp/buffer/tests.rs`
      - removed stale local tests for deleted dead wrappers
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/undo-basics` (pass, 8/8)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-local-variables-semantics` (pass, 7/7)
- Removed unreachable legacy replace/search stub entrypoints from `isearch` surface:
  - updated:
    - `rust/neovm-core/src/elisp/isearch.rs`
      - removed dead `query-replace*`/`replace-*`/`how-many`/`keep-lines`/`flush-lines` wrappers not wired in builtin dispatch
      - removed corresponding dead unit tests
      - aligned `isearch-forward`/`isearch-backward` local tests to current batch-stub error behavior
  - verified:
    - `cargo test 'elisp::isearch::tests::' -- --nocapture` (pass, 79 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/query-replace-batch-semantics` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/query-replace-edge-semantics` (pass, 12/12)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/replace-query-case-fold-variable-semantics` (pass, 10/10)
- Removed dead duplicate `abort-recursive-edit` helper from misc surface:
  - updated:
    - `rust/neovm-core/src/elisp/misc.rs`
      - deleted unused eval-dependent `builtin_abort_recursive_edit` and stale test
  - verified:
    - `cargo test 'elisp::misc::tests::' -- --nocapture` (pass, 58 tests)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/minibuffer-batch` (pass, 27/27)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/exit-recursive-edit-semantics` (pass, 3/3)
- Removed duplicate recursive-edit behavior drift in keyboard pure wrappers:
  - updated:
    - `rust/neovm-core/src/elisp/keyboard/pure.rs`
      - `top-level`, `exit-recursive-edit`, and `abort-recursive-edit` now delegate to minibuffer implementations
    - `rust/neovm-core/src/elisp/keyboard/tests.rs`
      - adjusted local expectations to match delegated `user-error` behavior for non-active recursive-edit exits
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/exit-recursive-edit-semantics` (pass, 3/3)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/minibuffer-batch` (pass, 27/27)
- Reduced `cxr` dispatch overhead without behavior changes:
  - updated:
    - `rust/neovm-core/src/elisp/builtins.rs`
      - added internal `car_value` / `cdr_value` helpers
      - switched `car`, `cdr`, and shared `apply_cxr` path to helper reuse
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cxr-semantics` (pass, 11/11)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cxr-3level-semantics` (pass, 11/11)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cxr-4level-common-semantics` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cxr-4level-first-batch-semantics` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cxr-4level-second-batch-semantics` (pass, 11/11)
- Improved vm-compat single-case ergonomics for long case-name workflows:
  - updated:
    - `test/neovm/vm-compat/Makefile`
      - `check-one-neovm` now accepts both `CASE=cases/<name>` and `CASE=<name>`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cxr-semantics` (pass, 11/11)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cxr-semantics` (pass, 11/11)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned transpose-sibling prefix behavior for `transpose-sexps`/`transpose-sentences`:
  - updated:
    - `rust/neovm-core/src/elisp/kill_ring.rs`
      - `transpose-sentences` negative underflow now signals
        `error` `"Dont have two things to transpose"` (oracle behavior)
  - added corpus:
    - `test/neovm/vm-compat/cases/transpose-siblings-prefix-arg-semantics.forms`
    - `test/neovm/vm-compat/cases/transpose-siblings-prefix-arg-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/transpose-siblings-prefix-arg-semantics` (pass, 6/6)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/transpose-sentences-read-only-variable-semantics` (pass, 4/4)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `transpose-words` signed-count semantics (direct + interactive paths):
  - updated:
    - `rust/neovm-core/src/elisp/kill_ring.rs`
      - corrected positive stepping and point progression for multi-step transposes
      - corrected negative-word selection to use words strictly before point
      - corrected direction-specific point placement after each transpose step
  - added corpus:
    - `test/neovm/vm-compat/cases/transpose-words-prefix-arg-semantics.forms`
    - `test/neovm/vm-compat/cases/transpose-words-prefix-arg-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/transpose-words-prefix-arg-semantics` (pass, 6/6)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/transpose-words-semantics` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/command-dispatch-default-arg-semantics` (pass, 46/46)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Fixed line-motion boundary signal parity for prefixed interactive movement:
  - updated:
    - `rust/neovm-core/src/elisp/navigation.rs`
      - `forward-char` now signals `end-of-buffer` on positive overflow (instead of incorrectly signaling `beginning-of-buffer`)
  - added corpus:
    - `test/neovm/vm-compat/cases/call-interactively-line-motion-prefix-boundary-semantics.forms`
    - `test/neovm/vm-compat/cases/call-interactively-line-motion-prefix-boundary-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/call-interactively-line-motion-prefix-boundary-semantics` (pass, 4/4)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/command-dispatch-line-motion-semantics` (pass, 9/9)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Added focused lock-in for word-case command prefix handling:
  - added corpus:
    - `test/neovm/vm-compat/cases/call-interactively-word-prefix-arg-semantics.forms`
    - `test/neovm/vm-compat/cases/call-interactively-word-prefix-arg-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/call-interactively-word-prefix-arg-semantics` (pass, 4/4)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `call-interactively` numeric prefix conversion for single-arg motion/edit commands:
  - updated:
    - `rust/neovm-core/src/elisp/interactive.rs`
      - added `prefix_numeric_value` conversion helper for `current-prefix-arg`
      - `call-interactively` now passes converted numeric prefix for command families that take one prefix-count arg
      - `command-execute` retains default-arg behavior (no dynamic prefix propagation)
  - added corpus:
    - `test/neovm/vm-compat/cases/call-interactively-prefix-numeric-arg-semantics.forms`
    - `test/neovm/vm-compat/cases/call-interactively-prefix-numeric-arg-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/call-interactively-prefix-numeric-arg-semantics` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/command-dispatch-default-arg-semantics` (pass, 46/46)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass after promotion)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `call-interactively` prefix plumbing for `set-mark-command`:
  - updated:
    - `rust/neovm-core/src/elisp/interactive.rs`
      - `call-interactively` now passes dynamic/global `current-prefix-arg` to `set-mark-command`
      - `command-execute` behavior remains unchanged (`nil` arg path)
  - added corpus:
    - `test/neovm/vm-compat/cases/call-interactively-set-mark-command-prefix-semantics.forms`
    - `test/neovm/vm-compat/cases/call-interactively-set-mark-command-prefix-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/call-interactively-set-mark-command-prefix-semantics` (pass, 4/4)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `set-mark-command`/`activate-mark` semantics with oracle behavior:
  - updated:
    - `rust/neovm-core/src/elisp/interactive.rs`
      - `set-mark-command` now requires exactly one arg
      - `set-mark-command` non-`nil` arg now moves point to mark (no swap) and preserves `mark-active`
      - command-dispatch default args now pass `nil` for interactive `set-mark-command`
    - `rust/neovm-core/src/elisp/navigation.rs`
      - added `activate-mark` builtin with optional arg and mark-present activation behavior
    - `rust/neovm-core/src/elisp/builtins.rs`
      - wired `activate-mark` dispatch
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
      - added `activate-mark` for `fboundp`/introspection parity
  - added corpus:
    - `test/neovm/vm-compat/cases/set-mark-command-activate-mark-semantics.forms`
    - `test/neovm/vm-compat/cases/set-mark-command-activate-mark-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/set-mark-command-activate-mark-semantics` (pass, 10/10)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned mark-activation command semantics with oracle behavior:
  - updated `rust/neovm-core/src/elisp/navigation.rs`:
    - `exchange-point-and-mark` now signals `user-error` when mark is unset
  - added corpus:
    - `test/neovm/vm-compat/cases/mark-activation-commands-semantics.forms`
    - `test/neovm/vm-compat/cases/mark-activation-commands-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/mark-activation-commands-semantics.forms EXPECTED=cases/mark-activation-commands-semantics.expected.tsv` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/mark-activation-commands-semantics` (pass, 5/5)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `use-region-p` gating semantics with oracle behavior:
  - updated `rust/neovm-core/src/elisp/navigation.rs`:
    - `use-region-p` now requires: `mark-active`, `transient-mark-mode`, mark set, and non-empty region (`point != mark`)
    - dynamic/global `mark-active` and `transient-mark-mode` bindings now participate in evaluation
  - added corpus:
    - `test/neovm/vm-compat/cases/use-region-p-semantics.forms`
    - `test/neovm/vm-compat/cases/use-region-p-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/use-region-p-semantics.forms EXPECTED=cases/use-region-p-semantics.expected.tsv` (pass, 8/8)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/use-region-p-semantics` (pass, 8/8)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `region-beginning`/`region-end` unset-mark error symbol behavior:
  - updated `rust/neovm-core/src/elisp/navigation.rs`:
    - unset-mark paths now signal `error` (matching oracle), not `mark-not-set`
  - added corpus:
    - `test/neovm/vm-compat/cases/region-beginning-end-semantics.forms`
    - `test/neovm/vm-compat/cases/region-beginning-end-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/region-beginning-end-semantics.forms EXPECTED=cases/region-beginning-end-semantics.expected.tsv` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/region-beginning-end-semantics` (pass, 7/7)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `mark` return-value semantics with oracle behavior:
  - updated `rust/neovm-core/src/elisp/navigation.rs`:
    - `mark` now returns `nil` when unset (instead of signaling `mark-not-set`)
  - added corpus:
    - `test/neovm/vm-compat/cases/mark-semantics.forms`
    - `test/neovm/vm-compat/cases/mark-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/mark-semantics.forms EXPECTED=cases/mark-semantics.expected.tsv` (pass, 6/6)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/mark-semantics` (pass, 6/6)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `yank-pop` command-context and mark-marker semantics with oracle behavior:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - `yank-pop` now rotates/publishes pointer state after mark-bounds resolution, preserving no-rotation behavior when mark is unset
  - updated `rust/neovm-core/src/elisp/marker.rs`:
    - `set-marker` now mirrors updates back to buffer mark when operating on current `mark-marker` snapshots (including `nil` clear)
  - updated `rust/neovm-core/src/elisp/eval.rs`:
    - prebound `kill-ring`, `kill-ring-yank-pointer`, and `last-command` to `nil`
  - added corpora:
    - `test/neovm/vm-compat/cases/yank-pop-mark-marker-semantics.forms`
    - `test/neovm/vm-compat/cases/yank-pop-mark-marker-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/yank-pop-no-prior-yank-pointer-semantics.forms`
    - `test/neovm/vm-compat/cases/yank-pop-no-prior-yank-pointer-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-mark-marker-semantics` (pass, 4/4)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-no-prior-yank-pointer-semantics` (pass, 2/2)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-semantics` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-pointer-normalize-error-semantics` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-read-only-variable-semantics` (pass, 4/4)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-region-tracking-semantics` (pass, 3/3)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass across default + neovm-only suites after latest promotions)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `yank-pop` replacement-region tracking with oracle behavior under intervening edits:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - `yank-pop` now derives replacement bounds from current `mark`/`point` (while retaining yank-context gate), instead of stale stored byte ranges
  - added corpus:
    - `test/neovm/vm-compat/cases/yank-pop-region-tracking-semantics.forms`
    - `test/neovm/vm-compat/cases/yank-pop-region-tracking-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/yank-pop-region-tracking-semantics.forms EXPECTED=cases/yank-pop-region-tracking-semantics.expected.tsv` (pass, 3/3)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-region-tracking-semantics` (pass, 3/3)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-semantics` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-pointer-normalize-error-semantics` (pass, 5/5)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Reduced vm-compat sweep redundancy by deduplicating merged case sets:
  - updated `test/neovm/vm-compat/Makefile`:
    - added `dedupe_case_list` helper
    - `ALL_NEOVM_CASES` now dedupes `default.list` + `neovm-only.list` entries before `check-all-neovm`
  - verified:
    - `make -C test/neovm/vm-compat -n check-all-neovm CASES='cases/core cases/core' NEOVM_ONLY_CASES='cases/core cases/chars'` emits unique loop entries (`cases/core`, `cases/chars`)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `yank-pop` pointer publication-on-error semantics with oracle behavior:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs` so `yank-pop` now syncs/publishes `kill-ring-yank-pointer` before command-context gating (`end-of-file` path)
  - added corpus:
    - `test/neovm/vm-compat/cases/yank-pop-pointer-normalize-error-semantics.forms`
    - `test/neovm/vm-compat/cases/yank-pop-pointer-normalize-error-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/yank-pop-pointer-normalize-error-semantics.forms EXPECTED=cases/yank-pop-pointer-normalize-error-semantics.expected.tsv` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-pointer-normalize-error-semantics` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-semantics` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-pointer-seed-semantics` (pass, 3/3)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `yank` pointer publication semantics with oracle behavior:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs` so `yank` always syncs/publishes `kill-ring-yank-pointer` during command setup, even when insertion later errors (e.g. read-only paths)
  - added corpus:
    - `test/neovm/vm-compat/cases/yank-improper-pointer-semantics.forms`
    - `test/neovm/vm-compat/cases/yank-improper-pointer-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/yank-improper-pointer-semantics.forms EXPECTED=cases/yank-improper-pointer-semantics.expected.tsv` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-improper-pointer-semantics` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-read-only-variable-semantics` (pass, 4/4)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-ring-pointer-improper-semantics` (pass, 14/14)
- Ran full NeoVM compatibility sweep after pointer-semantics updates:
  - verified:
    - `make -C test/neovm/vm-compat check-all-neovm` (pass across default + neovm-only suites)
- Clarified legacy `.elc` compatibility suite boundary in case-list metadata:
  - updated `test/neovm/vm-compat/cases/legacy-elc-literal.list` with guidance that
    these corpora are intentionally non-default and should be run via
    `make -C test/neovm/vm-compat check-legacy-elc-neovm`
  - verified:
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-legacy-elc-neovm` (pass:
      reader 9/9, exec 102/102, edge-opcodes 5/5)
- Added length-cycle fallback oracle corpus for proper-list pointer seeds:
  - added and enabled:
    - `test/neovm/vm-compat/cases/kill-ring-pointer-length-cycle-semantics.forms`
    - `test/neovm/vm-compat/cases/kill-ring-pointer-length-cycle-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-ring-pointer-length-cycle-semantics` (pass, 19/19)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned proper vs improper pointer fallback semantics and locked with corpus:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - strict pointer sync now treats improper cons pointers as `wrong-type-argument`
    - proper-list pointers now use length-based cyclic fallback when no string-tail match exists (matching oracle behavior)
    - extracted/documented the length-cycle fallback rule in a dedicated helper for maintainability
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/kill-ring-pointer-improper-semantics.forms`
    - `test/neovm/vm-compat/cases/kill-ring-pointer-improper-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-ring-pointer-improper-semantics` (pass, 14/14)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-ring-yank-pointer-invalid-semantics` (pass, 20/20)
    - `cargo test current_kill -- --nocapture` in `rust/neovm-core` (pass)
    - `cargo test current_kill_improper_pointer_errors -- --nocapture` in `rust/neovm-core` (pass)
    - `cargo test current_kill_non_string_pointer_cycles_by_length -- --nocapture` in `rust/neovm-core` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Promoted additional passing corpora into the default vm-compat suite:
  - added to `test/neovm/vm-compat/cases/default.list`:
    - `cases/load-policy`
    - `cases/load-suffixes`
    - `cases/precompile`
    - `cases/string-concat-error-paths`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/load-policy` (pass, 12/12)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/load-suffixes` (pass, 1/1)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/precompile` (pass, 18/18)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/string-concat-error-paths` (pass, 13/13)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Locked `.elc` default policy in the default vm-compat suite:
  - added to `test/neovm/vm-compat/cases/default.list`:
    - `cases/bytecode-literal-default-policy`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/bytecode-literal-default-policy` (pass, 5/5)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Added mutator-pointer-normalization oracle corpus and list wiring:
  - added and enabled:
    - `test/neovm/vm-compat/cases/kill-ring-pointer-normalize-mutation-semantics.forms`
    - `test/neovm/vm-compat/cases/kill-ring-pointer-normalize-mutation-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
    - extended with improper cons pointer seeds for `kill-new` and `kill-append` normalization paths
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-ring-pointer-normalize-mutation-semantics` (pass, 27/27)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Added `yank-pop` mixed pointer-seed oracle corpus and list wiring:
  - added and enabled:
    - `test/neovm/vm-compat/cases/yank-pop-pointer-seed-semantics.forms`
    - `test/neovm/vm-compat/cases/yank-pop-pointer-seed-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-pointer-seed-semantics` (pass, 3/3)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Added `yank-pop` wrap/empty-entry oracle corpus and default wiring:
  - added and enabled:
    - `test/neovm/vm-compat/cases/yank-pop-wrap-empty-entry-semantics.forms`
    - `test/neovm/vm-compat/cases/yank-pop-wrap-empty-entry-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-wrap-empty-entry-semantics` (pass, 3/3)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Added pointer-wrap/empty-entry kill-ring oracle coverage and list wiring:
  - added and enabled:
    - `test/neovm/vm-compat/cases/kill-ring-pointer-wrap-semantics.forms`
    - `test/neovm/vm-compat/cases/kill-ring-pointer-wrap-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-ring-pointer-wrap-semantics` (pass, 14/14)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Fixed pointer-tail matching deadlock and locked duplicate-entry semantics:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - replaced recursive structural cons comparison in pointer-tail matching with string-suffix matching over decoded ring entries
    - avoids mutex re-lock deadlock when comparing overlapping tails (e.g. `kill-ring` vs `(cdr kill-ring)`)
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/kill-ring-yank-pointer-duplicate-semantics.forms`
    - `test/neovm/vm-compat/cases/kill-ring-yank-pointer-duplicate-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-ring-yank-pointer-duplicate-semantics` (pass, 17/17)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-ring-yank-pointer-invalid-semantics` (pass, 20/20)
    - `cargo test current_kill -- --nocapture` in `rust/neovm-core` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned malformed `kill-ring-yank-pointer` semantics to oracle behavior:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - strict pointer sync path now signals `wrong-type-argument` for non-list pointer values in `current-kill`/`yank`/`yank-pop`
    - cons-pointer matching now accepts structural tail matches (`equal`) in addition to identity matches (`eq`)
    - unmatched cons pointers now fall back to the ring tail (last entry), matching oracle behavior
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/kill-ring-yank-pointer-invalid-semantics.forms`
    - `test/neovm/vm-compat/cases/kill-ring-yank-pointer-invalid-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-ring-yank-pointer-invalid-semantics` (pass, 20/20)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-ring-yank-pointer-semantics` (pass, 16/16)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned explicit `kill-ring-yank-pointer` variable semantics with internal ring pointer state:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - sync now imports pointer state from dynamic/global `kill-ring-yank-pointer` tail into in-memory `yank_pointer`
    - sync now exports both `kill-ring` and `kill-ring-yank-pointer` after pointer-rotating operations
    - `current-kill`/`yank`/`yank-pop` rotation paths now publish pointer updates back into bindings
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/kill-ring-yank-pointer-semantics.forms`
    - `test/neovm/vm-compat/cases/kill-ring-yank-pointer-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-ring-yank-pointer-semantics` (pass, 16/16)
    - `cargo test current_kill -- --nocapture` in `rust/neovm-core` (pass)
- Added `setq`/pointer-oriented kill-ring oracle corpus coverage:
  - added and enabled:
    - `test/neovm/vm-compat/cases/kill-ring-setq-pointer-semantics.forms`
    - `test/neovm/vm-compat/cases/kill-ring-setq-pointer-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-ring-setq-pointer-semantics` (pass, 14/14)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned dynamic `kill-ring` binding behavior and added related corpus lock-in:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - added sync bridge between dynamic/global `kill-ring` bindings and internal `KillRing` state
    - kill-ring mutators now publish updated list state back through variable assignment (`eval.assign`)
    - preserved in-memory yank pointer across no-op syncs so repeated `current-kill` rotation semantics remain stable
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/kill-ring-dynamic-binding-semantics.forms`
    - `test/neovm/vm-compat/cases/kill-ring-dynamic-binding-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/yank-pop-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/yank-pop-read-only-variable-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test current_kill -- --nocapture` in `rust/neovm-core` (pass)
    - `cargo test kill_new -- --nocapture` in `rust/neovm-core` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-ring-dynamic-binding-semantics` (pass, 3/3)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-ring-command-context-semantics` (pass, 17/17)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-read-only-variable-semantics` (pass, 4/4)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/command-dispatch-default-arg-semantics` (pass, 46/46)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned core kill-ring command-context behavior with oracle semantics:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - `current-kill` now honors `N` in `DO-NOT-MOVE` mode (peek offset without rotating pointer)
    - `kill-new` now records empty-string kills (while regular kill operations still ignore empty pushes)
    - added `KillRing::peek` and `KillRing::push_allow_empty` helpers for explicit semantics
    - added unit coverage for `current-kill` do-not-move offsets and empty-string `kill-new`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/kill-ring-command-context-semantics.forms`
    - `test/neovm/vm-compat/cases/kill-ring-command-context-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test current_kill -- --nocapture` in `rust/neovm-core` (pass)
    - `cargo test kill_new_allows_empty_entry -- --nocapture` in `rust/neovm-core` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-ring-command-context-semantics` (pass, 17/17)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/command-dispatch-default-arg-semantics` (pass, 46/46)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `transpose-lines` argument and boundary command-context behavior with oracle semantics:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - implemented `ARG > 1` BOB carry-forward behavior for `transpose-lines` (e.g. `a b c` -> `b c a`)
    - aligned negative-ARG boundary error signaling for unsupported backward transpose paths
    - retained/verified newline normalization for no-trailing-newline line swaps
    - added unit coverage for `ARG=2` at BOB and negative-ARG error behavior
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/transpose-lines-command-context-semantics.forms`
    - `test/neovm/vm-compat/cases/transpose-lines-command-context-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test transpose_lines -- --nocapture` in `rust/neovm-core` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/transpose-lines-command-context-semantics` (pass, 8/8)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/transpose-lines-read-only-variable-semantics` (pass, 4/4)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Added dedicated `transpose-chars` read-only variable oracle corpus and list wiring:
  - added:
    - `test/neovm/vm-compat/cases/transpose-chars-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/transpose-chars-read-only-variable-semantics.expected.tsv`
  - wired into:
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/transpose-chars-read-only-variable-semantics` (pass, 4/4)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `transpose-lines` read-only variable behavior and newline normalization with oracle semantics:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - `transpose-lines` now honors dynamic/buffer-local/global `buffer-read-only`
    - non-BOB swap path now normalizes output when current line lacks trailing newline (`line2\nline1\n` shape)
    - added unit coverage for last-line-without-trailing-newline transpose behavior
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/transpose-lines-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/transpose-lines-read-only-variable-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test transpose_lines -- --nocapture` in `rust/neovm-core` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/transpose-lines-read-only-variable-semantics` (pass, 4/4)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `transpose-paragraphs` read-only variable behavior with oracle semantics:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - read-only check now runs at mutation time inside `transpose_subr_ranges`
    - no-op/error paths (e.g. Dont have two things to transpose) now win before read-only signaling
    - mutation path honors dynamic/buffer-local/global `buffer-read-only`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/transpose-paragraphs-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/transpose-paragraphs-read-only-variable-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/transpose-paragraphs-read-only-variable-semantics` (pass, 5/5)
- Aligned `transpose-sentences` read-only variable behavior with oracle semantics:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - `transpose-sentences` now checks read-only at mutation time so boundary errors win when no edit is possible
    - mutation path honors dynamic/buffer-local/global `buffer-read-only`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/transpose-sentences-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/transpose-sentences-read-only-variable-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/transpose-sentences-read-only-variable-semantics` (pass, 4/4)
- Aligned `transpose-sexps` read-only variable behavior with oracle semantics:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - `transpose-sexps` now honors dynamic/buffer-local/global `buffer-read-only`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/transpose-sexps-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/transpose-sexps-read-only-variable-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/transpose-sexps-read-only-variable-semantics` (pass, 4/4)
- Aligned `transpose-words` read-only variable behavior (and `transpose-chars` runtime gate) with oracle semantics:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - `transpose-words` now honors dynamic/buffer-local/global `buffer-read-only`
    - `transpose-chars` now honors dynamic/buffer-local/global `buffer-read-only`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/transpose-words-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/transpose-words-read-only-variable-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test transpose_words -- --nocapture` in `rust/neovm-core` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/transpose-words-read-only-variable-semantics` (pass, 4/4)
- Aligned `yank-pop` command-context/error semantics with oracle and locked a dedicated corpus:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - `yank-pop` now gates on `last-command == 'yank` in batch-compatible paths
    - non-yank context now returns oracle-shaped `end-of-file` when ring is non-empty
    - missing/stale yank region now signals oracle-shaped `wrong-type-argument`
    - added current-buffer bounds validation to avoid stale-region panics
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/yank-pop-semantics.forms`
    - `test/neovm/vm-compat/cases/yank-pop-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test yank_pop -- --nocapture` in `rust/neovm-core` (pass)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-pop-semantics` (pass, 5/5)
- Aligned case-word mutator read-only behavior with oracle variable semantics:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - `downcase-word`, `upcase-word`, and `capitalize-word` now honor dynamic/buffer-local/global `buffer-read-only` only when text would change
    - no-op paths (e.g. `ARG=0` or unchanged casing) now return without signaling read-only
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/case-word-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/case-word-read-only-variable-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/case-word-read-only-variable-semantics` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/case-word-semantics` (pass, 10/10)
- Aligned `indent-rigidly` read-only behavior with oracle variable semantics:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - `indent-rigidly` now honors dynamic/buffer-local/global `buffer-read-only` only when region text would actually change
    - no-op paths (`ARG=0`, empty range, or unchanged transformation) now return without signaling read-only
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/indent-rigidly-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/indent-rigidly-read-only-variable-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/indent-rigidly-read-only-variable-semantics` (pass, 5/5)
- Aligned `delete-indentation` read-only behavior with oracle variable semantics:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - `delete-indentation` now honors dynamic/buffer-local/global `buffer-read-only` for real join operations
    - no-op paths (no previous/next line to join) now return without signaling read-only
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/delete-indentation-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/delete-indentation-read-only-variable-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/delete-indentation-read-only-variable-semantics` (pass, 5/5)
- Aligned `yank` read-only behavior with oracle variable semantics:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - `yank` now honors dynamic/buffer-local/global `buffer-read-only` before insertion
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/yank-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/yank-read-only-variable-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/yank-read-only-variable-semantics` (pass, 4/4)
- Aligned kill-word read-only behavior with oracle variable semantics:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - `kill-word` now honors dynamic/buffer-local/global `buffer-read-only` for real deletions
    - `backward-kill-word` now honors dynamic/buffer-local/global `buffer-read-only` for real deletions
    - both commands now fast-return on zero-width operation (`ARG=0` no-op) without signaling read-only
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/kill-word-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/kill-word-read-only-variable-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/kill-word-read-only-variable-semantics` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/command-dispatch-default-arg-semantics` (pass, 46/46)
- Aligned whitespace/indent mutator read-only behavior with oracle semantics:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - `delete-horizontal-space` now checks read-only only when an actual deletion is needed, and honors dynamic/buffer-local/global `buffer-read-only`
    - `just-one-space` now checks read-only only when replacement would change text, and honors dynamic/buffer-local/global `buffer-read-only`
    - `indent-line-to` now checks read-only only when indentation would change, and honors dynamic/buffer-local/global `buffer-read-only`
    - `indent-to` now checks read-only only when space insertion is required, and honors dynamic/buffer-local/global `buffer-read-only`
    - `tab-to-tab-stop` now honors dynamic/buffer-local/global `buffer-read-only`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/whitespace-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/whitespace-read-only-variable-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/whitespace-read-only-variable-semantics` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/tab-to-tab-stop-semantics` (pass, 4/4)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/indent-line-to-semantics` (pass, 6/6)
- Aligned newline insertion paths with `buffer-read-only` variable semantics and locked with oracle corpus:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - `newline` now honors dynamic/buffer-local/global `buffer-read-only` (not just raw `buf.read_only`)
    - `open-line` now honors dynamic/buffer-local/global `buffer-read-only`
    - `newline-and-indent` inherits behavior through `newline`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/newline-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/newline-read-only-variable-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/newline-read-only-variable-semantics` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/indent-mode-semantics` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-read-only-default-semantics` (pass, 5/5)
- Aligned `replace-regexp-in-string` with oracle case/start semantics and locked with corpus:
  - updated `rust/neovm-core/src/elisp/search.rs`:
    - honors `case-fold-search` default behavior for matching in pure path (case-insensitive)
    - applies `FIXEDCASE` + match-case-preserving replacement behavior
    - supports Emacs replacement escapes (`\\&`, `\\1`..`\\9`)
    - aligns `START` behavior to replace from substring starting at `START` (without preserving prefix)
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/replace-regexp-in-string-semantics.forms`
    - `test/neovm/vm-compat/cases/replace-regexp-in-string-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml search::tests::replace_regexp_ -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-regexp-in-string-semantics.forms EXPECTED=cases/replace-regexp-in-string-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented evaluator-backed `query-replace` / `query-replace-regexp` batch-safe subset and oracle lock-in:
  - updated `rust/neovm-core/src/elisp/isearch.rs`:
    - added evaluator entrypoints `builtin_query_replace_eval` and `builtin_query_replace_regexp_eval`
    - aligned arity to `(2 . 7)` for both builtins
    - batch-safe subset currently routes to unconditional replace behavior (`replace-string` / `replace-regexp` evaluator paths)
  - wired dispatch/registry:
    - `rust/neovm-core/src/elisp/builtins.rs`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/query-replace-batch-semantics.forms`
    - `test/neovm/vm-compat/cases/query-replace-batch-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/query-replace-batch-semantics.forms EXPECTED=cases/query-replace-batch-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat check-builtin-registry-fboundp` (pass; expected allowlisted drift only)
- Implemented regexp replacement back-reference expansion parity and oracle lock-in:
  - updated `rust/neovm-core/src/elisp/isearch.rs`:
    - added replacement expansion for Emacs escapes (`\\&`, `\\1`..`\\9`) in regexp replacement paths
    - `replace-regexp` now uses capture-aware iteration and applies expanded replacement text
    - `query-replace-regexp` inherits the same expansion behavior via evaluator subset routing
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/replace-regexp-backref-semantics.forms`
    - `test/neovm/vm-compat/cases/replace-regexp-backref-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-regexp-backref-semantics.forms EXPECTED=cases/replace-regexp-backref-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `string-match` / `string-match-p` default case-fold semantics and oracle lock-in:
  - updated matching paths:
    - `rust/neovm-core/src/elisp/regex.rs` (`string_match_full` now uses default case-fold regex compilation)
    - `rust/neovm-core/src/elisp/search.rs` (`string-match-p` compile path now uses default case-fold)
  - added unit coverage for case-fold defaults in `rust/neovm-core/src/elisp/search.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/string-match-case-fold-semantics.forms`
    - `test/neovm/vm-compat/cases/string-match-case-fold-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml search::tests::string_match_ -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/string-match-case-fold-semantics.forms EXPECTED=cases/string-match-case-fold-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `looking-at` / `looking-at-p` default case-fold semantics and oracle lock-in:
  - updated `rust/neovm-core/src/elisp/regex.rs`:
    - `looking_at` now compiles anchored regex with default case-fold behavior
    - added unit coverage: `looking_at_defaults_to_case_fold`
  - expanded oracle corpus:
    - `test/neovm/vm-compat/cases/looking-at-p-semantics.forms`
    - `test/neovm/vm-compat/cases/looking-at-p-semantics.expected.tsv`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml regex::tests::looking_at_ -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/looking-at-p-semantics.forms EXPECTED=cases/looking-at-p-semantics.expected.tsv` (pass, 9/9)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `DELIMITED` replacement semantics in evaluator-backed search builtins:
  - updated `rust/neovm-core/src/elisp/isearch.rs`:
    - added delimited boundary helpers and enforcement in `replace-string` evaluator path
    - added delimited boundary filtering in `replace-regexp` evaluator path
    - `query-replace` and `query-replace-regexp` inherit behavior via evaluator routing
    - added unit coverage for delimited boundary helper behavior
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/replace-delimited-semantics.forms`
    - `test/neovm/vm-compat/cases/replace-delimited-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml delimited_match -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-delimited-semantics.forms EXPECTED=cases/replace-delimited-semantics.expected.tsv` (pass, 12/12)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `BACKWARD` replacement defaults in evaluator-backed search builtins:
  - updated `rust/neovm-core/src/elisp/isearch.rs`:
    - `replace-string` / `replace-regexp` now treat omitted start/end as `(point-min .. point)` when `BACKWARD` is non-nil
    - replacement point placement now matches backward flow (point to region start)
    - `query-replace` / `query-replace-regexp` inherit behavior via evaluator routing
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/replace-backward-semantics.forms`
    - `test/neovm/vm-compat/cases/replace-backward-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-backward-semantics.forms EXPECTED=cases/replace-backward-semantics.expected.tsv` (pass, 9/9)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-delimited-semantics.forms EXPECTED=cases/replace-delimited-semantics.expected.tsv` (pass, 12/12)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `BACKWARD` empty-pattern and explicit-range edge behavior in replacement builtins:
  - updated `rust/neovm-core/src/elisp/isearch.rs`:
    - fixed empty-string/empty-regexp backward insertion direction to match oracle (`after` each character, including end boundary)
    - fixed backward point placement to track first replacement location within region
    - preserved no-replacement point stability for explicit start/end backward paths
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/replace-backward-edge-semantics.forms`
    - `test/neovm/vm-compat/cases/replace-backward-edge-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-backward-edge-semantics.forms EXPECTED=cases/replace-backward-edge-semantics.expected.tsv` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-backward-semantics.forms EXPECTED=cases/replace-backward-semantics.expected.tsv` (pass, 9/9)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `REGION-NONCONTIGUOUS-P` replacement semantics in evaluator-backed replace/query paths:
  - updated `rust/neovm-core/src/elisp/isearch.rs`:
    - signals `(error "The mark is not set now, so there is no region")` when region-noncontiguous mode is requested without mark
    - forward region-noncontiguous mode now follows oracle no-op/point behavior in batch subset
    - backward region-noncontiguous mode uses point/mark region for replacement subset
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/replace-region-noncontiguous-semantics.forms`
    - `test/neovm/vm-compat/cases/replace-region-noncontiguous-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-region-noncontiguous-semantics.forms EXPECTED=cases/replace-region-noncontiguous-semantics.expected.tsv` (pass, 8/8)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-backward-edge-semantics.forms EXPECTED=cases/replace-backward-edge-semantics.expected.tsv` (pass, 7/7)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

- Implemented and locked search-stack evaluator subsets with oracle corpus:
  - `replace-regexp`:
    - added evaluator-backed replacement path in `rust/neovm-core/src/elisp/isearch.rs`
    - wired dispatch/registry in `rust/neovm-core/src/elisp/builtins.rs` and `rust/neovm-core/src/elisp/builtin_registry.rs`
    - added corpus:
      - `test/neovm/vm-compat/cases/replace-regexp-semantics.forms`
      - `test/neovm/vm-compat/cases/replace-regexp-semantics.expected.tsv`
      - enabled in `test/neovm/vm-compat/cases/default.list`
  - `keep-lines`:
    - implemented evaluator subset with region-aware line filtering in `rust/neovm-core/src/elisp/isearch.rs`
    - wired dispatch/registry
    - added corpus:
      - `test/neovm/vm-compat/cases/keep-lines-semantics.forms`
      - `test/neovm/vm-compat/cases/keep-lines-semantics.expected.tsv`
      - enabled in `test/neovm/vm-compat/cases/default.list`
  - `flush-lines`:
    - implemented evaluator subset with region-aware matching-line deletion in `rust/neovm-core/src/elisp/isearch.rs`
    - wired dispatch/registry
    - added corpus:
      - `test/neovm/vm-compat/cases/flush-lines-semantics.forms`
      - `test/neovm/vm-compat/cases/flush-lines-semantics.expected.tsv`
      - enabled in `test/neovm/vm-compat/cases/default.list`
  - `how-many`:
    - implemented evaluator regex counting subset in `rust/neovm-core/src/elisp/isearch.rs`
    - wired dispatch/registry
    - added corpus:
      - `test/neovm/vm-compat/cases/how-many-semantics.forms`
      - `test/neovm/vm-compat/cases/how-many-semantics.expected.tsv`
      - enabled in `test/neovm/vm-compat/cases/default.list`
  - `bool-vector-p`:
    - removed duplicate dead stub from `rust/neovm-core/src/elisp/builtins_extra.rs`
    - added oracle corpus:
      - `test/neovm/vm-compat/cases/bool-vector-p-semantics.forms`
      - `test/neovm/vm-compat/cases/bool-vector-p-semantics.expected.tsv`
      - enabled in `test/neovm/vm-compat/cases/default.list`
  - batch verification:
    - targeted `check-neovm` passed for each new corpus above
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)

- Exposed `memory-use-counts` in NeoVM dispatch/registry and locked compatibility semantics:
  - updated `rust/neovm-core/src/elisp/builtins_extra.rs`:
    - enforced strict arity `0` for `memory-use-counts`
    - retained stable seven-integer return shape
    - added unit coverage for shape and arity error path
  - updated `rust/neovm-core/src/elisp/builtins.rs`:
    - wired `memory-use-counts` into runtime builtin dispatch
  - updated `rust/neovm-core/src/elisp/builtin_registry.rs`:
    - added `memory-use-counts` to the builtin symbol registry
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/memory-use-counts-semantics.forms`
    - `test/neovm/vm-compat/cases/memory-use-counts-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml builtins_extra::tests::memory_use_counts_shape_and_arity -- --nocapture` (pass)
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat record FORMS=cases/memory-use-counts-semantics.forms EXPECTED=cases/memory-use-counts-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/memory-use-counts-semantics.forms EXPECTED=cases/memory-use-counts-semantics.expected.tsv` (pass, 4/4)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `garbage-collect` compatibility shape and oracle lock-in:
  - updated `rust/neovm-core/src/elisp/builtins_extra.rs`:
    - replaced `nil` stub with structured GC bucket list (`conses`, `symbols`, `strings`, `string-bytes`, `vectors`, `vector-slots`, `floats`, `intervals`, `buffers`)
    - enforced strict arity `0` (`wrong-number-of-arguments` on extra args)
    - added unit coverage for bucket shape/order and arity error path
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/garbage-collect-semantics.forms`
    - `test/neovm/vm-compat/cases/garbage-collect-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml builtins_extra::tests::garbage_collect_shape_and_arity -- --nocapture` (pass)
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat record FORMS=cases/garbage-collect-semantics.forms EXPECTED=cases/garbage-collect-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/garbage-collect-semantics.forms EXPECTED=cases/garbage-collect-semantics.expected.tsv` (pass, 6/6)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Aligned `indent-line-to` type/error payload semantics with oracle and locked with corpus:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - routed `indent-line-to` numeric parsing through a dedicated column parser
    - aligned non-number payload to `(wrong-type-argument number-or-marker-p <value>)`
    - aligned float payload to `(wrong-type-argument fixnump <value>)`
    - preserved negative-column clamp-to-zero behavior
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/indent-line-to-semantics.forms`
    - `test/neovm/vm-compat/cases/indent-line-to-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml kill_ring::tests::indent_line_to_ -- --nocapture` (pass)
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat record FORMS=cases/indent-line-to-semantics.forms EXPECTED=cases/indent-line-to-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/indent-line-to-semantics.forms EXPECTED=cases/indent-line-to-semantics.expected.tsv` (pass, 6/6)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Aligned `tab-to-tab-stop` semantics with oracle and locked with corpus:
  - updated `rust/neovm-core/src/elisp/kill_ring.rs`:
    - enforced exact arity `0` (`wrong-number-of-arguments` on extra args)
    - switched batch subset behavior from space-padding to inserting a literal TAB character
    - updated unit expectation for `tab-to-tab-stop` behavior
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/tab-to-tab-stop-semantics.forms`
    - `test/neovm/vm-compat/cases/tab-to-tab-stop-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml kill_ring::tests::tab_to_tab_stop_basic -- --nocapture` (pass)
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat record FORMS=cases/tab-to-tab-stop-semantics.forms EXPECTED=cases/tab-to-tab-stop-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/tab-to-tab-stop-semantics.forms EXPECTED=cases/tab-to-tab-stop-semantics.expected.tsv` (pass, 4/4)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented evaluator-backed `indent-according-to-mode` / `reindent-then-newline-and-indent` compatibility subset and oracle lock-in:
  - updated `rust/neovm-core/src/elisp/indent.rs`:
    - replaced `indent-according-to-mode` stub with evaluator behavior (batch subset: remove leading spaces/tabs on current line)
    - aligned `indent-according-to-mode` arity to `0..1` with ignored optional arg
    - preserved point shift behavior when indentation is removed before point
    - replaced `reindent-then-newline-and-indent` stub with `indent-according-to-mode` + newline sequence (oracle-compatible batch subset)
    - kept `reindent-then-newline-and-indent` strict arity (`0`)
    - added evaluator unit coverage for both builtins
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/indent-mode-semantics.forms`
    - `test/neovm/vm-compat/cases/indent-mode-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml indent::tests::eval_indent_mode_subset -- --nocapture` (pass)
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat record FORMS=cases/indent-mode-semantics.forms EXPECTED=cases/indent-mode-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/indent-mode-semantics.forms EXPECTED=cases/indent-mode-semantics.expected.tsv` (pass, 7/7)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented evaluator-backed `indent-region` compatibility subset and oracle lock-in:
  - updated `rust/neovm-core/src/elisp/indent.rs`:
    - replaced stub with evaluator behavior for region indentation
    - aligned return value to `t` (oracle-compatible)
    - aligned omitted/non-numeric third arg behavior to mode-like reindent path (batch subset: dedent to column `0`)
    - aligned reversed bounds (`START >= END`) to no-op success (`t`)
    - kept read-only buffer signal behavior
    - added evaluator unit coverage for numeric column, omitted column, reversed bounds, and non-numeric third arg
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/indent-region-semantics.forms`
    - `test/neovm/vm-compat/cases/indent-region-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml indent::tests::eval_indent_region_column_subset -- --nocapture` (pass)
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat record FORMS=cases/indent-region-semantics.forms EXPECTED=cases/indent-region-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/indent-region-semantics.forms EXPECTED=cases/indent-region-semantics.expected.tsv` (pass, 7/7)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented evaluator-backed `back-to-indentation` compatibility semantics and oracle lock-in:
  - updated `rust/neovm-core/src/elisp/indent.rs`:
    - added arity validation (`0` args)
    - moves point to first non-space/tab character on current line
    - moves point to end-of-line for whitespace-only lines
    - returns `nil` with oracle-compatible behavior
    - added evaluator unit coverage for tab/space/newline line variants
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/back-to-indentation-semantics.forms`
    - `test/neovm/vm-compat/cases/back-to-indentation-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml indent::tests::eval_back_to_indentation_subset -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/back-to-indentation-semantics.forms EXPECTED=cases/back-to-indentation-semantics.expected.tsv` (pass, 7/7)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `move-to-column` FORCE padding compatibility and oracle lock-in:
  - updated `rust/neovm-core/src/elisp/indent.rs`:
    - added force-path tab split behavior (insert spaces before tab when target lands inside tab width)
    - added force-path end-of-line padding using tab+space expansion toward target columns
    - aligned zero-column movement behavior to keep point at line start
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/move-to-column-force-semantics.forms`
    - `test/neovm/vm-compat/cases/move-to-column-force-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml indent::tests::eval_move_to_column_force_subset -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/move-to-column-force-semantics.forms EXPECTED=cases/move-to-column-force-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/indent-column-semantics.forms EXPECTED=cases/indent-column-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented evaluator-backed indentation column subset and oracle lock-in:
  - updated `rust/neovm-core/src/elisp/indent.rs`:
    - added evaluator-aware `current-column`, `current-indentation`, and `move-to-column`
    - aligned `move-to-column` type validation to `wholenump`
    - implemented display-column traversal with tab expansion and point movement semantics
  - wired evaluator dispatch in `rust/neovm-core/src/elisp/builtins.rs` for:
    - `current-column`
    - `current-indentation`
    - `move-to-column`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/indent-column-semantics.forms`
    - `test/neovm/vm-compat/cases/indent-column-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml indent::tests::eval_column_and_indentation_subset -- --nocapture` (pass)
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml indent::tests::eval_move_to_column_wholenump_validation -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/indent-column-semantics.forms EXPECTED=cases/indent-column-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `kbd-macro-query` compatibility subset and oracle lock-in:
  - updated `rust/neovm-core/src/elisp/kmacro.rs`:
    - enforced exact arity of 1
    - aligned non-recording/non-executing behavior to `(user-error "Not defining or executing kbd macro")`
    - kept recording-mode path as no-op `nil` pending interactive query support
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/kbd-macro-query-semantics.forms`
    - `test/neovm/vm-compat/cases/kbd-macro-query-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml test_kbd_macro_query_subset -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/kbd-macro-query-semantics.forms EXPECTED=cases/kbd-macro-query-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented pure `looking-at` regexp validation subset:
  - updated `rust/neovm-core/src/elisp/search.rs`:
    - pure dispatch now compiles translated regexp and signals `invalid-regexp` for malformed patterns
    - preserves pure-path fallback return `nil` for valid regex (no buffer context available)
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml looking_at_ -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `zlib-decompress-region` compatibility slice (stub -> oracle-aligned error/type subset):
  - updated `rust/neovm-core/src/elisp/xml.rs`:
    - arity aligned to `2..3`
    - `START` / `END` now validate `integer-or-marker-p`
    - batch behavior now signals `(error "This function can be called only in unibyte buffers")`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/zlib-decompress-region-semantics.forms`
    - `test/neovm/vm-compat/cases/zlib-decompress-region-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml zlib_decompress_region -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/zlib-decompress-region-semantics.forms EXPECTED=cases/zlib-decompress-region-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `libxml-parse-xml-region` compatibility slice (arity/type subset lock-in):
  - updated `rust/neovm-core/src/elisp/xml.rs`:
    - arity aligned to `0..4`
    - optional `START` / `END` now validate `integer-or-marker-p` only when non-`nil`
    - kept current parser fallback return shape `nil`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/libxml-parse-xml-region-semantics.forms`
    - `test/neovm/vm-compat/cases/libxml-parse-xml-region-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml libxml_parse_xml_region_arity_and_type_subset -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/libxml-parse-xml-region-semantics.forms EXPECTED=cases/libxml-parse-xml-region-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `libxml-parse-html-region` compatibility slice (arity/type subset lock-in):
  - updated `rust/neovm-core/src/elisp/xml.rs`:
    - arity aligned to `0..4`
    - optional `START` / `END` now validate `integer-or-marker-p` only when non-`nil`
    - preserved current parser fallback return shape `nil`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/libxml-parse-html-region-semantics.forms`
    - `test/neovm/vm-compat/cases/libxml-parse-html-region-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml libxml_parse_html_region_arity_and_type_subset -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/libxml-parse-html-region-semantics.forms EXPECTED=cases/libxml-parse-html-region-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `format-mode-line` / `pos-visible-in-window-p` batch compatibility slice:
  - updated `rust/neovm-core/src/elisp/xdisp.rs`:
    - `format-mode-line` arity aligned to `1..4` (no 0-arg path)
    - preserved batch return shape of empty string for accepted calls
    - `pos-visible-in-window-p` now returns oracle-aligned `nil` in batch mode
  - expanded xdisp unit coverage for arity and nil-return behavior
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/xdisp-navigation-semantics.forms`
    - `test/neovm/vm-compat/cases/xdisp-navigation-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml xdisp::tests::test_format_mode_line -- --nocapture` (pass)
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml xdisp::tests::test_pos_visible_in_window_p -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/xdisp-navigation-semantics.forms EXPECTED=cases/xdisp-navigation-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `line-pixel-height` / `window-text-pixel-size` batch compatibility slice:
  - updated `rust/neovm-core/src/elisp/xdisp.rs`:
    - `line-pixel-height` now returns oracle-aligned batch value `1`
    - `window-text-pixel-size` now:
      - accepts arity `0..7`
      - validates `WINDOW` as `nil`-only in batch (`wrong-type-argument window-live-p ...` for non-`nil`)
      - validates `FROM` / `TO` with `integer-or-marker-p` payloads
      - returns oracle-aligned batch value `(0 . 0)`
  - expanded unit coverage for new return values, arity, and argument validation
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/xdisp-pixel-metrics-semantics.forms`
    - `test/neovm/vm-compat/cases/xdisp-pixel-metrics-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml xdisp::tests::test_line_pixel_height -- --nocapture` (pass)
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml xdisp::tests::test_window_text_pixel_size -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/xdisp-pixel-metrics-semantics.forms EXPECTED=cases/xdisp-pixel-metrics-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `string-pixel-width` batch compatibility slice:
  - updated `rust/neovm-core/src/elisp/format.rs`:
    - replaced fixed `len * 8` stub with column-accurate width computation
    - aligned tab expansion to next 8-column boundary
    - reused Unicode/control width rules via `crate::encoding::char_width`
  - expanded unit coverage:
    - ASCII width behavior
    - empty string behavior
    - tab alignment (`"\t"`, `"a\t"`, `"a\tb"`)
    - wide + combining character behavior
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/string-pixel-width-semantics.forms`
    - `test/neovm/vm-compat/cases/string-pixel-width-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml string_pixel_width -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/string-pixel-width-semantics.forms EXPECTED=cases/string-pixel-width-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `make-directory` arity/parents compatibility slice:
  - updated pure + evaluator-aware builtins in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_make_directory`
    - `builtin_make_directory_eval`
  - semantics aligned with oracle subset:
    - arity `1..2`
    - strict `stringp` validation for directory path
    - non-parents create on missing parent signals `file-missing`
    - parents flag creates intermediate directories
    - evaluator path resolves relative names against dynamic/default `default-directory`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/make-directory-semantics.forms`
    - `test/neovm/vm-compat/cases/make-directory-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml make_directory_arity -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/make-directory-semantics.forms EXPECTED=cases/make-directory-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `copy-file` optional-args compatibility slice:
  - updated pure + evaluator-aware builtins in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_copy_file`
    - `builtin_copy_file_eval`
  - semantics aligned with oracle subset:
    - arity `2..6`
    - strict `stringp` validation for `FROM` and `TO`
    - destination pre-existence signals `file-already-exists` when `OK-IF-ALREADY-EXISTS` is `nil`
    - destination replacement allowed when `OK-IF-ALREADY-EXISTS` is non-`nil`
    - trailing optional args accepted (keep-time / uid-gid / xattrs flags)
    - evaluator path resolves relative names against dynamic/default `default-directory`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/copy-file-semantics.forms`
    - `test/neovm/vm-compat/cases/copy-file-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml copy_file_optional -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/copy-file-semantics.forms EXPECTED=cases/copy-file-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `rename-file` overwrite-guard compatibility slice:
  - updated pure + evaluator-aware builtins in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_rename_file`
    - `builtin_rename_file_eval`
  - semantics aligned with oracle subset:
    - arity `2..3`
    - strict `stringp` validation for `FROM` and `TO`
    - destination pre-existence signals `file-already-exists` when `OK-IF-ALREADY-EXISTS` is `nil`
    - destination replacement allowed when `OK-IF-ALREADY-EXISTS` is non-`nil`
    - evaluator path resolves relative names against dynamic/default `default-directory`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/rename-file-semantics.forms`
    - `test/neovm/vm-compat/cases/rename-file-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml rename_file_overwrite -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/rename-file-semantics.forms EXPECTED=cases/rename-file-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `add-name-to-file` compatibility slice:
  - added pure + evaluator-aware builtins in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_add_name_to_file`
    - `builtin_add_name_to_file_eval`
  - semantics aligned with oracle subset:
    - arity `2..3`
    - strict `stringp` validation for `OLDNAME` and `NEWNAME`
    - creates hard-link aliases (`NEWNAME` points to `OLDNAME`)
    - existing destination signals `file-already-exists` unless `OK-IF-ALREADY-EXISTS` is non-`nil`
    - missing source signals `file-missing`
    - evaluator path resolves relative names against dynamic/default `default-directory`
  - registered and dispatched `add-name-to-file` in:
    - `rust/neovm-core/src/elisp/builtins.rs`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/add-name-to-file-semantics.forms`
    - `test/neovm/vm-compat/cases/add-name-to-file-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml add_name_to_file -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/add-name-to-file-semantics.forms EXPECTED=cases/add-name-to-file-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `file-equal-p` compatibility slice:
  - added pure + evaluator-aware builtins in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_file_equal_p`
    - `builtin_file_equal_p_eval`
  - semantics aligned with oracle subset:
    - arity `2`
    - strict `stringp` validation for both path args
    - existing-file identity checks return `t` when both names refer to the same file
    - symlink identity follows target semantics
    - missing paths return `nil`
    - evaluator path resolves relative names against dynamic/default `default-directory`
  - registered and dispatched `file-equal-p` in:
    - `rust/neovm-core/src/elisp/builtins.rs`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/file-equal-p-semantics.forms`
    - `test/neovm/vm-compat/cases/file-equal-p-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml file_equal_p -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/file-equal-p-semantics.forms EXPECTED=cases/file-equal-p-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `file-in-directory-p` compatibility slice:
  - added pure + evaluator-aware builtins in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_file_in_directory_p`
    - `builtin_file_in_directory_p_eval`
  - semantics aligned with oracle subset:
    - arity `2`
    - strict `stringp` validation for `FILE` and `DIR`
    - truename-aware containment checks (including symlink boundary behavior)
    - `FILE==DIR` returns `t`
    - evaluator path resolves relative names against dynamic/default `default-directory`
  - registered and dispatched `file-in-directory-p` in:
    - `rust/neovm-core/src/elisp/builtins.rs`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/file-in-directory-p-semantics.forms`
    - `test/neovm/vm-compat/cases/file-in-directory-p-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml file_in_directory_p -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/file-in-directory-p-semantics.forms EXPECTED=cases/file-in-directory-p-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `default-file-modes` / `set-default-file-modes` compatibility slice:
  - added builtins in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_default_file_modes`
    - `builtin_set_default_file_modes`
  - semantics aligned with oracle subset:
    - `default-file-modes` arity `0`, return integer mode bits
    - `set-default-file-modes` arity `1`, strict integer validation, return `nil`
    - round-trip default mode updates preserved
  - registered and dispatched both builtins in:
    - `rust/neovm-core/src/elisp/builtins.rs`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/default-file-modes-semantics.forms`
    - `test/neovm/vm-compat/cases/default-file-modes-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml default_file_modes -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/default-file-modes-semantics.forms EXPECTED=cases/default-file-modes-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `set-file-times` compatibility slice:
  - added pure + evaluator-aware builtins in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_set_file_times`
    - `builtin_set_file_times_eval`
  - semantics aligned with oracle subset:
    - arity `1..3`
    - strict `stringp` validation for `FILENAME`
    - `TIMESTAMP=nil` uses current time
    - numeric and list timestamp forms accepted for deterministic epoch writes
    - non-`nil` `FLAG` treated like `nofollow` (matching current Emacs behavior)
    - return shape `t` on success
    - evaluator path resolves relative names against dynamic/default `default-directory`
  - registered and dispatched `set-file-times` in:
    - `rust/neovm-core/src/elisp/builtins.rs`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/set-file-times-semantics.forms`
    - `test/neovm/vm-compat/cases/set-file-times-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml set_file_times -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/set-file-times-semantics.forms EXPECTED=cases/set-file-times-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `file-newer-than-file-p` compatibility slice:
  - added pure + evaluator-aware builtins in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_file_newer_than_file_p`
    - `builtin_file_newer_than_file_p_eval`
  - semantics aligned with oracle subset:
    - arity `2`
    - strict `stringp` validation for `FILE1` and `FILE2`
    - missing `FILE1` returns `nil`
    - missing `FILE2` returns `t`
    - evaluator path resolves relative names against dynamic/default `default-directory`
  - registered and dispatched `file-newer-than-file-p` in:
    - `rust/neovm-core/src/elisp/builtins.rs`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/file-newer-than-file-p-semantics.forms`
    - `test/neovm/vm-compat/cases/file-newer-than-file-p-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml file_newer_than_file_p -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/file-newer-than-file-p-semantics.forms EXPECTED=cases/file-newer-than-file-p-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `file-name-case-insensitive-p` compatibility slice:
  - added pure + evaluator-aware builtins in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_file_name_case_insensitive_p`
    - `builtin_file_name_case_insensitive_p_eval`
  - semantics aligned with oracle subset:
    - arity `1`
    - strict `stringp` validation for `FILENAME`
    - evaluator path resolves relative names against dynamic/default `default-directory`
    - current backend reports case-insensitive filesystem truthiness per-platform with existing-path ancestry probing
  - registered and dispatched `file-name-case-insensitive-p` in:
    - `rust/neovm-core/src/elisp/builtins.rs`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/file-name-case-insensitive-p-semantics.forms`
    - `test/neovm/vm-compat/cases/file-name-case-insensitive-p-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml file_name_case_insensitive -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/file-name-case-insensitive-p-semantics.forms EXPECTED=cases/file-name-case-insensitive-p-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `set-file-modes` compatibility slice:
  - added pure + evaluator-aware builtins in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_set_file_modes`
    - `builtin_set_file_modes_eval`
  - semantics aligned with oracle subset:
    - arity `2..3`
    - strict `stringp` validation for `FILENAME`
    - strict `fixnump` validation for `MODE`
    - optional `FLAG` accepted and ignored
    - success return shape `nil`
    - evaluator path resolves relative names against dynamic/default `default-directory`
    - Unix chmod failures map to specific file conditions with Emacs-style `"Doing chmod"` payload prefix
  - registered and dispatched `set-file-modes` in:
    - `rust/neovm-core/src/elisp/builtins.rs`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/set-file-modes-semantics.forms`
    - `test/neovm/vm-compat/cases/set-file-modes-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml set_file_modes -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/set-file-modes-semantics.forms EXPECTED=cases/set-file-modes-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `file-modes` compatibility slice:
  - added pure + evaluator-aware builtins in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_file_modes`
    - `builtin_file_modes_eval`
  - semantics aligned with oracle subset:
    - arity `1..2`
    - strict `stringp` validation for `FILENAME`
    - missing/unreadable paths return `nil`
    - Unix mode return value normalized to permission bits (`mode & 07777`)
    - evaluator path resolves relative names against dynamic/default `default-directory`
  - registered and dispatched `file-modes` in:
    - `rust/neovm-core/src/elisp/builtins.rs`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/file-modes-semantics.forms`
    - `test/neovm/vm-compat/cases/file-modes-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml file_modes -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/file-modes-semantics.forms EXPECTED=cases/file-modes-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `make-nearby-temp-file` compatibility slice:
  - added pure + evaluator-aware builtins in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_make_nearby_temp_file`
    - `builtin_make_nearby_temp_file_eval`
  - semantics aligned with oracle subset:
    - arity `1..3`
    - `PREFIX`/`SUFFIX` type validation payloads (`sequencep` vs `stringp`) aligned with `make-temp-file`
    - plain prefixes allocate under `temporary-file-directory` fallback
    - directory-containing prefixes allocate nearby using basename-only temp prefixing
    - evaluator path resolves relative directory-containing prefixes against dynamic/default `default-directory`
  - registered and dispatched `make-nearby-temp-file` in:
    - `rust/neovm-core/src/elisp/builtins.rs`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/make-nearby-temp-file-semantics.forms`
    - `test/neovm/vm-compat/cases/make-nearby-temp-file-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml make_nearby_temp_file -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/make-nearby-temp-file-semantics.forms EXPECTED=cases/make-nearby-temp-file-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `delete-file` optional `TRASH` compatibility slice:
  - extended `delete-file` arity in `rust/neovm-core/src/elisp/fileio.rs` from exact 1 to `1..2` for both pure and evaluator-aware paths
  - preserved strict `stringp` validation for `FILENAME`
  - kept missing-file behavior as successful no-op (existing compat behavior)
  - added unit coverage for optional arg acceptance and `wrong-number-of-arguments` at 3 args
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/delete-file-trash-semantics.forms`
    - `test/neovm/vm-compat/cases/delete-file-trash-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml delete_file -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/delete-file-trash-semantics.forms EXPECTED=cases/delete-file-trash-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `make-symbolic-link` compatibility slice:
  - added pure + evaluator-aware builtins in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_make_symbolic_link`
    - `builtin_make_symbolic_link_eval`
  - semantics aligned with oracle subset on Unix:
    - arity `2..3`
    - `stringp` validation for `TARGET` and `LINKNAME`
    - optional `OK-IF-ALREADY-EXISTS` support by replacing existing linkname
    - relative path resolution against eval-time `default-directory` in evaluator path
  - registered and dispatched `make-symbolic-link` in:
    - `rust/neovm-core/src/elisp/builtins.rs`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/make-symbolic-link-semantics.forms`
    - `test/neovm/vm-compat/cases/make-symbolic-link-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml make_symbolic_link -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/make-symbolic-link-semantics.forms EXPECTED=cases/make-symbolic-link-semantics.expected.tsv` (pass, 7/7)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `delete-directory` compatibility slice:
  - added pure + evaluator-aware builtins in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_delete_directory`
    - `builtin_delete_directory_eval`
  - semantics aligned with oracle subset:
    - arity `1..3`
    - `stringp` validation for `DIRECTORY`
    - recursive behavior via optional `RECURSIVE` arg (`remove_dir_all` vs `remove_dir`)
    - relative path resolution against eval-time `default-directory`
  - registered and dispatched `delete-directory` in:
    - `rust/neovm-core/src/elisp/builtins.rs`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/delete-directory-semantics.forms`
    - `test/neovm/vm-compat/cases/delete-directory-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml delete_directory -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/delete-directory-semantics.forms EXPECTED=cases/delete-directory-semantics.expected.tsv` (pass, 6/6)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `make-temp-file` compatibility slice:
  - added pure + evaluator-aware implementations in `rust/neovm-core/src/elisp/fileio.rs`:
    - `builtin_make_temp_file`
    - `builtin_make_temp_file_eval`
  - semantics aligned with oracle subset:
    - arity `1..4`
    - `PREFIX` type payloads distinguish `sequencep` vs `stringp` mismatch classes
    - `SUFFIX` validates `stringp` when non-nil
    - non-string `TEXT` arguments are ignored (oracle behavior)
    - supports `DIR-FLAG` directory creation
    - evaluator path honors dynamic `temporary-file-directory`
  - registered and dispatched `make-temp-file` in:
    - `rust/neovm-core/src/elisp/builtins.rs`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/make-temp-file-semantics.forms`
    - `test/neovm/vm-compat/cases/make-temp-file-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml make_temp_file -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/make-temp-file-semantics.forms EXPECTED=cases/make-temp-file-semantics.expected.tsv` (pass, 8/8)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `file-truename` compatibility slice:
  - added path-level `file_truename` resolution in `rust/neovm-core/src/elisp/fileio.rs`:
    - expands relative paths against default directory
    - canonicalizes existing path prefixes while preserving missing suffixes
    - preserves trailing slash directory marker semantics
  - added pure + evaluator-aware builtins:
    - `builtin_file_truename`
    - `builtin_file_truename_eval`
  - aligned internal argument semantics:
    - arity `1..3`
    - `stringp` validation for `FILENAME`
    - `COUNTER` list-shape validation (`listp`)
    - first counter element `number-or-marker-p` validation (oracle-compatible error payload)
  - registered and dispatched `file-truename` in:
    - `rust/neovm-core/src/elisp/builtins.rs`
    - `rust/neovm-core/src/elisp/builtin_registry.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/file-truename-semantics.forms`
    - `test/neovm/vm-compat/cases/file-truename-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml file_truename -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/file-truename-semantics.forms EXPECTED=cases/file-truename-semantics.expected.tsv` (pass, 8/8)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `get-file-buffer` compatibility slice:
  - added evaluator-backed dispatch in `rust/neovm-core/src/elisp/builtins.rs` with Emacs-style semantics:
    - arity `1`
    - `stringp` validation payloads for non-string arguments
    - resolves lookup candidates relative to eval-time `default-directory`
    - matches visited file buffers by exact resolved path and canonicalized path fallback
  - added builtin registration in `rust/neovm-core/src/elisp/builtin_registry.rs`
  - expanded `builtins.rs` unit coverage for:
    - exact, relative, and canonicalized match paths
    - missing-path nil return
    - non-string type error path
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/get-file-buffer-semantics.forms`
    - `test/neovm/vm-compat/cases/get-file-buffer-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml get_file_buffer -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/get-file-buffer-semantics.forms EXPECTED=cases/get-file-buffer-semantics.expected.tsv` (pass, 4/4)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `buffer-local-variables` compatibility slice (custom/buffer-local system):
  - aligned evaluator dispatch target in `rust/neovm-core/src/elisp/custom.rs` from loose fallback behavior to explicit argument/arity semantics:
    - arity `0..1`
    - non-`nil` non-buffer argument now signals `wrong-type-argument` with `bufferp`
    - `BUFFER=nil`/omitted uses current buffer
  - implemented deterministic explicit-local alist return from buffer-local storage:
    - entries emitted as `(SYMBOL . VALUE)`
    - sorted by symbol name for stable output
  - expanded `custom.rs` tests for:
    - empty-buffer return shape (`nil`)
    - argument validation payloads (type and arity)
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/buffer-local-variables-semantics.forms`
    - `test/neovm/vm-compat/cases/buffer-local-variables-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml buffer_local_variables -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/buffer-local-variables-semantics.forms EXPECTED=cases/buffer-local-variables-semantics.expected.tsv` (pass, 7/7)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `symbol-file` compatibility slice (stub -> evaluator-backed subset):
  - added evaluator-aware dispatch in `rust/neovm-core/src/elisp/builtins.rs` for `symbol-file`
  - implemented `builtin_symbol_file_eval` in `rust/neovm-core/src/elisp/autoload.rs`:
    - supports arity `1..3` (and `wrong-number-of-arguments` at 0 or 4+)
    - returns `nil` for non-symbol designators
    - resolves autoloaded function origin file for default / `TYPE=nil` / `TYPE='defun`
    - returns `nil` for other `TYPE` selectors
  - added/expanded unit tests in `autoload.rs` for:
    - autoload file return path
    - type gating
    - third-arg acceptance and four-arg error
    - non-symbol behavior
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/symbol-file-semantics.forms`
    - `test/neovm/vm-compat/cases/symbol-file-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
    - wired into `test/neovm/vm-compat/cases/introspection.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml symbol_file -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/symbol-file-semantics.forms EXPECTED=cases/symbol-file-semantics.expected.tsv` (pass, 16/16)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Expanded legacy bytecode vm-compat corpus for `.elc` literal execution edges:
  - added:
    - `test/neovm/vm-compat/cases/bytecode-literal-edge-opcodes-semantics.forms`
    - `test/neovm/vm-compat/cases/bytecode-literal-edge-opcodes-semantics.expected.tsv`
  - enabled in:
    - `test/neovm/vm-compat/cases/legacy-elc-literal.list`
  - locked parity for edge opcodes:
    - `varbind` / `unbind`
    - `stack-ref` narrow/wide paths
    - wide operand bind/unbind path
  - verified:
    - `NEOVM_WORKER_CARGO_FEATURES=legacy-elc-literal make -C test/neovm/vm-compat check-neovm FORMS=cases/bytecode-literal-edge-opcodes-semantics.forms EXPECTED=cases/bytecode-literal-edge-opcodes-semantics.expected.tsv` (pass, 5/5)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `where-is-internal` compatibility slice (stub -> evaluator-backed):
  - implemented in `rust/neovm-core/src/elisp/interactive.rs`:
    - arity validation (`1..5`)
    - keymap designator validation with `wrong-type-argument keymapp ...`
    - explicit/default global-map resolution
    - prefix-map and parent-map traversal
    - `FIRSTONLY` return-shape semantics (vector vs list of vectors)
    - `nil` when no binding matches
  - added unit coverage in `interactive.rs` for:
    - explicit keymap match
    - `FIRSTONLY` vector shape
    - keymap type error payload
    - non-definition no-match path
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/where-is-internal-semantics.forms`
    - `test/neovm/vm-compat/cases/where-is-internal-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml where_is_internal -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/where-is-internal-semantics.forms EXPECTED=cases/where-is-internal-semantics.expected.tsv` (pass, 6/6)
    - targeted list gate:
      - `NEOVM_WORKER_CARGO_FEATURES=legacy-elc-literal make -C test/neovm/vm-compat check-neovm-list LIST=/tmp/neovm-targeted.list` (pass)
- Aligned region-taking case builtins with Emacs character-position semantics and optional noncontiguous behavior:
  - switched `kill-region`, `kill-ring-save`, `copy-region-as-kill`, `downcase-region`, `upcase-region`, `capitalize-region`, `upcase-initials-region`, and `indent-rigidly` shared bounds resolution to Emacs-style 1-based character positions
  - `interactive` default region argument synthesis now passes 1-based character positions (not raw byte offsets)
  - updated `upcase-region` / `downcase-region` / `capitalize-region` arity to `2..3` and aligned `REGION-NONCONTIGUOUS-P` behavior:
    - non-nil arg requires a live mark
    - non-nil arg uses active point/mark region (ignores explicit `BEG`/`END`)
  - updated affected `kill_ring` unit tests to use character positions and added coverage for noncontiguous-mark behavior
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/case-region-optional-arg-semantics.forms`
    - `test/neovm/vm-compat/cases/case-region-optional-arg-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test kill_ring::tests:: -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/case-region-optional-arg-semantics.forms EXPECTED=cases/case-region-optional-arg-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/command-dispatch-default-arg-semantics.forms EXPECTED=cases/command-dispatch-default-arg-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `backtrace-frame` compatibility slice:
  - replaced misc stub with evaluator-backed compatibility behavior:
    - enforces `wholenump` argument validation and 1..=2 arity
    - supports optional `BASE` filtering (`BASE` non-nil returns `nil`)
    - returns deterministic list-shaped frames for low indices and `nil` for deep indices
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/backtrace-frame-semantics.forms`
    - `test/neovm/vm-compat/cases/backtrace-frame-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - expanded `rust/neovm-core/src/elisp/misc.rs` unit coverage for:
    - low-frame shape behavior
    - `BASE` semantics
    - arity and `wholenump` error payloads
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml backtrace_frame -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/backtrace-frame-semantics.forms EXPECTED=cases/backtrace-frame-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `system-users` / `system-groups` compatibility slice:
  - replaced dired stubs with real account/group discovery from `/etc/passwd` and `/etc/group`
  - aligned output ordering with oracle behavior (reverse file order)
  - preserved fallback behavior when account files are unavailable
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/system-users-groups-semantics.forms`
    - `test/neovm/vm-compat/cases/system-users-groups-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - expanded `rust/neovm-core/src/elisp/dired.rs` tests for parsed ordering and list shape
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml dired::tests::test_system_ -- --nocapture` (pass)
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml parse_colon_file_names_reverses_order -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/system-users-groups-semantics.forms EXPECTED=cases/system-users-groups-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `read-coding-system` compatibility slice:
  - replaced `read-coding-system` / `read-non-nil-coding-system` UTF-8 stubs with batch-compatible prompt behavior:
    - prompt argument now validates as `stringp`
    - arity now matches oracle payloads
    - batch path now signals `(end-of-file "Error reading from stdin")`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/read-coding-system-semantics.forms`
    - `test/neovm/vm-compat/cases/read-coding-system-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - expanded `rust/neovm-core/src/elisp/lread.rs` unit coverage for EOF/type/arity paths
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml lread::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/read-coding-system-semantics.forms EXPECTED=cases/read-coding-system-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `eval-buffer` / `eval-region` compatibility slice:
  - replaced `lread` stubs with real evaluator-backed behavior:
    - `eval-buffer` now resolves source buffer (`nil`/current, buffer object, buffer name), evaluates all parsed forms, and preserves Emacs-compatible return shape (`nil`)
    - `eval-region` now enforces Emacs-compatible arity/type/range payloads, supports `nil` bounds via current point, evaluates region forms, and preserves `nil` return shape
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/eval-buffer-region-semantics.forms`
    - `test/neovm/vm-compat/cases/eval-buffer-region-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - expanded `rust/neovm-core/src/elisp/lread.rs` unit coverage for:
    - successful evaluation paths
    - source-buffer designator semantics
    - no-op bounds and point stability
    - type/range/arity error payloads
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml lread::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/eval-buffer-region-semantics.forms EXPECTED=cases/eval-buffer-region-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `transient-mark-mode` compatibility slice:
  - aligned evaluator behavior with oracle semantics for:
    - optional-argument handling (`nil`/missing, numeric, non-numeric non-nil)
    - state publication to `transient-mark-mode`
    - over-arity signaling (`wrong-number-of-arguments`)
  - expanded unit coverage in `rust/neovm-core/src/elisp/navigation.rs`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/transient-mark-mode-semantics.forms`
    - `test/neovm/vm-compat/cases/transient-mark-mode-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml navigation::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/transient-mark-mode-semantics.forms EXPECTED=cases/transient-mark-mode-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented display query selected-frame designator compatibility slice:
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/display-frame-designator-semantics.forms`
    - `test/neovm/vm-compat/cases/display-frame-designator-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - added evaluator-aware dispatch/validation for display query builtins:
    - `display-graphic-p`
    - `display-color-p`
    - `display-pixel-width`
    - `display-pixel-height`
    - `display-mm-width`
    - `display-mm-height`
    - `display-screens`
    - `display-color-cells`
    - `display-planes`
    - `display-visual-class`
    - `display-backing-store`
  - preserved monitor builtin behavior to avoid a real representation conflict:
    - NeoVM frame objects are currently integer IDs, so accepting live frame IDs in monitor APIs causes oracle drift for integer argument error paths (`display-monitor-semantics`)
    - monitor APIs remain on existing terminal-designator validation until frame object representation is decoupled from plain integers
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml display::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/display-frame-designator-semantics.forms EXPECTED=cases/display-frame-designator-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/display-query-designator-semantics.forms EXPECTED=cases/display-query-designator-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/display-monitor-semantics.forms EXPECTED=cases/display-monitor-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/display-monitor-frames-semantics.forms EXPECTED=cases/display-monitor-frames-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented display query designator compatibility slice:
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/display-query-designator-semantics.forms`
    - `test/neovm/vm-compat/cases/display-query-designator-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - aligned optional display designator semantics for:
    - `display-graphic-p`
    - `display-color-p`
    - `display-pixel-width`
    - `display-pixel-height`
    - `display-mm-width`
    - `display-mm-height`
    - `display-screens`
    - `display-color-cells`
    - `display-planes`
    - `display-visual-class`
    - `display-backing-store`
  - behavior now matches oracle in batch mode:
    - accepts `nil` and live terminal handle designators
    - signals `error` on invalid designators instead of silently returning defaults
  - verified:
    - `cargo test display::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/display-query-designator-semantics.forms EXPECTED=cases/display-query-designator-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/display-batch-semantics.forms EXPECTED=cases/display-batch-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/display-stub-semantics.forms EXPECTED=cases/display-stub-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/x-display-batch-semantics.forms EXPECTED=cases/x-display-batch-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented batch reader `end-of-file` payload compatibility slice:
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/read-batch-error-payloads.forms`
    - `test/neovm/vm-compat/cases/read-batch-error-payloads.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - aligned batch reader error payloads to GNU Emacs:
    - `read-from-minibuffer`
    - `read-string`
    - `read-number`
    - `completing-read`
    - `y-or-n-p`
    - `yes-or-no-p`
  - all now signal:
    - `(end-of-file "Error reading from stdin")`
  - verified:
    - `cargo test reader::tests:: -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/read-batch-error-payloads.forms EXPECTED=cases/read-batch-error-payloads.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/input-batch-readers.forms EXPECTED=cases/input-batch-readers.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/read-batch-input-semantics.forms EXPECTED=cases/read-batch-input-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `undo` result/payload compatibility slice:
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/undo-result-semantics.forms`
    - `test/neovm/vm-compat/cases/undo-result-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - fixed `undo-boundary` evaluator dispatch so boundaries are recorded in live buffer undo state
  - aligned grouped undo traversal with oracle for lists with/without trailing boundaries
  - aligned `undo` return/error payload behavior across:
    - `"Undo"`
    - `user-error "No further undo information"`
    - `user-error "No undo information in this buffer"`
  - verified:
    - `cargo test undo::tests:: -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/undo-result-semantics.forms EXPECTED=cases/undo-result-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/undo-basics.forms EXPECTED=cases/undo-basics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/undo-arity-semantics.forms EXPECTED=cases/undo-arity-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/undo-buffer-arg.forms EXPECTED=cases/undo-buffer-arg.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `undo` arity compatibility slice:
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/undo-arity-semantics.forms`
    - `test/neovm/vm-compat/cases/undo-arity-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - aligned `undo` to reject >1 args with `wrong-number-of-arguments`
  - updated undo unit coverage to assert multi-arg error semantics
  - verified:
    - `cargo test undo::tests:: -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/undo-arity-semantics.forms EXPECTED=cases/undo-arity-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Full vm-compat verification rerun after recent textprop/overlay slices:
  - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `remove-overlays` arity compatibility slice:
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/remove-overlays-arity-semantics.forms`
    - `test/neovm/vm-compat/cases/remove-overlays-arity-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - aligned `remove-overlays` to reject >4 args with `wrong-number-of-arguments`
  - added unit test for the over-arity path in `textprop.rs`
  - verified:
    - `cargo test remove_overlays_ -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/remove-overlays-arity-semantics.forms EXPECTED=cases/remove-overlays-arity-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented text-property arity compatibility slice:
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/textprop-arity-semantics.forms`
    - `test/neovm/vm-compat/cases/textprop-arity-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - aligned max-arity checks with GNU Emacs for:
    - `put-text-property` (max 5)
    - `get-text-property` / `get-char-property` (max 3)
    - `add-text-properties` / `remove-text-properties` (max 4)
    - `text-properties-at` (max 2)
    - `next-single-property-change` / `previous-single-property-change` (max 4)
    - `next-property-change` (max 3)
    - `text-property-any` (max 5)
  - added unit tests for over-arity error paths in `textprop.rs`
  - verified:
    - `cargo test textprop::tests:: -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/textprop-arity-semantics.forms EXPECTED=cases/textprop-arity-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented overlay arity compatibility slice:
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/overlay-arity-semantics.forms`
    - `test/neovm/vm-compat/cases/overlay-arity-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - aligned overlay builtins with GNU Emacs arity checks:
    - `make-overlay` now enforces max 5 args
    - `overlays-at` now enforces max 2 args
    - `move-overlay` now enforces max 4 args
  - added unit tests for over-arity paths in `textprop.rs`
  - verified:
    - `cargo test overlay_ -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/overlay-arity-semantics.forms EXPECTED=cases/overlay-arity-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented batch prompt-reader compatibility slice:
  - aligned `read-file-name` / `read-directory-name` with oracle:
    - `end-of-file` now includes payload `"Error reading from stdin"`
    - validates `DIR` / `DEFAULT` / `INITIAL` string designators when provided
  - aligned `read-buffer` / `read-command` / `read-variable` batch `end-of-file` payloads to oracle
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/read-batch-input-semantics.forms`
    - `test/neovm/vm-compat/cases/read-batch-input-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test builtin_read_file_name -- --nocapture` (pass)
    - `cargo test builtin_read_directory_name -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/read-batch-input-semantics.forms EXPECTED=cases/read-batch-input-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Full vm-compat verification rerun after latest minibuffer/search slices:
  - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `minibufferp` compatibility slice:
  - aligned arity to GNU behavior (accepts 0..=2 args; >2 is `wrong-number-of-arguments`)
  - added buffer-like validation for the first arg (`nil` / string / buffer accepted; otherwise `wrong-type-argument bufferp ...`)
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/minibufferp-semantics.forms`
    - `test/neovm/vm-compat/cases/minibufferp-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test builtin_minibufferp -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/minibufferp-semantics.forms EXPECTED=cases/minibufferp-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Reduced dead search shim surface after evaluator routing:
  - removed unused `search.rs` eval-stub wrappers (`posix-search-*`, `word-search-*`, `search-forward/backward`, `re-search-forward/backward`, `replace-match`) now superseded by `builtins.rs` evaluator implementations
  - re-verified search slices after cleanup:
    - `cargo test search::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/search-buffer.forms EXPECTED=cases/search-buffer.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/search-posix-word-semantics.forms EXPECTED=cases/search-posix-word-semantics.expected.tsv` (pass)
- Implemented `exit-recursive-edit` compatibility slice:
  - replaced nil stub behavior with GNU-compatible `user-error` in batch when no recursive edit is active
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/exit-recursive-edit-semantics.forms`
    - `test/neovm/vm-compat/cases/exit-recursive-edit-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test builtin_exit_recursive_edit -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/exit-recursive-edit-semantics.forms EXPECTED=cases/exit-recursive-edit-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented `posix-search-*` / `word-search-*` evaluator fallback slice:
  - replaced nil-stub dispatch paths by routing:
    - `posix-search-forward` / `posix-search-backward` -> evaluator regex search paths
    - `word-search-forward` / `word-search-backward` -> evaluator literal search paths
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/search-posix-word-semantics.forms`
    - `test/neovm/vm-compat/cases/search-posix-word-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/search-posix-word-semantics.forms EXPECTED=cases/search-posix-word-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Re-ran full vm-compat verification and fixed a real regression:
  - `make -C test/neovm/vm-compat check-all-neovm` initially exposed a mismatch in `cases/internal-lisp-face-comparators` for string face designators (`"default"`)
  - patched `internal-lisp-face-empty-p` / `internal-lisp-face-equal-p` face resolution to accept valid string face names with GNU-compatible invalid-face payloads
  - added targeted Rust unit coverage for string-face comparator paths
  - re-verified:
    - `cargo test internal_lisp_face_ -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/internal-lisp-face-comparators.forms EXPECTED=cases/internal-lisp-face-comparators.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `internal-set-alternative-font-family-alist` / `internal-set-alternative-font-registry-alist` compatibility slice:
  - replaced nil stubs with proper-list validation and oracle-compatible payloads (`wrong-type-argument listp ...` on dotted/non-list entries)
  - `internal-set-alternative-font-family-alist` now converts validated string members to symbols and returns normalized alist shape
  - `internal-set-alternative-font-registry-alist` now validates list shape and returns the original alist payload
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/alternative-font-alists-semantics.forms`
    - `test/neovm/vm-compat/cases/alternative-font-alists-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test font::tests -- --nocapture` (pass)
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat check FORMS=cases/alternative-font-alists-semantics.forms EXPECTED=cases/alternative-font-alists-semantics.expected.tsv` (pass)
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat check-neovm FORMS=cases/alternative-font-alists-semantics.forms EXPECTED=cases/alternative-font-alists-semantics.expected.tsv` (pass)
- Implemented `internal-set-font-selection-order` compatibility slice:
  - replaced nil stub with oracle-compatible validation: accepts only permutations of `(:width :height :weight :slant)` and reports GNU-style list/type/error payloads for invalid orders
  - preserved batch behavior where valid orders return `nil` without mutating the exposed compatibility surface
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/internal-set-font-selection-order-semantics.forms`
    - `test/neovm/vm-compat/cases/internal-set-font-selection-order-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test font::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/internal-set-font-selection-order-semantics.forms EXPECTED=cases/internal-set-font-selection-order-semantics.expected.tsv` (pass)
- Implemented `face-font` compatibility slice:
  - aligned face argument semantics with oracle behavior (known symbol/string faces return `nil`, invalid faces keep oracle-compatible `Invalid face` payloads)
  - preserved optional-argument behavior (`FRAME`/`CHARACTER` accepted and ignored for valid faces in batch compatibility path)
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/face-font-semantics.forms`
    - `test/neovm/vm-compat/cases/face-font-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test font::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/face-font-semantics.forms EXPECTED=cases/face-font-semantics.expected.tsv` (pass)
- Implemented `face-id` compatibility slice:
  - replaced fixed-id stub with oracle-compatible ids for core faces and dynamic-id allocation for faces created via `internal-make-lisp-face`
  - aligned argument semantics: accepts optional second argument (ignored), keeps string first-arg `symbolp` type checks, and preserves oracle-style `Not a face: ...` error payloads
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/face-id-semantics.forms`
    - `test/neovm/vm-compat/cases/face-id-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test font::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/face-id-semantics.forms EXPECTED=cases/face-id-semantics.expected.tsv` (pass)
- Implemented `internal-merge-in-global-face` compatibility slice:
  - replaced stub behavior with frame/face validation and merge semantics that copy concrete defaults-face overrides into selected-frame face state
  - merged values now align with oracle behavior for defaults-to-selected propagation and ignore relative defaults (for example `unspecified`)
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/internal-merge-in-global-face-semantics.forms`
    - `test/neovm/vm-compat/cases/internal-merge-in-global-face-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test font::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/internal-merge-in-global-face-semantics.forms EXPECTED=cases/internal-merge-in-global-face-semantics.expected.tsv` (pass)
- Implemented `internal-set-lisp-face-attribute` compatibility slice:
  - replaced stub behavior with oracle-compatible argument checking, frame domain routing (`nil`/`t`/`0`), and return value (`FACE`)
  - added selected/default face override state and connected it to `internal-get-lisp-face-attribute`, `internal-lisp-face-equal-p`, `internal-lisp-face-empty-p`, `internal-make-lisp-face`, and `internal-copy-lisp-face`
  - added set-path validation and normalization for high-impact attributes (`:foreground`, `:background`, `:height`, `:weight`, `:slant`, `:width`, `:inherit`, `:bold`, `:italic`, `:inverse-video`, `:extend`)
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/internal-set-lisp-face-attribute-semantics.forms`
    - `test/neovm/vm-compat/cases/internal-set-lisp-face-attribute-semantics.expected.tsv`
    - wired into `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test font::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/internal-set-lisp-face-attribute-semantics.forms EXPECTED=cases/internal-set-lisp-face-attribute-semantics.expected.tsv` (pass)
- Added display/terminal stub compatibility slice:
  - exposed and wired display-side builtins: `redraw-frame`, `redraw-display`, `open-termscript`, `ding`, `send-string-to-terminal`, `internal-show-cursor`, `internal-show-cursor-p`
  - exposed `last-nonminibuffer-frame` and locked current batch behavior to oracle
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/display-stub-semantics.forms`
    - `test/neovm/vm-compat/cases/display-stub-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat record FORMS=cases/display-stub-semantics.forms EXPECTED=cases/display-stub-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/display-stub-semantics.forms EXPECTED=cases/display-stub-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Expanded display/terminal stub semantics to match more oracle behavior:
  - `redraw-frame` now enforces frame designator type checks (`frame-live-p` predicate payload)
  - `open-termscript` now signals the batch tty error payload used by GNU Emacs
  - `send-string-to-terminal` now validates optional terminal designators (`terminal-live-p` predicate payload)
  - `internal-show-cursor` / `internal-show-cursor-p` now enforce window designator shape and maintain shared visibility state
  - expanded oracle corpus (`cases/display-stub-semantics`) with error payload and designator checks
  - verified:
    - `cargo test display::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/display-stub-semantics.forms EXPECTED=cases/display-stub-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Added TTY batch semantics compatibility slice:
  - `tty-type`, `tty-top-frame`, `controlling-tty-p` now reject invalid terminal designators with `wrong-type-argument` (`terminal-live-p` payload)
  - `suspend-tty` and `resume-tty` now signal GNU-compatible non-text terminal `error` payloads in batch mode while preserving type checks on invalid designators
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/tty-batch-semantics.forms`
    - `test/neovm/vm-compat/cases/tty-batch-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test display::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/tty-batch-semantics.forms EXPECTED=cases/tty-batch-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Added X display batch semantics compatibility slice:
  - `x-open-connection` now enforces string display argument typing and returns display-open errors in batch context
  - `x-close-connection` now dispatches batch-compatible error classes for nil/string/non-frame designators
  - `x-display-pixel-width` / `x-display-pixel-height` now signal batch/X-not-available errors and frame-designator type errors
  - `x-display-color-p` now returns `nil` for batch current display and reports argument-shape errors for invalid designators
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/x-display-batch-semantics.forms`
    - `test/neovm/vm-compat/cases/x-display-batch-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test display::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/x-display-batch-semantics.forms EXPECTED=cases/x-display-batch-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Added font batch semantics compatibility slice:
  - `list-fonts` and `find-font` now enforce `font-spec` argument typing and preserve batch-mode nil results for valid specs
  - `font-family-list` now matches batch defaults (`nil`) and rejects non-nil frame designators with `frame-live-p` type predicate payload
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/font-batch-semantics.forms`
    - `test/neovm/vm-compat/cases/font-batch-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test font::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/font-batch-semantics.forms EXPECTED=cases/font-batch-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Added face batch semantics compatibility slice:
  - `face-id` now signals GNU-compatible invalid-face errors for non-face designators while preserving `default` face baseline id behavior
  - `face-font` now signals GNU-compatible invalid-face errors for non-face designators and keeps batch `nil` default-face behavior
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/face-batch-semantics.forms`
    - `test/neovm/vm-compat/cases/face-batch-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test font::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/face-batch-semantics.forms EXPECTED=cases/face-batch-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Added timer compatibility slice (`run-at-time` / `run-with-idle-timer` / `timer-activate`):
  - `run-at-time` now accepts GNU-compatible immediate specs for `nil` and numeric-prefixed strings like `"0 sec"` (while invalid specs signal `error`)
  - `run-with-timer` compatibility is now lock-in covered for numeric, `nil`, and `"0 sec"` immediate forms
  - `run-with-idle-timer` now accepts `nil` delay and keeps non-numeric delay specs as `error`
  - `timer-activate` now matches error-class behavior on invalid/active timer activation paths
  - `sleep-for` is now exposed in builtin registry/dispatch and matches core GNU argument/error semantics in batch mode
  - `sit-for` now enforces GNU-compatible arity bounds (1..=2 args; extra args signal `wrong-number-of-arguments`)
  - timer corpus now locks additional timer arity/error paths (`timerp`, `cancel-timer`, `timer-activate`) under `condition-case`
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/timer-semantics.forms`
    - `test/neovm/vm-compat/cases/timer-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test test_eval_run_at_time -- --nocapture` (pass)
    - `cargo test test_eval_run_with_idle_timer_nil_ok_string_error -- --nocapture` (pass)
    - `cargo test test_eval_timer_activate -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/timer-semantics.forms EXPECTED=cases/timer-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Added `minibuffer-contents-no-properties` builtin compatibility slice:
  - implemented evaluator-aware builtin in `neovm-core` with batch behavior matching `minibuffer-contents`
  - wired builtin dispatch and registry exposure (`fboundp`/dispatch parity)
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/minibuffer-contents-no-properties-semantics.forms`
    - `test/neovm/vm-compat/cases/minibuffer-contents-no-properties-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test minibuffer_contents_no_properties -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/minibuffer-contents-no-properties-semantics.forms EXPECTED=cases/minibuffer-contents-no-properties-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Fixed vm-compat raw-byte string rendering in worker execution path:
  - added byte-preserving evaluator-aware helpers in `neovm-core` (`print_value_bytes_with_eval`, `format_eval_result_bytes_with_eval`)
  - switched `neovm-core` compat runner output to buffered byte writes
  - switched `neovm-worker` elisp executor result rendering to `print_value_bytes_with_eval`
- Re-verified non-Unicode oracle slices and full suite:
  - `make -C test/neovm/vm-compat check-neovm FORMS=cases/make-string-raw-byte-semantics.forms EXPECTED=cases/make-string-raw-byte-semantics.expected.tsv` (pass)
  - `make -C test/neovm/vm-compat check-neovm FORMS=cases/make-string-nonunicode-semantics.forms EXPECTED=cases/make-string-nonunicode-semantics.expected.tsv` (pass)
  - `make -C test/neovm/vm-compat check-neovm FORMS=cases/string-nonunicode-char-semantics.forms EXPECTED=cases/string-nonunicode-char-semantics.expected.tsv` (pass)
  - `make -C test/neovm/vm-compat check-neovm FORMS=cases/string-nonunicode-indexing-semantics.forms EXPECTED=cases/string-nonunicode-indexing-semantics.expected.tsv` (pass)
  - `make -C test/neovm/vm-compat check-neovm FORMS=cases/string-nonunicode-concat-semantics.forms EXPECTED=cases/string-nonunicode-concat-semantics.expected.tsv` (pass)
  - `make -C test/neovm/vm-compat check-neovm FORMS=cases/string-nonunicode-sequence-semantics.forms EXPECTED=cases/string-nonunicode-sequence-semantics.expected.tsv` (pass)
  - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Aligned `documentation` builtin semantics with oracle behavior:
  - `function-documentation` property now takes precedence for symbol arguments
  - symbol lookup now distinguishes `void-function` and `invalid-function` paths
  - non-callable non-symbol function arguments now signal `invalid-function`
  - lambda/defmacro evaluation now captures docstring metadata in `LambdaData`
- Added and enabled new oracle corpus:
  - `test/neovm/vm-compat/cases/documentation-semantics.forms`
  - `test/neovm/vm-compat/cases/documentation-semantics.expected.tsv`
  - wired into `test/neovm/vm-compat/cases/default.list` and `test/neovm/vm-compat/cases/introspection.list`
- Verified the documentation slice end-to-end:
  - `cargo test documentation_ -- --nocapture` (pass)
  - `cargo test captures_docstring_metadata -- --nocapture` (pass)
  - `cd test/neovm/vm-compat && make check-neovm FORMS=cases/documentation-semantics.forms EXPECTED=cases/documentation-semantics.expected.tsv` (pass)
  - `cd test/neovm/vm-compat && make check-neovm FORMS=cases/documentation-property-semantics.forms EXPECTED=cases/documentation-property-semantics.expected.tsv` (pass)
  - `cd test/neovm/vm-compat && make validate-case-lists` (pass)
- Implemented evaluator-aware `documentation-property` semantics:
  - reads symbol plist entries through evaluator obarray state
  - returns string-valued properties, maps non-string property values to `nil`
  - preserves `wrong-type-argument` on non-symbol first arg and `nil` on non-symbol property key
- Added and enabled new oracle corpus:
  - `test/neovm/vm-compat/cases/documentation-property-semantics.forms`
  - `test/neovm/vm-compat/cases/documentation-property-semantics.expected.tsv`
  - wired into `test/neovm/vm-compat/cases/default.list` and `test/neovm/vm-compat/cases/introspection.list`
- Verified compatibility and list integrity for the slice:
  - `cd test/neovm/vm-compat && make check-neovm FORMS=cases/documentation-property-semantics.forms EXPECTED=cases/documentation-property-semantics.expected.tsv` (pass)
  - `cd test/neovm/vm-compat && make validate-case-lists` (pass)
- Aligned compat/worker result rendering with evaluator-aware opaque handle formatting:
  - added `format_eval_result_with_eval` and `print_value_with_eval` in `neovm-core`
  - switched vm-compat runner output to evaluator-aware formatting path
  - switched worker task result byte rendering to evaluator-aware handle printing
- Re-verified thread compatibility corpus after rendering path update:
  - `cd test/neovm/vm-compat && make check-thread-neovm` (pass)
- Full suite re-verified after JSON keyword-error and display batch-semantics slices:
  - `cd test/neovm/vm-compat && make check-all-neovm` (pass)
- Full suite re-verified after JSON buffer builtin routing + cl_lib JSON cleanup:
  - `cd test/neovm/vm-compat && make check-all-neovm` (pass)
- Full suite baseline verified after JSON compatibility slice:
  - `cd test/neovm/vm-compat && NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make check-all-neovm` (pass)
- Full suite baseline verified after `set-time-zone-rule` / `current-time-zone` slice:
  - `cd test/neovm/vm-compat && NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make check-all-neovm` (pass)
- Full suite baseline verified after `safe-date-to-time` slice:
  - `cd test/neovm/vm-compat && NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make check-all-neovm` (pass)
- Full suite baseline verified after latest cleanup:
  - `cd test/neovm/vm-compat && make check-all-neovm` (pass)
- Full suite re-verified after terminal parameter semantics slice:
  - `cd test/neovm/vm-compat && NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make check-all-neovm` (pass)
- Added a builtin-registry-wide `fboundp` parity checker against GNU Emacs `-Q`:
  - `test/neovm/vm-compat/check-builtin-registry-fboundp.sh`
  - allowlist: `test/neovm/vm-compat/cases/builtin-registry-fboundp-allowlist.txt`
- Added `make` target:
  - `make -C test/neovm/vm-compat check-builtin-registry-fboundp`
- Wired the parity gate into CI:
  - `.github/workflows/vm-compat.yml`
- Documented the gate in:
  - `test/neovm/vm-compat/README.md`
  - `docs/elisp-vm-design.md`
- Removed multiple unexposed/stale builtin implementations to keep dispatch surface aligned with the registry and oracle policy:
  - `custom-group-p` implementation cleanup
  - `selected-terminal` implementation cleanup
  - `display-line-numbers-update-width` implementation cleanup
  - `register-to-string` implementation cleanup
  - `extract-rectangle-line` implementation cleanup
  - removed stale misc stubs superseded by evaluator paths
  - removed unexposed bookmark helper builtin implementations
  - removed unexposed `string-repeat` helper implementation
  - removed unexposed `bool-vector-complement` implementation
  - removed unexposed `base64url-decode-string` helper
  - removed unexposed `hash-table-keys` / `hash-table-values` helpers
  - removed unexposed `downcase-char` helper
  - removed unexposed `find-coding-system` helper
  - removed unexposed `word-at-point` helper
  - removed stale, unreferenced `elisp/terminal` shim module files
  - removed stale, unreferenced pure-JSON buffer stub helpers from `elisp/json.rs` (`json-insert`/`json-parse-buffer`; replaced by active evaluator-backed implementations in the JSON module)
  - removed duplicate legacy JSON parser/serializer + tests from `elisp/cl_lib.rs` so `elisp/json.rs` is the single JSON implementation path
- Implemented `terminal-parameter` / `set-terminal-parameter` compatibility semantics:
  - persisted terminal parameter values for symbol keys
  - `terminal-parameter` enforces `symbolp` for PARAMETER
  - `set-terminal-parameter` returns `nil` (and ignores non-symbol keys)
  - invalid terminal designators now signal `wrong-type-argument` with `terminal-live-p`
  - `terminal-live-p` now returns `nil` for invalid designator shapes
  - `terminal-name` now rejects invalid terminal designators
  - switched terminal designators to an opaque internal terminal handle
  - `frame-terminal` now rejects invalid frame designators (`wrong-type-argument` on non-nil non-frame)
- Added and enabled new oracle corpus:
  - `test/neovm/vm-compat/cases/terminal-parameter-semantics.forms`
  - `test/neovm/vm-compat/cases/terminal-parameter-semantics.expected.tsv`
  - wired into `test/neovm/vm-compat/cases/default.list`
- Implemented `safe-date-to-time` compatibility subset:
  - parse and convert explicit-offset date formats (ISO/slash and RFC-style)
  - return `(HIGH LOW)` for valid dates, integer `0` for non-parseable/non-string inputs
  - preserve wrong-arity signaling
- Added and enabled new oracle corpus:
  - `test/neovm/vm-compat/cases/safe-date-to-time-semantics.forms`
  - `test/neovm/vm-compat/cases/safe-date-to-time-semantics.expected.tsv`
  - wired into `test/neovm/vm-compat/cases/default.list`
- Implemented `set-time-zone-rule` / `current-time-zone` compatibility subset:
  - process-level time zone rule state (`nil`/`wall`, `t`, integer offsets, TZ strings)
  - deterministic offset-name rendering for fixed offset rules
  - invalid specification signaling (`error "Invalid time zone specification"`)
  - `current-time-zone` now honors explicit `ZONE` argument overrides
- Added and enabled new oracle corpus:
  - `test/neovm/vm-compat/cases/time-zone-rule-semantics.forms`
  - `test/neovm/vm-compat/cases/time-zone-rule-semantics.expected.tsv`
  - wired into `test/neovm/vm-compat/cases/default.list`
- Implemented JSON compatibility adjustments:
  - `json-serialize` alist key typing now follows Emacs `symbolp` expectations
  - `json-parse-string` `:object-type 'alist` now emits symbol keys
  - parser now signals `json-end-of-file` for empty/whitespace-only input
  - trailing-content signal now uses `json-trailing-content`
- Added and enabled new oracle corpus:
  - `test/neovm/vm-compat/cases/json-semantics.forms`
  - `test/neovm/vm-compat/cases/json-semantics.expected.tsv`
  - wired into `test/neovm/vm-compat/cases/default.list`
- Aligned evaluator-backed buffer JSON builtins with Emacs behavior:
  - `json-parse-buffer` now parses from current point, allows trailing content, and advances point to the end of parsed value
  - `json-insert` now uses `json-serialize` keyword semantics (`:null-object`, `:false-object`)
  - dispatch for `json-parse-buffer` / `json-insert` now routes to `elisp/json.rs` implementations
- Aligned JSON keyword-argument error semantics with Emacs:
  - odd JSON plist tails now signal `(wrong-type-argument plistp ...)`
  - unknown JSON keyword args now signal `error` with Emacs-compatible message + offending value payload
  - invalid `:array-type` / `:object-type` values now signal Emacs-compatible `error` payloads
- Aligned display query builtins with Emacs batch-context defaults:
  - display queries now report terminal-style values in vm-compat context (`display-graphic-p`, `display-color-p`, pixel/mm size, color cells/planes/class/backing store, `x-display-list`)
  - preserved terminal-handle parameter semantics separately (`terminal-parameter` corpus remains green)
- Aligned terminal handle and terminal-name presentation semantics:
  - `terminal-name` now returns `\"initial_terminal\"` for the current terminal
  - `prin1-to-string` / `format` / error-message rendering now print terminal handles as `#<terminal ...>` (parity with GNU Emacs handle style)
- Added and enabled new oracle corpus:
  - `test/neovm/vm-compat/cases/json-buffer-semantics.forms`
  - `test/neovm/vm-compat/cases/json-buffer-semantics.expected.tsv`
  - wired into `test/neovm/vm-compat/cases/default.list`
- Added and enabled new oracle corpus:
  - `test/neovm/vm-compat/cases/json-keyword-errors.forms`
  - `test/neovm/vm-compat/cases/json-keyword-errors.expected.tsv`
  - wired into `test/neovm/vm-compat/cases/default.list`
- Added and enabled new oracle corpus:
  - `test/neovm/vm-compat/cases/display-batch-semantics.forms`
  - `test/neovm/vm-compat/cases/display-batch-semantics.expected.tsv`
  - wired into `test/neovm/vm-compat/cases/default.list`
- Added and enabled new oracle corpus:
  - `test/neovm/vm-compat/cases/terminal-handle-printing.forms`
  - `test/neovm/vm-compat/cases/terminal-handle-printing.expected.tsv`
  - wired into `test/neovm/vm-compat/cases/default.list`
- Aligned monitor attribute builtins with batch-style oracle semantics:
  - `display-monitor-attributes-list` / `frame-monitor-attributes` now return batch-size geometry/workarea `(0 0 80 25)`, `mm-size` as `(nil nil)`, and stable key shape (`geometry`, `workarea`, `mm-size`, `frames`)
  - invalid non-`nil` monitor designators now signal `error` (oracle-aligned class for `get-device-terminal` argument failures)
  - `frame-monitor-attributes` accepts terminal handles for terminal-associated monitor lookup semantics
- Added and enabled new oracle corpus:
  - `test/neovm/vm-compat/cases/display-monitor-semantics.forms`
  - `test/neovm/vm-compat/cases/display-monitor-semantics.expected.tsv`
  - wired into `test/neovm/vm-compat/cases/default.list`
- Aligned generic value printer with terminal-handle rendering:
  - top-level/result printing now renders terminal handles as `#<terminal ...>` instead of raw vector internals
  - byte-printing path (`print_value_bytes`) now mirrors the same terminal-handle representation
- Expanded oracle corpus for terminal-handle top-level rendering:
  - `test/neovm/vm-compat/cases/terminal-handle-printing.forms` now includes raw `(frame-terminal)` / `(car (terminal-list))` output checks
  - refreshed `test/neovm/vm-compat/cases/terminal-handle-printing.expected.tsv`
- Aligned batch frame introspection bootstrap semantics:
  - `selected-frame` / `frame-list` now synthesize the initial `F1` frame lazily when no frame exists yet in evaluator state
  - keeps batch introspection paths (`framep`, `frame-live-p`, `frame-list` membership) oracle-aligned without requiring editor-side frame bootstrap
- Added and enabled new oracle corpus:
  - `test/neovm/vm-compat/cases/frame-batch-semantics.forms`
  - `test/neovm/vm-compat/cases/frame-batch-semantics.expected.tsv`
  - wired into `test/neovm/vm-compat/cases/default.list`
- Aligned monitor `frames` slot with live evaluator frame set:
  - added evaluator-aware monitor dispatch so `display-monitor-attributes-list` / `frame-monitor-attributes` populate `frames` from `frame-list`
  - monitor queries now bootstrap and expose one live frame in batch mode (matching oracle shape expectations)
- Added and enabled new oracle corpus:
  - `test/neovm/vm-compat/cases/display-monitor-frames-semantics.forms`
  - `test/neovm/vm-compat/cases/display-monitor-frames-semantics.expected.tsv`
  - wired into `test/neovm/vm-compat/cases/default.list`
- Aligned internal face introspection builtins with oracle semantics:
  - `internal-lisp-face-p` now returns face vectors for known faces, `nil` for unknown/non-face inputs, and validates optional frame designators (`frame-live-p` payload)
  - `internal-get-lisp-face-attribute` now validates optional frame argument (`nil`/`t` or live-frame type check), validates face/attribute error payloads, and returns oracle-compatible values for core faces in batch mode
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/internal-lisp-face-semantics.forms`
    - `test/neovm/vm-compat/cases/internal-lisp-face-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test font::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/internal-lisp-face-semantics.forms EXPECTED=cases/internal-lisp-face-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned additional internal face builtins with oracle semantics:
  - implemented and registered `internal-lisp-face-attribute-values`, `internal-lisp-face-empty-p`, and `internal-lisp-face-equal-p`
  - `internal-lisp-face-attribute-values` now returns `(t nil)` for discrete boolean face attributes and preserves symbol/type/arity error semantics
  - `internal-lisp-face-empty-p` / `internal-lisp-face-equal-p` now validate frame argument shape first, resolve face designators (symbol/string) with oracle-compatible invalid-face payloads, and honor `FRAME=t` default-face behavior
  - expanded core built-in face attribute map used by comparisons (`highlight`/`region`/`mode-line` inverse-video, `mode-line-inactive` inherit, `fringe` background, `cursor` background)
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/internal-lisp-face-comparators.forms`
    - `test/neovm/vm-compat/cases/internal-lisp-face-comparators.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test font::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/internal-lisp-face-comparators.forms EXPECTED=cases/internal-lisp-face-comparators.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat check-builtin-registry-fboundp` (pass; expected allowlisted drift only)
- Added deep matrix oracle lock-in for `internal-get-lisp-face-attribute`:
  - new corpus covers full core-face x attribute matrix in selected-frame mode plus defaults-frame (`FRAME=t`) sampling and error/arity payloads
  - added:
    - `test/neovm/vm-compat/cases/internal-get-lisp-face-attribute-matrix.forms`
    - `test/neovm/vm-compat/cases/internal-get-lisp-face-attribute-matrix.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/internal-get-lisp-face-attribute-matrix.forms EXPECTED=cases/internal-get-lisp-face-attribute-matrix.expected.tsv` (pass, 271/271)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned and locked-in make/copy Lisp face helper semantics:
  - registered `internal-make-lisp-face` in NeoVM builtin dispatch/registry and implemented Oracle-compatible argument checks and frame error payloads
  - updated `internal-copy-lisp-face` to match Oracle ordering and behavior: symbol checks first, `FRAME=t` fast-path, non-`t` frame `wrong-type-argument` payloads, source-face validity checks, and destination face visibility via `internal-lisp-face-p`
  - wired created-face visibility state so faces created via `internal-make-lisp-face` / `internal-copy-lisp-face` are discoverable by `internal-lisp-face-p` (without broadening `internal-get-lisp-face-attribute` validity surface)
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/internal-make-copy-lisp-face-semantics.forms`
    - `test/neovm/vm-compat/cases/internal-make-copy-lisp-face-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test font::tests -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/internal-lisp-face-semantics.forms EXPECTED=cases/internal-lisp-face-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/internal-lisp-face-comparators.forms EXPECTED=cases/internal-lisp-face-comparators.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/internal-make-copy-lisp-face-semantics.forms EXPECTED=cases/internal-make-copy-lisp-face-semantics.expected.tsv` (pass, 42/42)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat check-builtin-registry-fboundp` (pass; expected allowlisted drift only)
- Implemented and locked-in `get-byte` semantics (string + buffer paths):
  - moved `get-byte` dispatch to evaluator-dependent path so buffer/point semantics are available
  - aligned string behavior:
    - zero-based character indexing
    - `nil` position default
    - `args-out-of-range` payloads
    - `wholenump` validation for string indices
    - non-ASCII/non-byte8 error message payloads
  - aligned buffer behavior:
    - 1-based character positions against accessible range
    - `(get-byte nil)` at point and end-of-buffer `0` behavior
    - `args-out-of-range` payload shape `(pos point-min point-max)`
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/get-byte-semantics.forms`
    - `test/neovm/vm-compat/cases/get-byte-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml get_byte -- --nocapture` (pass)
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat record FORMS=cases/get-byte-semantics.forms EXPECTED=cases/get-byte-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/get-byte-semantics.forms EXPECTED=cases/get-byte-semantics.expected.tsv` (pass, 21/21)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Implemented and locked-in `char-resolve-modifiers` semantics:
  - replaced passthrough behavior with modifier resolution that matches oracle for shift/control/meta interactions
  - aligned wrong-type payload to `(wrong-type-argument fixnump <value>)`
  - fixed `S-A` normalization to clear the shift bit (oracle parity)
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/char-resolve-modifiers-semantics.forms`
    - `test/neovm/vm-compat/cases/char-resolve-modifiers-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml char_resolve_modifiers -- --nocapture` (pass)
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat record FORMS=cases/char-resolve-modifiers-semantics.forms EXPECTED=cases/char-resolve-modifiers-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/char-resolve-modifiers-semantics.forms EXPECTED=cases/char-resolve-modifiers-semantics.expected.tsv` (pass, 14/14)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Expanded and aligned `query-replace*` edge compatibility in batch subset:
  - added oracle corpus:
    - `test/neovm/vm-compat/cases/query-replace-edge-semantics.forms`
    - `test/neovm/vm-compat/cases/query-replace-edge-semantics.expected.tsv`
    - enabled in `test/neovm/vm-compat/cases/default.list`
  - covered additional edge paths:
    - `DELIMITED` semantics for `query-replace` and `query-replace-regexp`
    - backward replacement point semantics
    - regexp backreference replacement expansion
    - case-fold toggle behavior under `case-fold-search=nil`
    - region-noncontiguous forwarding for `query-replace*`
    - invalid regexp behavior for `query-replace-regexp` in batch mode
  - fixed evaluator behavior:
    - `query-replace-regexp` now swallows `invalid-regexp` and returns `nil` in batch-safe subset (oracle parity)
  - verified:
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat record FORMS=cases/query-replace-edge-semantics.forms EXPECTED=cases/query-replace-edge-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/query-replace-edge-semantics.forms EXPECTED=cases/query-replace-edge-semantics.expected.tsv` (pass, 9/9)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned forward point placement for `query-replace*` batch subset:
  - root cause: shared replace path left point at region end, while Oracle leaves point at end of last replaced match for forward query-replace flows
  - refactored evaluator replacement internals to keep replace/query-replace text semantics shared while allowing query-specific point placement
  - expanded `query-replace` edge corpus with point-sensitive cases:
    - forward empty-regexp query replacement point behavior
    - ranged empty-string query replacement point behavior
    - reversed start/end query-regexp point behavior
  - verified:
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat record FORMS=cases/query-replace-edge-semantics.forms EXPECTED=cases/query-replace-edge-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/query-replace-edge-semantics.forms EXPECTED=cases/query-replace-edge-semantics.expected.tsv` (pass, 12/12)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/query-replace-batch-semantics.forms EXPECTED=cases/query-replace-batch-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/replace-string-semantics.forms EXPECTED=cases/replace-string-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/replace-regexp-semantics.forms EXPECTED=cases/replace-regexp-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/replace-backward-semantics.forms EXPECTED=cases/replace-backward-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/replace-backward-edge-semantics.forms EXPECTED=cases/replace-backward-edge-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/replace-region-noncontiguous-semantics.forms EXPECTED=cases/replace-region-noncontiguous-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `keep-lines`/`flush-lines` edge semantics:
  - fixed point placement after line filtering to always land at normalized range start (including reversed `RSTART`/`REND` arguments)
  - aligned `flush-lines` success return value to integer `0` (including match and no-match paths)
  - added and enabled edge corpus:
    - `test/neovm/vm-compat/cases/line-filter-edge-semantics.forms`
    - `test/neovm/vm-compat/cases/line-filter-edge-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat record FORMS=cases/line-filter-edge-semantics.forms EXPECTED=cases/line-filter-edge-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/line-filter-edge-semantics.forms EXPECTED=cases/line-filter-edge-semantics.expected.tsv` (pass, 7/7)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/flush-lines-semantics.forms EXPECTED=cases/flush-lines-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/keep-lines-semantics.forms EXPECTED=cases/keep-lines-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `looking-at` / `looking-at-p` case-fold semantics:
  - fixed evaluator dispatch to honor dynamic/global `case-fold-search` for both builtins (defaulting to case-fold enabled when unset)
  - updated core regex helper signature to accept explicit case-fold behavior
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/looking-at-semantics.forms`
    - `test/neovm/vm-compat/cases/looking-at-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat record FORMS=cases/looking-at-semantics.forms EXPECTED=cases/looking-at-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/looking-at-semantics.forms EXPECTED=cases/looking-at-semantics.expected.tsv` (pass, 11/11)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/looking-at-p-semantics.forms EXPECTED=cases/looking-at-p-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `string-match` / `string-match-p` with `case-fold-search` variable semantics:
  - evaluator dispatch now handles `string-match-p` directly so both string-match variants can read dynamic/global `case-fold-search`
  - regex string-match helper now exposes explicit case-fold mode for evaluator-controlled behavior
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/string-match-case-fold-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/string-match-case-fold-variable-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat record FORMS=cases/string-match-case-fold-variable-semantics.forms EXPECTED=cases/string-match-case-fold-variable-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/string-match-case-fold-variable-semantics.forms EXPECTED=cases/string-match-case-fold-variable-semantics.expected.tsv` (pass, 6/6)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/string-match-case-fold-semantics.forms EXPECTED=cases/string-match-case-fold-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/match-data.forms EXPECTED=cases/match-data.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `search-forward` / `search-backward` / `re-search-forward` / `re-search-backward` with `case-fold-search` variable semantics:
  - evaluator search dispatch now reads dynamic/global `case-fold-search` and passes case-fold mode into literal and regexp search engines
  - regex search primitives now support explicit case-fold mode for forward/backward literal and regexp paths
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/search-case-fold-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/search-case-fold-variable-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `NEOVM_ORACLE_EMACS=/nix/store/hql3zwz5b4ywd2qwx8jssp4dyb7nx4cb-emacs-30.2/bin/emacs make -C test/neovm/vm-compat record FORMS=cases/search-case-fold-variable-semantics.forms EXPECTED=cases/search-case-fold-variable-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/search-case-fold-variable-semantics.forms EXPECTED=cases/search-case-fold-variable-semantics.expected.tsv` (pass, 8/8)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/search-count.forms EXPECTED=cases/search-count.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/search-buffer.forms EXPECTED=cases/search-buffer.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/search-posix-word-semantics.forms EXPECTED=cases/search-posix-word-semantics.expected.tsv` (pass)
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml regex::tests::search_forward_case_fold_true -- --nocapture` (pass)
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml regex::tests::looking_at_respects_case_fold_false -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `count-matches` / `how-many` and line-filter regex builtins with `case-fold-search` variable semantics:
  - evaluator paths now read dynamic/global `case-fold-search`, while preserving smart-case behavior when `case-fold-search` is non-`nil`
  - `case-fold-search=nil` now forces exact match semantics for:
    - `count-matches`
    - `how-many`
    - `keep-lines`
    - `flush-lines`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/count-how-many-case-fold-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/count-how-many-case-fold-variable-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/count-how-many-case-fold-variable-semantics.forms EXPECTED=cases/count-how-many-case-fold-variable-semantics.expected.tsv` (pass, 6/6)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/count-matches-semantics.forms EXPECTED=cases/count-matches-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/how-many-semantics.forms EXPECTED=cases/how-many-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/keep-lines-semantics.forms EXPECTED=cases/keep-lines-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/flush-lines-semantics.forms EXPECTED=cases/flush-lines-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/line-filter-edge-semantics.forms EXPECTED=cases/line-filter-edge-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned replace/query-replace stack with `case-fold-search` variable semantics:
  - `replace-string` and `replace-regexp` evaluator paths now honor dynamic/global `case-fold-search` (`nil` forces exact, non-`nil` keeps smart-case)
  - `query-replace` and `query-replace-regexp` inherit behavior through shared evaluator replacement internals
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/replace-query-case-fold-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/replace-query-case-fold-variable-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-query-case-fold-variable-semantics.forms EXPECTED=cases/replace-query-case-fold-variable-semantics.expected.tsv` (pass, 10/10)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/replace-string-semantics.forms EXPECTED=cases/replace-string-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/replace-regexp-semantics.forms EXPECTED=cases/replace-regexp-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/query-replace-batch-semantics.forms EXPECTED=cases/query-replace-batch-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/query-replace-edge-semantics.forms EXPECTED=cases/query-replace-edge-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned `search-upper-case` variable semantics in replacement/counting/line-filter regex paths:
  - evaluator regex case-fold helper now honors dynamic/global `search-upper-case`
  - when `case-fold-search` is non-`nil` and `search-upper-case=nil`, uppercase patterns no longer force exact matching (oracle parity)
  - affected builtins:
    - `replace-string`, `replace-regexp`
    - `query-replace`, `query-replace-regexp`
    - `keep-lines`, `flush-lines`
    - `count-matches`, `how-many`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/search-upper-case-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/search-upper-case-variable-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/search-upper-case-variable-semantics.forms EXPECTED=cases/search-upper-case-variable-semantics.expected.tsv` (pass, 8/8)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/replace-query-case-fold-variable-semantics.forms EXPECTED=cases/replace-query-case-fold-variable-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/count-how-many-case-fold-variable-semantics.forms EXPECTED=cases/count-how-many-case-fold-variable-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/line-filter-case-fold-variable-semantics.forms EXPECTED=cases/line-filter-case-fold-variable-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat --no-print-directory check-neovm FORMS=cases/query-replace-edge-semantics.forms EXPECTED=cases/query-replace-edge-semantics.expected.tsv` (pass)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Expanded case-fold oracle matrices:
  - `string-match` / `string-match-p` variable corpus now covers uppercase-pattern matching under `case-fold-search=t`
  - `search-forward` / `search-backward` / `re-search-forward` / `re-search-backward` variable corpus now includes uppercase-pattern checks under `case-fold-search=t`
  - `looking-at` corpus now includes uppercase-pattern checks under `case-fold-search=t`
  - `string-match` and `looking-at` corpora now also lock `search-upper-case` toggles (`t` and `nil`) with uppercase patterns
  - added line-filter-specific variable corpus:
    - `test/neovm/vm-compat/cases/line-filter-case-fold-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/line-filter-case-fold-variable-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/string-match-case-fold-variable-semantics.forms EXPECTED=cases/string-match-case-fold-variable-semantics.expected.tsv` (pass, 8/8)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/search-case-fold-variable-semantics.forms EXPECTED=cases/search-case-fold-variable-semantics.expected.tsv` (pass, 12/12)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/looking-at-semantics.forms EXPECTED=cases/looking-at-semantics.expected.tsv` (pass, 13/13)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/line-filter-case-fold-variable-semantics.forms EXPECTED=cases/line-filter-case-fold-variable-semantics.expected.tsv` (pass, 6/6)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Aligned `replace-regexp-in-string` with dynamic `case-fold-search` variable semantics:
  - evaluator dispatch now routes `replace-regexp-in-string` through an evaluator-aware path
  - pure helper is reused with explicit case-fold mode; evaluator path reads dynamic/global `case-fold-search`
  - `case-fold-search=nil` now forces exact-match behavior for regexp replacement-in-string paths (oracle parity)
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/replace-regexp-in-string-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/replace-regexp-in-string-variable-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-regexp-in-string-variable-semantics.forms EXPECTED=cases/replace-regexp-in-string-variable-semantics.expected.tsv` (pass, 3/3)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-regexp-in-string-semantics.forms EXPECTED=cases/replace-regexp-in-string-semantics.expected.tsv` (pass, 9/9)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-query-case-fold-variable-semantics.forms EXPECTED=cases/replace-query-case-fold-variable-semantics.expected.tsv` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/search-upper-case-variable-semantics.forms EXPECTED=cases/search-upper-case-variable-semantics.expected.tsv` (pass, 8/8)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
  - expanded variable corpus matrix to include explicit `search-upper-case=t` uppercase-pattern case:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-regexp-in-string-variable-semantics.forms EXPECTED=cases/replace-regexp-in-string-variable-semantics.expected.tsv` (pass, 4/4)
- Aligned `case-replace` semantics across replace/query-replace stack:
  - replacement case preservation now honors dynamic/global `case-replace`:
    - when `case-replace=nil`, replacements are inserted literally (no case adaptation)
    - case adaptation now only applies when search is case-folding and `case-replace` is enabled
  - capitalized-match adaptation now preserves replacement tail verbatim (only first char upcased), matching oracle behavior for payloads like `"bAr" -> "BAr"`
  - affected evaluator paths:
    - `replace-string`, `replace-regexp`
    - `query-replace`, `query-replace-regexp` (shared replacement internals)
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/case-replace-semantics.forms`
    - `test/neovm/vm-compat/cases/case-replace-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/case-replace-semantics.forms EXPECTED=cases/case-replace-semantics.expected.tsv` (pass, 14/14)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-string-semantics.forms EXPECTED=cases/replace-string-semantics.expected.tsv` (pass, 6/6)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-regexp-semantics.forms EXPECTED=cases/replace-regexp-semantics.expected.tsv` (pass, 8/8)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/query-replace-batch-semantics.forms EXPECTED=cases/query-replace-batch-semantics.expected.tsv` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-query-case-fold-variable-semantics.forms EXPECTED=cases/replace-query-case-fold-variable-semantics.expected.tsv` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/query-replace-edge-semantics.forms EXPECTED=cases/query-replace-edge-semantics.expected.tsv` (pass, 12/12)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Implemented `replace-lax-whitespace` compatibility for literal replace paths:
  - `replace-string` now honors dynamic/global `replace-lax-whitespace` by matching runs of spaces in pattern against whitespace runs in source (`[ \\t\\n\\r]+`)
  - `query-replace` inherits the same behavior through shared replace-string evaluator internals
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/replace-lax-whitespace-semantics.forms`
    - `test/neovm/vm-compat/cases/replace-lax-whitespace-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-lax-whitespace-semantics.forms EXPECTED=cases/replace-lax-whitespace-semantics.expected.tsv` (pass, 4/4)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-string-semantics.forms EXPECTED=cases/replace-string-semantics.expected.tsv` (pass, 6/6)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/query-replace-batch-semantics.forms EXPECTED=cases/query-replace-batch-semantics.expected.tsv` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-query-case-fold-variable-semantics.forms EXPECTED=cases/replace-query-case-fold-variable-semantics.expected.tsv` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/case-replace-semantics.forms EXPECTED=cases/case-replace-semantics.expected.tsv` (pass, 14/14)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Extended `replace-lax-whitespace` to honor `search-whitespace-regexp` in evaluator paths:
  - when `replace-lax-whitespace=t`, whitespace runs in the search pattern are now expanded using dynamic/global `search-whitespace-regexp`
  - non-string `search-whitespace-regexp` now disables lax-regexp expansion for this path (oracle parity)
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/replace-lax-search-whitespace-semantics.forms`
    - `test/neovm/vm-compat/cases/replace-lax-search-whitespace-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-lax-search-whitespace-semantics.forms EXPECTED=cases/replace-lax-search-whitespace-semantics.expected.tsv` (pass, 4/4)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-lax-whitespace-semantics.forms EXPECTED=cases/replace-lax-whitespace-semantics.expected.tsv` (pass, 4/4)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/query-replace-batch-semantics.forms EXPECTED=cases/query-replace-batch-semantics.expected.tsv` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/replace-query-case-fold-variable-semantics.forms EXPECTED=cases/replace-query-case-fold-variable-semantics.expected.tsv` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Fixed `capitalize-word` multi-word range semantics and locked word-case command behavior:
  - `capitalize-word` now capitalizes each word across the selected range (including negative ARG ranges), matching oracle behavior
  - refactored shared word-capitalization logic for consistency with `capitalize-region`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/case-word-semantics.forms`
    - `test/neovm/vm-compat/cases/case-word-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `cargo test --manifest-path rust/neovm-core/Cargo.toml kill_ring::tests::capitalize_ -- --nocapture` (pass)
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/case-word-semantics.forms EXPECTED=cases/case-word-semantics.expected.tsv` (pass, 10/10)
    - `make -C test/neovm/vm-compat CASES='cases/case-region-optional-arg-semantics cases/command-dispatch-default-arg-semantics cases/case-word-semantics' check-neovm` (pass, 15/15)
- Aligned region case command read-only semantics with `buffer-read-only` variable state:
  - `downcase-region`, `upcase-region`, `capitalize-region`, and `upcase-initials-region` now signal `buffer-read-only` when dynamic/buffer-local/global `buffer-read-only` is non-nil
  - kept `upcase-word`/`downcase-word`/`capitalize-word` behavior unchanged for this axis (oracle parity)
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/case-region-read-only-semantics.forms`
    - `test/neovm/vm-compat/cases/case-region-read-only-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/case-region-read-only-semantics.forms EXPECTED=cases/case-region-read-only-semantics.expected.tsv` (pass, 5/5)
    - `make -C test/neovm/vm-compat CASES='cases/case-region-optional-arg-semantics cases/case-region-read-only-semantics cases/case-word-semantics cases/command-dispatch-default-arg-semantics' check-neovm` (pass, 15/15)
    - `make -C test/neovm/vm-compat check-all-neovm` (pass)
- Aligned `buffer-read-only` default/local variable semantics with oracle:
  - evaluator now predeclares `buffer-read-only` with default global value `nil`, marks it special, and marks it as auto-buffer-local
  - new buffers now seed an explicit local `buffer-read-only=nil` binding (matching oracle behavior for `local-variable-p` and `setq-default` interactions)
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/buffer-read-only-default-semantics.forms`
    - `test/neovm/vm-compat/cases/buffer-read-only-default-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-read-only-default-semantics` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-local-variables-semantics` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-locals` (pass, 9/9)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/defvar-local` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/setq-local` (pass, 4/4)
- Aligned core editing builtins with `buffer-read-only` variable semantics:
  - `insert`, `delete-region`, `delete-char`, and `erase-buffer` now honor dynamic/buffer-local/global `buffer-read-only` in addition to internal buffer read-only state
  - fixed dispatch-path inconsistency: `builtins.rs` and `editfns.rs` paths now enforce the same read-only gate
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/edit-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/edit-read-only-variable-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/edit-read-only-variable-semantics` (pass, 6/6)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/buffer-read-only-default-semantics` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/case-region-read-only-semantics` (pass, 5/5)
- Aligned indentation mutation paths with `buffer-read-only` variable semantics:
  - `move-to-column` (force path), `indent-region`, `indent-for-tab-command`, and `indent-according-to-mode` now honor dynamic/buffer-local/global `buffer-read-only` in addition to internal buffer read-only state
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/indent-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/indent-read-only-variable-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/indent-read-only-variable-semantics` (pass, 6/6)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/indent-mode-semantics` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/move-to-column-force-semantics` (pass, 6/6)
- Aligned replace mutation paths with `buffer-read-only` variable semantics:
  - `replace-string` and `replace-regexp` now evaluate dynamic/buffer-local/global `buffer-read-only` instead of only internal buffer read-only state
  - preserved no-op behavior when no replacements occur under read-only variable state
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/replace-read-only-variable-semantics.forms`
    - `test/neovm/vm-compat/cases/replace-read-only-variable-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/replace-read-only-variable-semantics` (pass, 5/5)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/replace-string-semantics` (pass, 6/6)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/replace-regexp-semantics` (pass, 8/8)
- Kept branch green with targeted Rust tests and vm-compat checks after each slice.
- Aligned `transpose-lines` negative-arg behavior with oracle for unterminated EOB buffers:
  - negative path now transposes only newline-terminated line units; trailing unterminated last line is excluded
  - fixed regression where `(transpose-lines -1)` at `point-max` in `\"a\\nb\"` incorrectly succeeded instead of signaling `error`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/transpose-lines-prefix-arg-semantics.forms`
    - `test/neovm/vm-compat/cases/transpose-lines-prefix-arg-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/transpose-lines-command-context-semantics` (pass, 8/8)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/transpose-lines-prefix-arg-semantics` (pass, 3/3)
    - `make -C test/neovm/vm-compat check-neovm-list LIST=cases/default.list` (pass)
- Added core `cxr` accessors and locked behavior with oracle corpus:
  - implemented pure builtins: `caar`, `cadr`, `cdar`, `cddr` with `car`/`cdr`-consistent arity and `wrong-type-argument` behavior
  - wired evaluator dispatch and builtin registry entries for parity in `fboundp`/introspection paths
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/cxr-semantics.forms`
    - `test/neovm/vm-compat/cases/cxr-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/cxr-semantics.forms EXPECTED=cases/cxr-semantics.expected.tsv` (pass, 11/11)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/fboundp-core` (pass, 4/4)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/member-assoc-semantics` (pass, 16/16)
- Extended `cxr` coverage with 3-level accessors and oracle lock-in:
  - implemented pure builtins: `caaar`, `caadr`, `cadar`, `caddr`, `cdaar`, `cdadr`, `cddar`, `cdddr`
  - refactored `cxr` execution through a shared `apply_cxr` helper to keep `car`/`cdr` error semantics consistent
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/cxr-3level-semantics.forms`
    - `test/neovm/vm-compat/cases/cxr-3level-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/cxr-3level-semantics.forms EXPECTED=cases/cxr-3level-semantics.expected.tsv` (pass, 11/11)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cxr-semantics` (pass, 11/11)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Aligned default `fboundp`/callability semantics for subr-x-only string helpers:
  - removed builtin exposure of `string-chop-newline`, `string-pad`, `string-fill`, and `string-limit` from default NeoVM dispatch/registry
  - this matches oracle default startup behavior (`fboundp` nil and direct call -> `void-function`) while keeping implementations internal for future explicit library-loading paths
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/subr-x-string-helper-availability.forms`
    - `test/neovm/vm-compat/cases/subr-x-string-helper-availability.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/subr-x-string-helper-availability.forms EXPECTED=cases/subr-x-string-helper-availability.expected.tsv` (pass, 8/8)
    - `NEOVM_ORACLE_EMACS=/nix/store/ha7zx1gahhj7lrx223m9rpwh89vbqq9z-emacs-git-with-packages-20240702.0/bin/emacs make -C test/neovm/vm-compat check-builtin-registry-fboundp` (pass; only allowlisted drift remains)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Added common 4-level `cxr` accessors and locked semantics with oracle corpus:
  - implemented pure builtins: `cadddr`, `cddddr`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/cxr-4level-common-semantics.forms`
    - `test/neovm/vm-compat/cases/cxr-4level-common-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/cxr-4level-common-semantics.forms EXPECTED=cases/cxr-4level-common-semantics.expected.tsv` (pass, 7/7)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cxr-3level-semantics` (pass, 11/11)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Extended 4-level `cxr` parity with a first batch of canonical accessors:
  - implemented pure builtins: `caaaar`, `caaadr`, `caadar`, `caaddr`, `cadaar`, `cadadr`, `caddar`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/cxr-4level-first-batch-semantics.forms`
    - `test/neovm/vm-compat/cases/cxr-4level-first-batch-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/cxr-4level-first-batch-semantics.forms EXPECTED=cases/cxr-4level-first-batch-semantics.expected.tsv` (pass, 10/10)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cxr-4level-common-semantics` (pass, 7/7)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Completed remaining 4-level `cxr` accessor coverage:
  - implemented pure builtins: `cdaaar`, `cdaadr`, `cdadar`, `cdaddr`, `cddaar`, `cddadr`, `cdddar`
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/cxr-4level-second-batch-semantics.forms`
    - `test/neovm/vm-compat/cases/cxr-4level-second-batch-semantics.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/cxr-4level-second-batch-semantics.forms EXPECTED=cases/cxr-4level-second-batch-semantics.expected.tsv` (pass, 11/11)
    - `make -C test/neovm/vm-compat check-one-neovm CASE=cases/cxr-4level-first-batch-semantics` (pass, 10/10)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)
- Added explicit availability lock for the full 4-level `cxr` surface:
  - new corpus asserts all 16 standard 4-level `cxr` names are `fboundp` by default
  - added and enabled oracle corpus:
    - `test/neovm/vm-compat/cases/cxr-4level-fboundp-availability.forms`
    - `test/neovm/vm-compat/cases/cxr-4level-fboundp-availability.expected.tsv`
    - `test/neovm/vm-compat/cases/default.list`
  - verified:
    - `make -C test/neovm/vm-compat check-neovm FORMS=cases/cxr-4level-fboundp-availability.forms EXPECTED=cases/cxr-4level-fboundp-availability.expected.tsv` (pass, 2/2)
    - `make -C test/neovm/vm-compat validate-case-lists` (pass)

## Doing

- Continue compatibility-first maintenance with small commit slices:
  - keep builtin surface and registry in lock-step
  - run oracle/parity checks after each behavior-affecting change
  - remove dead helper code that is not part of exposed compatibility surface
- Identify the next high-impact builtin still stubbed in NeoVM core and land it as a small implementation + oracle-corpus lock-in slice.
  - current focus: next evaluator-backed builtin with stubbed behavior in batch compatibility surface
- Reduce vm-compat operator friction for large case sets (small Makefile UX improvements).
  - added list-driven targets: `record-list`, `check-list`, `check-neovm-list` with `LIST=cases/<name>.list`

## Next

1. Keep `check-all-neovm` as a recurring post-slice gate (detect regressions before they batch up).
2. Land a minimal non-interactive subset for `query-replace` and `query-replace-regexp`, with explicit oracle lock-in.
3. Expand focused oracle corpora for remaining high-risk areas still carrying stubs (search/input/minibuffer/display edges).
4. Keep Rust backend behind compile-time switch and preserve Emacs C core as default backend.
